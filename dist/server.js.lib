[
  {
    "path": "node_modules/ulla-ecs/dist/src/index.js",
    "content": "!function(e,t){for(var n in t)e[n]=t[n]}(this,function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=8)}([function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});let n=0;t.log=function(...t){void 0!==e._log?e._log(...t):console.log(\"DEBUG:\",...t)},t.error=function(t,n){void 0!==e._error?e._error(t,n):console.error(\"ERROR:\",t,n)},t.newId=function(e){if(n++,0===e.length)throw new Error(\"newId(type: string): type cannot be empty\");return e+n.toString(36)},t.uuid=function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,(function(e){let t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)}))},t.buildArray=function(e,t){const n=[];for(let s=0;s<e;++s)n.push(t());return n}}).call(this,n(5))},function(e,t,n){\"use strict\";var s=this&&this.__decorate||function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(t,\"__esModule\",{value:!0});const o=n(0),i=n(2);let r=class{constructor(e,t,n){this.componentId=e,this.componentName=t,this.classId=n}};r=s([i.EventConstructor()],r),t.DisposableComponentCreated=r;let a=class{constructor(e){this.componentId=e}};a=s([i.EventConstructor()],a),t.DisposableComponentRemoved=a;let c=class{constructor(e,t){this.componentId=e,this.component=t}};function l(e,t){return function(n){if(n.isComponent)throw new TypeError(`You cannot extend a component. Trying to extend ${n.originalClassName} with: ${e}`);if(\"number\"!=typeof t||isNaN(t))throw new Error(`classId: ${t} is an invalid integer`);const s=n,i=function(){if(!l.engine)throw new Error(\"You need to set a DisposableComponent.engine before creating disposable components\");const n=Array.prototype.slice.call(arguments),i=new s(...n),r=o.newId(\"C\");return Object.defineProperty(i,\"__name__symbol_\",{enumerable:!1,writable:!1,configurable:!1,value:e}),Object.defineProperty(i,\"__component__id_\",{enumerable:!1,writable:!1,configurable:!1,value:r}),void 0!==t&&Object.defineProperty(i,\"__classId__symbol_\",{enumerable:!1,writable:!1,configurable:!1,value:t}),l.engine&&l.engine.registerComponent(i),i};return void 0!==t&&(i.__classId__symbol_=t),i.__name__symbol_=e,i.isComponent=!0,i.isDisposableComponent=!0,i.originalClassName=e,(i.prototype=n.prototype).constructor=n,i}}function u(e){if(!e)throw new TypeError(e+\" is not a component.\");if(e.__component__id_)return e.__component__id_;throw new TypeError(e+\" is not a registered disposable component.\")}c=s([i.EventConstructor()],c),t.DisposableComponentUpdated=c,t.Component=function(e,t){return function(n){if(n.isComponent)throw new TypeError(`You cannot extend a component. Trying to extend ${n.originalClassName} with: ${e}`);const s=n,o=function(){const n=Array.prototype.slice.call(arguments),o=new s(...n);return Object.defineProperty(o,\"__name__symbol_\",{enumerable:!1,writable:!1,configurable:!1,value:e}),void 0!==t&&Object.defineProperty(o,\"__classId__symbol_\",{enumerable:!1,writable:!1,configurable:!1,value:t}),o};return void 0!==t&&(o.__classId__symbol_=t),o.__name__symbol_=e,o.isComponent=!0,o.originalClassName=e,(o.prototype=n.prototype).constructor=n,o}},t.DisposableComponent=l,function(e){e.engine=null}(l=t.DisposableComponent||(t.DisposableComponent={})),t.getComponentName=function(e){if(!e)throw new TypeError(e+\" is not a component.\");if(e.__name__symbol_)return e.__name__symbol_;throw new TypeError(e+\" is not a registered component.\")},t.getComponentClassId=function(e){if(!e)throw new TypeError(e+\" is not a component.\");if(e.__classId__symbol_)return e.__classId__symbol_;if(!e.__name__symbol_)throw new TypeError(e+\" is not a registered component.\");return null},t.getComponentId=u;t.ObservableComponent=class{constructor(){this.dirty=!0,this.data={},this.subscriptions=[]}static component(e,t){const n=t+\"_\"+Math.random();e[n]=void 0,Object.defineProperty(e,n,{...Object.getOwnPropertyDescriptor(e,n),enumerable:!1}),Object.defineProperty(e,t.toString(),{get:function(){return this[n]},set:function(e){const s=this[n];if(this.data[t]=e?u(e):null,this[n]=e,e!==s){this.dirty=!0;for(let n=0;n<this.subscriptions.length;n++)this.subscriptions[n](t,e,s)}},enumerable:!0})}static field(e,t){Object.defineProperty(e,t.toString(),{get:function(){return this.data[t]},set:function(e){const n=this.data[t];if(this.data[t]=e,e!==n){this.dirty=!0;for(let s=0;s<this.subscriptions.length;s++)this.subscriptions[s](t,e,n)}},enumerable:!0})}static readonly(e,t){Object.defineProperty(e,t.toString(),{get:function(){if(!(t in this.data))throw new Error(`The field ${t} is uninitialized`);return this.data[t]},set:function(e){if(t in this.data)throw new Error(`The field ${t} is readonly`);this.data[t]=e,this.dirty=!0},enumerable:!0,configurable:!1})}onChange(e){return this.subscriptions.push(e),this}toJSON(){return this.data}},t.isDisposableComponent=function(e){return\"__component__id_\"in e}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(0),o=[];function i(e){if(!(\"__event_name__\"in e)||\"string\"!=typeof e.__event_name__)throw new Error(\"The EventConstructor is not registered\");return e.__event_name__}t.EventManager=class{constructor(){this.listeners={}}addListener(e,t,n){if(!e||\"function\"!=typeof e)throw new Error(\"Invalid EventConstructor\");const s=i(e);let o=this.listeners[s];o||(o=this.listeners[s]=[]);for(let e=0;e<o.length;e++){if(o[e].listener===t)throw new Error(\"The provided listener is already registered\")}return o.push({listener:t,fn:n}),this}removeListener(e,t){if(!t||\"function\"!=typeof t)throw new Error(\"Invalid EventConstructor\");const n=i(t);let s=this.listeners[n];if(!s)return!1;for(let t=0;t<s.length;t++){if(s[t].listener===e)return s.splice(t,1),!0}return!1}fireEvent(e){const t=i(e.constructor);let n=this.listeners[t];if(n)for(let t=0;t<n.length;t++)try{const s=n[t];s.fn.call(s.listener,e)}catch(e){s.error(e)}return this}},t.EventConstructor=function(){const e=s.newId(\"EV\");if(-1!==o.indexOf(e))throw new Error(`The event name ${e} is already taken`);return o.push(e),t=>(t.__event_name__=e,t)}},function(e,t,n){\"use strict\";var s=this&&this.__decorate||function(e,t,n,s){var o,i=arguments.length,r=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if(\"object\"==typeof Reflect&&\"function\"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(i<3?o(r):i>3?o(t,n,r):o(t,n))||r);return i>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(t,\"__esModule\",{value:!0});const o=n(2);let i=class{constructor(e,t,n){this.entity=e,this.componentName=t,this.component=n}};i=s([o.EventConstructor()],i),t.ComponentRemoved=i;let r=class{constructor(e,t,n){this.entity=e,this.componentName=t,this.classId=n}};r=s([o.EventConstructor()],r),t.ComponentAdded=r;let a=class{constructor(e,t){this.entity=e,this.parent=t}};a=s([o.EventConstructor()],a),t.ParentChanged=a},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(3),o=n(1),i=n(2),r=n(9),a=n(0);t.Engine=class{constructor(e){this.eventManager=new i.EventManager,this.systems=[],this.entityLists={},this.addedSystems=[],this._entities={},this._disposableComponents={},this._componentGroups={},this.simpleSystems=[],this.eventManager.addListener(s.ComponentAdded,this,this.componentAddedHandler),this.eventManager.addListener(s.ComponentRemoved,this,this.componentRemovedHandler),this.rootEntity=e}get entities(){return this._entities}get disposableComponents(){return this._disposableComponents}addEntity(e){const t=e.getParent();if(e.isAddedToEngine())return e;e.eventManager=this.eventManager,e.engine=this,this._entities[e.uuid]=e,this.checkRequirementsAndAdd(e),t?t.isAddedToEngine()||t===this.rootEntity||a.log(\"Engine: warning, added an entity with a parent not present in the engine. Parent id: \"+t.uuid):e.setParent(this.rootEntity),e.alive=!0;for(let t in e.children){const n=e.children[t];n&&(n.isAddedToEngine()||this.addEntity(n))}return e}removeEntity(e){const t=e.uuid;if(e.isAddedToEngine()){for(let n in e.components){const s=this._componentGroups[n];if(s)for(let t in s)s[t].removeEntity(e);delete this.entityLists[n][t]}for(let t=0;t<this.simpleSystems.length;t++){const n=this.simpleSystems[t];n.onRemoveEntity&&n.onRemoveEntity(e)}for(let t in e.children){const n=e.children[t];n&&this.removeEntity(n)}return e.alive=!1,e.eventManager=null,delete this._entities[t],!0}a.log(\"Engine: Trying to remove non existent entity from engine.\"),e.isAddedToEngine()?a.log(\"Engine: Entity id: \"+t):a.log(`Engine: Entity \"${e.uuid}\" has not been added to any engine yet.`),a.log(\"Engine: Entity's components:\");for(let t in e.components)a.log(t);return!1}addSystem(e,t=0){if(-1!==this.addedSystems.indexOf(e))return a.log(\"Engine: Trying to add a system that is already added. Aborting\"),e;if(this.systems.length>0)for(let n=0;n<this.systems.length;n++){const s=this.systems[n],o=n===this.systems.length-1;if(s.priority>t){this.addedSystems.push(e),this.systems.splice(n,0,{system:e,priority:t});break}if(o){this.addedSystems.push(e),this.systems.splice(n+1,0,{system:e,priority:t});break}}else this.addedSystems.push(e),this.systems.splice(1,0,{system:e,priority:t});return this.registerSystem(e),e}removeSystem(e){const t=this.addedSystems.indexOf(e);if(-1!==t){e.active=!1,e.deactivate&&e.deactivate(),this.addedSystems.splice(t,1);for(let t=0;t<this.systems.length;t++){this.systems[t].system===e&&this.systems.splice(t,1)}return!0}return!1}update(e){for(let t in this.systems){const n=this.systems[t].system;if(n.active&&n.update)try{n.update(e)}catch(e){a.error(e)}}return this}getEntitiesWithComponent(e){const t=\"string\"==typeof e?e:o.getComponentName(e);return t in this.entityLists?this.entityLists[t]:this.entityLists[t]={}}registerComponent(e){const t=o.getComponentId(e),n=o.getComponentName(e),s=o.getComponentClassId(e);this._disposableComponents[t]=e,null!==s&&(this.eventManager.fireEvent(new o.DisposableComponentCreated(t,n,s)),this.eventManager.fireEvent(new o.DisposableComponentUpdated(t,e)))}disposeComponent(e){const t=o.getComponentId(e);return delete this._disposableComponents[t]&&(this.eventManager.fireEvent(new o.DisposableComponentRemoved(t)),e.onDispose&&e.onDispose(),!0)}updateComponent(e){this.eventManager.fireEvent(new o.DisposableComponentUpdated(o.getComponentId(e),e))}getComponentGroup(e,...t){const n=\"object\"==typeof e?new r.ComponentGroup(e,...t):new r.ComponentGroup({},e,...t);n.active=!0;const s=n.requiresNames;for(let e=0;e<s.length;e++){const t=s[e];let o=this._componentGroups[t];o||(this._componentGroups[t]=o=[]),-1===o.indexOf(n)&&o.push(n)}for(let e in this._entities)this.checkRequirements(this._entities[e],n);return n}removeComponentGroup(e){if(e.active){e.active=!1;const t=e.requiresNames;for(let n=0;n<t.length;n++){const s=t[n];let o=this._componentGroups[s];if(o){const t=o.indexOf(e);-1!==t&&o.splice(t,1)}}return!0}return!1}registerSystem(e){e.active=!0,e.activate&&e.activate(this),this.simpleSystems.push(e)}checkRequirementsAndAdd(e){if(e.isAddedToEngine()){for(let t in e.components){t in this.entityLists||(this.entityLists[t]={}),this.entityLists[t][e.uuid]=e;const n=this._componentGroups[t];if(n)for(let t in n)this.checkRequirements(e,n[t])}for(let t=0;t<this.simpleSystems.length;t++){const n=this.simpleSystems[t];n.onAddEntity&&n.onAddEntity(e)}}}checkRequirements(e,t){t.meetsRequirements(e)?t.hasEntity(e)||t.addEntity(e):t.hasEntity(e)&&t.removeEntity(e)}componentAddedHandler(e){const{entity:t,componentName:n}=e;if(!t.isAddedToEngine())return;this.entityLists[n]?this.entityLists[n][t.uuid]=t:this.entityLists[n]={[t.uuid]:t};const s=this._componentGroups[n];if(s)for(let e in s)this.checkRequirements(t,s[e])}componentRemovedHandler(e){const{entity:t,componentName:n}=e;if(!t.isAddedToEngine())return;delete this.entityLists[n][t.uuid];const s=this._componentGroups[n];if(s)for(let e in s)this.checkRequirements(t,s[e])}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(e){\"object\"==typeof window&&(n=window)}e.exports=n},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(1),o=n(3),i=n(0);t.Entity=class{constructor(e){this.name=e,this.children={},this.eventManager=null,this.alive=!1,this.uuid=i.newId(\"E\"),this.components={},this.engine=null,this._parent=null}addComponentOrReplace(e){if(\"function\"==typeof e)throw new Error(\"You passed a function or class as a component, an instance of component is expected\");if(\"object\"!=typeof e)throw new Error(`You passed a ${typeof e}, an instance of component is expected`);const t=s.getComponentName(e);if(this.components[t]){if(this.components[t]===e)return e;this.removeComponent(this.components[t],!1)}return this.addComponent(e)}hasComponent(e){const t=typeof e;if(\"string\"!==t&&\"object\"!==t&&\"function\"!==t)throw new Error(\"Entity#has(component): component is not a class, name or instance\");if(null==e)return!1;const n=\"string\"===t?e:s.getComponentName(e),o=this.components[n];return!!o&&(\"object\"===t?o===e:\"function\"!==t||o instanceof e)}getComponent(e){const t=typeof e;if(\"string\"!==t&&\"function\"!==t)throw new Error(\"Entity#get(component): component is not a class or name\");const n=\"string\"===t?e:s.getComponentName(e),o=this.components[n];if(!o)throw new Error(`Can not get component \"${n}\" from entity \"${this.identifier}\"`);if(\"function\"===t){if(o instanceof e)return o;throw new Error(`Can not get component \"${n}\" from entity \"${this.identifier}\" (by instance)`)}return o}getComponentOrNull(e){const t=typeof e;if(\"string\"!==t&&\"function\"!==t)throw new Error(\"Entity#getOrNull(component): component is not a class or name\");const n=\"string\"===t?e:s.getComponentName(e),o=this.components[n];return o?\"function\"===t?o instanceof e?o:null:o:null}getComponentOrCreate(e){if(\"function\"!=typeof e)throw new Error(\"Entity#getOrCreate(component): component is not a class\");let t=this.getComponentOrNull(e);return t||(t=new e,s.getComponentName(t),this.addComponentOrReplace(t)),t}addComponent(e){if(\"object\"!=typeof e)throw new Error(\"Entity#add(component): You passed a function or class as a component, an instance of component is expected\");const t=s.getComponentName(e),n=s.getComponentClassId(e);if(this.components[t])throw new Error(`A component of type \"${t}\" is already present in entity \"${this.identifier}\"`);this.components[t]=e,this.eventManager&&this.eventManager.fireEvent(new o.ComponentAdded(this,t,n));const i=e;return\"function\"==typeof i.addedToEntity&&i.addedToEntity(this),e}removeComponent(e,t=!0){const n=typeof e;if(\"string\"!==n&&\"function\"!==n&&\"object\"!==n)throw new Error(\"Entity#remove(component): component is not a class, class or name\");const r=\"string\"===n?e:s.getComponentName(e),a=this.components[r];return!!a&&(\"function\"===n?a instanceof e?(delete this.components[r],a&&(t&&this.eventManager&&this.eventManager.fireEvent(new o.ComponentRemoved(this,r,a)),\"function\"==typeof a.removedFromEntity&&a.removedFromEntity(this)),!!a):(i.log(`Entity Warning: Trying to remove wrong (by constructor) component \"${r}\" from entity \"${this.identifier}\"`),!1):(delete this.components[r],a&&(t&&this.eventManager&&this.eventManager.fireEvent(new o.ComponentRemoved(this,r,a)),\"function\"==typeof a.removedFromEntity&&a.removedFromEntity(this)),!!a))}isAddedToEngine(){return!(!this.engine||!(this.uuid in this.engine.entities)&&this.engine.rootEntity!==this)}setParent(e){let t=!e&&this.engine?this.engine.rootEntity:e,n=this.getParent();if(t===this)throw new Error(`Failed to set parent for entity \"${this.identifier}\": An entity can't set itself as a its own parent`);if(t===n)return this;const s=this.getCircularAncestor(t);if(s)throw new Error(`Failed to set parent for entity \"${this.identifier}\": Circular parent references are not allowed (See entity \"${s}\")`);return n&&delete n.children[this.uuid],null!==t&&\"0\"!==t.uuid&&(!t.isAddedToEngine()&&this.isAddedToEngine()&&this.engine.removeEntity(this),t.isAddedToEngine()&&!this.isAddedToEngine()&&t.engine.addEntity(this)),this._parent=t||null,this.registerAsChild(),this.eventManager&&this.engine&&this.eventManager.fireEvent(new o.ParentChanged(this,t)),this}getParent(){return this._parent}get identifier(){return this.name||this.uuid}getCircularAncestor(e){const t=this.engine?this.engine.rootEntity:null;let n=e;for(;n&&n!==t;){const e=n.getParent();if(e===this)return n.uuid;n=e}return null}registerAsChild(){const e=this.getParent();this.uuid&&e&&(e.children[this.uuid]=this)}}},function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(0),o=new Promise(t=>{e.onStart?e.onStart(t):t()}),i=Promise.resolve().then.bind(o);t.executeTask=function(e){const t=i(e);return t.isComplete=!1,t.then(e=>{t.isComplete=!0,t.result=e,t.didFail=!1}).catch(e=>{t.isComplete=!0,t.error=e,t.didFail=!0,s.error(\"executeTask: FAILED \"+e.toString(),e)}),t}}).call(this,n(5))},function(e,t,n){\"use strict\";function s(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,\"__esModule\",{value:!0}),s(n(4)),s(n(1)),s(n(6)),s(n(3)),s(n(7)),s(n(0)),s(n(10)),s(n(2));const o=n(4),i=new(n(6).Entity)(\"scene\");i.uuid=\"0\";const r=new o.Engine(i);t.engine=r,n(1).DisposableComponent.engine=r},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(1);t.ComponentGroup=class{constructor(e,...t){if(this.options=e,this.entities=[],this.active=!1,this._requiresNames=[],!t)throw new Error(\"ComponentGroup: Could not load the requires list\");if(!(t instanceof Array))throw new Error(\"ComponentGroup: requires list is not an Array\");Object.defineProperty(this,\"requires\",{get:function(){return t.slice()}}),Object.defineProperty(this,\"requiresNames\",{get:function(){return this._requiresNames.slice()}});for(let e=0;e<t.length;e++){const n=t[e];let o=null;if(!n)throw new Error(`ComponentGroup: the required component at location ${e} is invalid`);try{o=s.getComponentName(n)}catch(t){throw new Error(`ComponentGroup: the required component at location ${e} is not registered as a @Component. Remember to provide the class of the component, not the name`)}if(this._requiresNames.some(e=>e===o))throw new Error(`ComponentGroup: the required component list has a repeated name ${o}`);this._requiresNames.push(o)}}hasEntity(e){return!!e.isAddedToEngine()&&-1!==this.entities.indexOf(e)}addEntity(e){if(!e.isAddedToEngine())throw new TypeError(\"ComponentGroup: Cannot add a entity that is not added to the engine\");-1===this.entities.indexOf(e)&&(this.entities.push(e),this.options.onAddEntity&&this.options.onAddEntity(e))}removeEntity(e){const t=this.entities.indexOf(e);-1!==t&&(this.entities.splice(t,1),this.options.onRemoveEntity&&this.options.onRemoveEntity(e))}componentRemoved(e,t){-1!==this._requiresNames.indexOf(t)&&this.removeEntity(e)}meetsRequirements(e){for(let t=0;t<this._requiresNames.length;t++){if(!(this._requiresNames[t]in e.components))return!1}return!0}}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const s=n(7);class o{constructor(e,t=!1,n,s){this.initalize(e,t,n,s)}initalize(e,t=!1,n,s){return this.mask=e,this.skipNextObservers=t,this.target=n,this.currentTarget=s,this}}t.ObserverEventState=o;class i{constructor(e,t,n=null){this.callback=e,this.mask=t,this.scope=n,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}}t.Observer=i;class r{constructor(){this._observers=null,this._observables=null}static Watch(e,t,n=-1,s=null){let o=new r;o._observers=new Array,o._observables=e;for(let i of e){let e=i.add(t,n,!1,s);e&&o._observers.push(e)}return o}dispose(){if(this._observers&&this._observables)for(let e=0;e<this._observers.length;e++)this._observables[e].remove(this._observers[e]);this._observers=null,this._observables=null}}t.MultiObserver=r;class a{constructor(e){this._observers=new Array,this._onObserverAdded=null,this._eventState=new o(0),e&&(this._onObserverAdded=e)}add(e,t=-1,n=!1,s=null,o=!1){if(!e)return null;let r=new i(e,t,s);return r.unregisterOnNextCall=o,n?this._observers.unshift(r):this._observers.push(r),this._onObserverAdded&&this._onObserverAdded(r),r}addOnce(e){return this.add(e,void 0,void 0,void 0,!0)}remove(e){if(!e)return!1;return-1!==this._observers.indexOf(e)&&(this._deferUnregister(e),!0)}removeCallback(e,t){for(let n=0;n<this._observers.length;n++)if(this._observers[n].callback===e&&(!t||t===this._observers[n].scope))return this._deferUnregister(this._observers[n]),!0;return!1}notifyObservers(e,t=-1,n,s){if(!this._observers.length)return!0;let o=this._eventState;o.mask=t,o.target=n,o.currentTarget=s,o.skipNextObservers=!1,o.lastReturnValue=e;for(let n of this._observers)if(!n._willBeUnregistered&&(n.mask&t&&(n.scope?o.lastReturnValue=n.callback.apply(n.scope,[e,o]):o.lastReturnValue=n.callback(e,o),n.unregisterOnNextCall&&this._deferUnregister(n)),o.skipNextObservers))return!1;return!0}notifyObserversWithPromise(e,t=-1,n,s){let o=Promise.resolve(e);if(!this._observers.length)return o;let i=this._eventState;return i.mask=t,i.target=n,i.currentTarget=s,i.skipNextObservers=!1,this._observers.forEach(n=>{i.skipNextObservers||n._willBeUnregistered||n.mask&t&&(o=n.scope?o.then(t=>(i.lastReturnValue=t,n.callback.apply(n.scope,[e,i]))):o.then(t=>(i.lastReturnValue=t,n.callback(e,i))),n.unregisterOnNextCall&&this._deferUnregister(n))}),o.then(()=>e)}notifyObserver(e,t,n=-1){let s=this._eventState;s.mask=n,s.skipNextObservers=!1,e.callback(t,s)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let e=new a;return e._observers=this._observers.slice(0),e}hasSpecificMask(e=-1){for(let t of this._observers)if(t.mask&e||t.mask===e)return!0;return!1}_deferUnregister(e){e.unregisterOnNextCall=!1,e._willBeUnregistered=!0,s.executeTask(async()=>this._remove(e))}_remove(e){if(!e)return!1;let t=this._observers.indexOf(e);return-1!==t&&(this._observers.splice(t,1),!0)}}t.Observable=a}]));"
  },
  {
    "path": "node_modules/ulla-ecs/artifacts/amd.js",
    "content": "\"use strict\";\n// A naive attempt at getting the global `this`. Don’t use this!\nconst getGlobalThis = function () {\n    if (typeof globalThis !== \"undefined\")\n        return globalThis;\n    if (typeof self !== \"undefined\")\n        return self;\n    if (typeof window !== \"undefined\")\n        return window;\n    if (typeof global !== \"undefined\")\n        return global;\n    // Note: this might still return the wrong result!\n    if (typeof this !== \"undefined\")\n        return this;\n    throw new Error(\"Unable to locate global `this`\");\n};\nconst globalObject = getGlobalThis();\nif (!(\"global\" in globalObject)) {\n    globalObject.global = global;\n}\nvar loader;\n(function (loader) {\n    \"use strict\";\n    const MODULE_LOADING = 1;\n    const MODULE_READY = 2;\n    const settings = {\n        baseUrl: \"\",\n    };\n    let unnamedModules = 0;\n    const registeredModules = {};\n    function config(config) {\n        if (typeof config === \"object\") {\n            for (let x in config) {\n                if (config.hasOwnProperty(x)) {\n                    settings[x] = config[x];\n                }\n            }\n        }\n    }\n    loader.config = config;\n    function define(first, second, third) {\n        let moduleToLoad = null;\n        let factory = {};\n        let dependencies = null;\n        if (typeof first === \"function\") {\n            factory = first;\n        }\n        else if (typeof first === \"string\") {\n            moduleToLoad = first;\n            if (typeof second === \"function\") {\n                factory = second;\n            }\n            else if (second instanceof Array) {\n                dependencies = second;\n                factory = third;\n            }\n        }\n        dependencies = dependencies || [\"require\", \"exports\", \"module\"];\n        if (moduleToLoad === null) {\n            moduleToLoad = `unnamed-module-${unnamedModules++}`;\n        }\n        function ready(...deps) {\n            const module = registeredModules[moduleToLoad];\n            if (!module)\n                throw new Error(\"Could not access registered module \" + moduleToLoad);\n            let exports = module.exports;\n            exports =\n                typeof factory === \"function\"\n                    ? factory.apply(globalObject, deps) || exports\n                    : factory;\n            module.exports = exports;\n            moduleReady(moduleToLoad);\n        }\n        if (!registeredModules[moduleToLoad]) {\n            registeredModules[moduleToLoad] = {\n                name: moduleToLoad,\n                parent: null,\n                dclamd: MODULE_LOADING,\n                dependencies,\n                handlers: [],\n                exports: {},\n                dependants: new Set(),\n            };\n        }\n        require(dependencies || [], ready, (err) => {\n            throw err;\n        }, moduleToLoad);\n    }\n    loader.define = define;\n    function moduleReady(moduleName) {\n        const module = registeredModules[moduleName];\n        if (!module)\n            throw new Error(\"Could not access registered module \" + moduleName);\n        module.dclamd = MODULE_READY;\n        let handlers = module.handlers;\n        if (handlers && handlers.length) {\n            for (let x = 0; x < handlers.length; x++) {\n                handlers[x](registeredModules[moduleName]);\n            }\n        }\n    }\n    (function (define) {\n        define.amd = {};\n    })(define = loader.define || (loader.define = {}));\n    function require(dependencies, callback, errorCallback, parentModule) {\n        let dependenciesResults = new Array(dependencies.length).fill(null);\n        let loadedCount = 0;\n        let hasLoaded = false;\n        if (typeof dependencies === \"string\") {\n            if (registeredModules[dependencies]) {\n                if (registeredModules[dependencies].dclamd === MODULE_LOADING) {\n                    throw new Error(`Trying to load ${dependencies} from ${parentModule}. The first module is still loading.`);\n                }\n                return registeredModules[dependencies];\n            }\n            throw new Error(dependencies +\n                \" has not been defined. Please include it as a dependency in \" +\n                parentModule +\n                \"'s define()\");\n        }\n        const depsLength = dependencies.length;\n        for (let index = 0; index < depsLength; index++) {\n            switch (dependencies[index]) {\n                case \"require\":\n                    let _require = function (new_module, callback, errorCallback) {\n                        return require(new_module, callback, errorCallback, parentModule);\n                    };\n                    _require.toUrl = function (module) {\n                        return toUrl(module, parentModule);\n                    };\n                    dependenciesResults[index] = _require;\n                    loadedCount++;\n                    break;\n                case \"exports\":\n                    if (!registeredModules[parentModule]) {\n                        throw new Error(\"Parent module \" + parentModule + \" not registered yet\");\n                    }\n                    dependenciesResults[index] = registeredModules[parentModule].exports;\n                    loadedCount++;\n                    break;\n                case \"module\":\n                    dependenciesResults[index] = {\n                        id: parentModule,\n                        uri: toUrl(parentModule),\n                    };\n                    loadedCount++;\n                    break;\n                default:\n                    load(dependencies[index], (loadedModule) => {\n                        dependenciesResults[index] = loadedModule.exports;\n                        loadedCount++;\n                        if (loadedCount === depsLength && callback) {\n                            hasLoaded = true;\n                            callback.apply(null, dependenciesResults);\n                        }\n                    }, errorCallback, parentModule);\n            }\n        }\n        if (!hasLoaded && loadedCount === depsLength && callback) {\n            callback.apply(null, dependenciesResults);\n        }\n    }\n    loader.require = require;\n    function createMethodHandler(rpcHandle, method) {\n        return function () {\n            return callRpc(rpcHandle, method.name, [].slice.call(arguments, 0));\n        };\n    }\n    function load(moduleName, callback, errorCallback, parentModule) {\n        moduleName = parentModule ? toUrl(moduleName, parentModule) : moduleName;\n        if (registeredModules[moduleName]) {\n            registeredModules[moduleName].dependants.add(parentModule);\n            if (registeredModules[moduleName].dclamd === MODULE_LOADING) {\n                callback && registeredModules[moduleName].handlers.push(callback);\n            }\n            else {\n                callback && callback(registeredModules[moduleName]);\n            }\n            return;\n        }\n        else {\n            registeredModules[moduleName] = {\n                name: moduleName,\n                parent: parentModule,\n                dclamd: MODULE_LOADING,\n                handlers: [callback],\n                dependencies: [],\n                dependants: new Set([parentModule]),\n                exports: {},\n            };\n        }\n        if (moduleName.indexOf(\"@\") === 0) {\n            let exports = registeredModules[moduleName].exports;\n            if (typeof loadModule === \"function\") {\n                loadModule(moduleName, exports)\n                    .then((descriptor) => {\n                    for (let i in descriptor.methods) {\n                        const method = descriptor.methods[i];\n                        exports[method.name] = createMethodHandler(descriptor.rpcHandle, method);\n                    }\n                    moduleReady(moduleName);\n                })\n                    .catch((e) => {\n                    errorCallback(e);\n                });\n            }\n            else {\n                throw new Error(\"Asynchronous modules will not work because loadModule function is not present\");\n            }\n        }\n    }\n    if (typeof onStart !== \"undefined\") {\n        onStart(() => {\n            const unknownModules = new Set();\n            const notLoadedModules = [];\n            for (let i in registeredModules) {\n                if (registeredModules[i]) {\n                    if (registeredModules[i].dclamd === MODULE_LOADING) {\n                        notLoadedModules.push(registeredModules[i]);\n                    }\n                    registeredModules[i].dependencies.forEach(($) => {\n                        if ($ == \"require\" || $ == \"exports\" || $ == \"module\")\n                            return;\n                        if (!registeredModules[$])\n                            unknownModules.add($);\n                    });\n                }\n            }\n            const errorParts = [];\n            if (unknownModules.size) {\n                errorParts.push(`\\n- Undeclared/unknown modules: ${Array.from(unknownModules)\n                    .map(($) => \"\\n  \" + $)\n                    .join(\"\")}`);\n            }\n            if (notLoadedModules.length) {\n                errorParts.push(`\\n- These modules didn't load: ${notLoadedModules\n                    .map(($) => \"\\n  \" + $.name)\n                    .join(\"\")}. Please check circular dependencies.`);\n            }\n            if (errorParts.length) {\n                throw new Error(errorParts.join(\"\\n\"));\n            }\n        });\n    }\n    function toUrl(id, context) {\n        let changed = false;\n        switch (id) {\n            case \"require\":\n            case \"exports\":\n            case \"module\":\n                return id;\n        }\n        const newContext = (context || settings.baseUrl).split(\"/\");\n        newContext.pop();\n        const idParts = id.split(\"/\");\n        let i = idParts.length;\n        while (--i) {\n            switch (id[0]) {\n                case \"..\":\n                    newContext.pop();\n                case \".\":\n                case \"\":\n                    idParts.shift();\n                    changed = true;\n            }\n        }\n        return ((newContext.length && changed ? newContext.join(\"/\") + \"/\" : \"\") +\n            idParts.join(\"/\"));\n    }\n    require.toUrl = toUrl;\n})(loader || (loader = {}));\nglobalObject.define = loader.define;\nglobalObject.dclamd = loader;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1kLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2FtZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBaUNBLGdFQUFnRTtBQUNoRSxNQUFNLGFBQWEsR0FBRztJQUNwQixJQUFJLE9BQU8sVUFBVSxLQUFLLFdBQVc7UUFBRSxPQUFPLFVBQVUsQ0FBQztJQUN6RCxJQUFJLE9BQU8sSUFBSSxLQUFLLFdBQVc7UUFBRSxPQUFPLElBQUksQ0FBQztJQUM3QyxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVc7UUFBRSxPQUFPLE1BQU0sQ0FBQztJQUNqRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVc7UUFBRSxPQUFPLE1BQU0sQ0FBQztJQUNqRCxrREFBa0Q7SUFDbEQsSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFDN0MsTUFBTSxJQUFJLEtBQUssQ0FBQyxnQ0FBZ0MsQ0FBQyxDQUFDO0FBQ3BELENBQUMsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFJLGFBQXFCLEVBQUUsQ0FBQztBQUU5QyxJQUFJLENBQUMsQ0FBQyxRQUFRLElBQUksWUFBWSxDQUFDLEVBQUU7SUFDL0IsWUFBWSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDOUI7QUFFRCxJQUFVLE1BQU0sQ0E0VWY7QUE1VUQsV0FBVSxNQUFNO0lBQ2QsWUFBWSxDQUFDO0lBRWIsTUFBTSxjQUFjLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQztJQUV2QixNQUFNLFFBQVEsR0FBRztRQUNmLE9BQU8sRUFBRSxFQUFFO0tBQ1osQ0FBQztJQUVGLElBQUksY0FBYyxHQUFHLENBQUMsQ0FBQztJQUV2QixNQUFNLGlCQUFpQixHQUEyQixFQUFFLENBQUM7SUFFckQsU0FBZ0IsTUFBTSxDQUFDLE1BQTJCO1FBQ2hELElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFO1lBQzlCLEtBQUssSUFBSSxDQUFDLElBQUks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QU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDaEIsT0FBTyxHQUFHLElBQUksQ0FBQzthQUNsQjtTQUNGO1FBQ0QsT0FBTyxDQUNMLENBQUMsVUFBVSxDQUFDLE1BQU0sSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDaEUsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FDbEIsQ0FBQztJQUNKLENBQUM7SUFFRCxPQUFPLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUN4QixDQUFDLEVBNVVTLE1BQU0sS0FBTixNQUFNLFFBNFVmO0FBRUEsWUFBb0IsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUM1QyxZQUFvQixDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIE1vZHVsZURlc2NyaXB0b3IgPSB7XG4gIHJwY0hhbmRsZTogc3RyaW5nO1xuICBtZXRob2RzOiBNZXRob2REZXNjcmlwdG9yW107XG59O1xuXG50eXBlIE1ldGhvZERlc2NyaXB0b3IgPSB7IG5hbWU6IHN0cmluZyB9O1xuXG5kZWNsYXJlIGZ1bmN0aW9uIGxvYWRNb2R1bGUoXG4gIG1vZHVsZU5hbWU6IHN0cmluZyxcbiAgZXhwb3J0czogYW55XG4pOiBQcm9taXNlPE1vZHVsZURlc2NyaXB0b3I+O1xuZGVjbGFyZSBmdW5jdGlvbiBjYWxsUnBjKFxuICBtb2R1bGVIYW5kbGU6IHN0cmluZyxcbiAgbWV0aG9kTmFtZTogc3RyaW5nLFxuICBhcmdzOiBBcnJheUxpa2U8YW55PlxuKTogUHJvbWlzZTxhbnk+O1xuZGVjbGFyZSBmdW5jdGlvbiBvblN0YXJ0KGNiOiBGdW5jdGlvbik6IHZvaWQ7XG5cbnR5cGUgTW9kdWxlID0ge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRjbGFtZDogMSB8IDI7XG4gIHBhcmVudDogc3RyaW5nIHwgbnVsbDtcbiAgZGVwZW5kYW50czogU2V0PHN0cmluZz47XG4gIGRlcGVuZGVuY2llczogQXJyYXk8c3RyaW5nPjtcbiAgaGFuZGxlcnM6IE1vZHVsZUxvYWRlZEhhbmRsZXJbXTtcbiAgZXhwb3J0czogYW55O1xufTtcblxudHlwZSBNb2R1bGVMb2FkZWRIYW5kbGVyID0gKG1vZHVsZTogTW9kdWxlKSA9PiB2b2lkO1xuXG5kZWNsYXJlIHZhciBzZWxmOiBhbnk7XG5kZWNsYXJlIHZhciB3aW5kb3c6IGFueTtcblxuLy8gQSBuYWl2ZSBhdHRlbXB0IGF0IGdldHRpbmcgdGhlIGdsb2JhbCBgdGhpc2AuIERvbuKAmXQgdXNlIHRoaXMhXG5jb25zdCBnZXRHbG9iYWxUaGlzID0gZnVuY3Rpb24gKHRoaXM6IHR5cGVvZiBnbG9iYWxUaGlzKSB7XG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIHNlbGY7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gd2luZG93O1xuICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGdsb2JhbDtcbiAgLy8gTm90ZTogdGhpcyBtaWdodCBzdGlsbCByZXR1cm4gdGhlIHdyb25nIHJlc3VsdCFcbiAgaWYgKHR5cGVvZiB0aGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gdGhpcztcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgYHRoaXNgXCIpO1xufTtcblxuY29uc3QgZ2xvYmFsT2JqZWN0ID0gKGdldEdsb2JhbFRoaXMgYXMgYW55KSgpO1xuXG5pZiAoIShcImdsb2JhbFwiIGluIGdsb2JhbE9iamVjdCkpIHtcbiAgZ2xvYmFsT2JqZWN0Lmdsb2JhbCA9IGdsb2JhbDtcbn1cblxubmFtZXNwYWNlIGxvYWRlciB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGNvbnN0IE1PRFVMRV9MT0FESU5HID0gMTtcbiAgY29uc3QgTU9EVUxFX1JFQURZID0gMjtcblxuICBjb25zdCBzZXR0aW5ncyA9IHtcbiAgICBiYXNlVXJsOiBcIlwiLFxuICB9O1xuXG4gIGxldCB1bm5hbWVkTW9kdWxlcyA9IDA7XG5cbiAgY29uc3QgcmVnaXN0ZXJlZE1vZHVsZXM6IFJlY29yZDxzdHJpbmcsIE1vZHVsZT4gPSB7fTtcblxuICBleHBvcnQgZnVuY3Rpb24gY29uZmlnKGNvbmZpZzogUmVjb3JkPHN0cmluZywgYW55Pikge1xuICAgIGlmICh0eXBlb2YgY29uZmlnID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBmb3IgKGxldCB4IGluIGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLmhhc093blByb3BlcnR5KHgpKSB7XG4gICAgICAgICAgKHNldHRpbmdzIGFzIGFueSlbeF0gPSBjb25maWdbeF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gZGVmaW5lKGZhY3Rvcnk6IEZ1bmN0aW9uKTogdm9pZDtcbiAgZXhwb3J0IGZ1bmN0aW9uIGRlZmluZShpZDogc3RyaW5nLCBmYWN0b3J5OiBGdW5jdGlvbik6IHZvaWQ7XG4gIGV4cG9ydCBmdW5jdGlvbiBkZWZpbmUoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBkZXBlbmRlbmNpZXM6IHN0cmluZ1tdLFxuICAgIGZhY3Rvcnk6IEZ1bmN0aW9uXG4gICk6IHZvaWQ7XG4gIGV4cG9ydCBmdW5jdGlvbiBkZWZpbmUoXG4gICAgZmlyc3Q6IHN0cmluZyB8IEZ1bmN0aW9uLFxuICAgIHNlY29uZD86IHN0cmluZ1tdIHwgc3RyaW5nIHwgRnVuY3Rpb24sXG4gICAgdGhpcmQ/OiBGdW5jdGlvbiB8IG9iamVjdFxuICApOiB2b2lkIHtcbiAgICBsZXQgbW9kdWxlVG9Mb2FkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICBsZXQgZmFjdG9yeTogRnVuY3Rpb24gfCBvYmplY3QgPSB7fTtcbiAgICBsZXQgZGVwZW5kZW5jaWVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuXG4gICAgaWYgKHR5cGVvZiBmaXJzdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBmYWN0b3J5ID0gZmlyc3Q7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZmlyc3QgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZVRvTG9hZCA9IGZpcnN0O1xuXG4gICAgICBpZiAodHlwZW9mIHNlY29uZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGZhY3RvcnkgPSBzZWNvbmQ7XG4gICAgICB9IGVsc2UgaWYgKHNlY29uZCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGRlcGVuZGVuY2llcyA9IHNlY29uZDtcbiAgICAgICAgZmFjdG9yeSA9IHRoaXJkITtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXMgfHwgW1wicmVxdWlyZVwiLCBcImV4cG9ydHNcIiwgXCJtb2R1bGVcIl07XG5cbiAgICBpZiAobW9kdWxlVG9Mb2FkID09PSBudWxsKSB7XG4gICAgICBtb2R1bGVUb0xvYWQgPSBgdW5uYW1lZC1tb2R1bGUtJHt1bm5hbWVkTW9kdWxlcysrfWA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZHkoLi4uZGVwczogYW55W10pIHtcbiAgICAgIGNvbnN0IG1vZHVsZSA9IHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZVRvTG9hZCFdO1xuXG4gICAgICBpZiAoIW1vZHVsZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGFjY2VzcyByZWdpc3RlcmVkIG1vZHVsZSBcIiArIG1vZHVsZVRvTG9hZCk7XG5cbiAgICAgIGxldCBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHM7XG5cbiAgICAgIGV4cG9ydHMgPVxuICAgICAgICB0eXBlb2YgZmFjdG9yeSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBmYWN0b3J5LmFwcGx5KGdsb2JhbE9iamVjdCwgZGVwcykgfHwgZXhwb3J0c1xuICAgICAgICAgIDogZmFjdG9yeTtcblxuICAgICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuXG4gICAgICBtb2R1bGVSZWFkeShtb2R1bGVUb0xvYWQhKTtcbiAgICB9XG5cbiAgICBpZiAoIXJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZVRvTG9hZCFdKSB7XG4gICAgICByZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVUb0xvYWQhXSA9IHtcbiAgICAgICAgbmFtZTogbW9kdWxlVG9Mb2FkISxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICBkY2xhbWQ6IE1PRFVMRV9MT0FESU5HLFxuICAgICAgICBkZXBlbmRlbmNpZXMsXG4gICAgICAgIGhhbmRsZXJzOiBbXSxcbiAgICAgICAgZXhwb3J0czoge30sXG4gICAgICAgIGRlcGVuZGFudHM6IG5ldyBTZXQoKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmVxdWlyZShkZXBlbmRlbmNpZXMgfHwgW10sIHJlYWR5LCAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0sIG1vZHVsZVRvTG9hZCEpO1xuICB9XG5cbiAgZnVuY3Rpb24gbW9kdWxlUmVhZHkobW9kdWxlTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgbW9kdWxlID0gcmVnaXN0ZXJlZE1vZHVsZXNbbW9kdWxlTmFtZV07XG5cbiAgICBpZiAoIW1vZHVsZSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBhY2Nlc3MgcmVnaXN0ZXJlZCBtb2R1bGUgXCIgKyBtb2R1bGVOYW1lKTtcblxuICAgIG1vZHVsZS5kY2xhbWQgPSBNT0RVTEVfUkVBRFk7XG5cbiAgICBsZXQgaGFuZGxlcnM6IE1vZHVsZUxvYWRlZEhhbmRsZXJbXSA9IG1vZHVsZS5oYW5kbGVycztcblxuICAgIGlmIChoYW5kbGVycyAmJiBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgaGFuZGxlcnMubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgaGFuZGxlcnNbeF0ocmVnaXN0ZXJlZE1vZHVsZXNbbW9kdWxlTmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBuYW1lc3BhY2UgZGVmaW5lIHtcbiAgICBleHBvcnQgY29uc3QgYW1kID0ge307XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gcmVxdWlyZShcbiAgICBkZXBlbmRlbmNpZXM6IHN0cmluZyB8IHN0cmluZ1tdLFxuICAgIGNhbGxiYWNrOiBGdW5jdGlvbixcbiAgICBlcnJvckNhbGxiYWNrOiBGdW5jdGlvbixcbiAgICBwYXJlbnRNb2R1bGU6IHN0cmluZ1xuICApIHtcbiAgICBsZXQgZGVwZW5kZW5jaWVzUmVzdWx0czogYW55W10gPSBuZXcgQXJyYXkoZGVwZW5kZW5jaWVzLmxlbmd0aCkuZmlsbChudWxsKTtcbiAgICBsZXQgbG9hZGVkQ291bnQgPSAwO1xuICAgIGxldCBoYXNMb2FkZWQgPSBmYWxzZTtcblxuICAgIGlmICh0eXBlb2YgZGVwZW5kZW5jaWVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAocmVnaXN0ZXJlZE1vZHVsZXNbZGVwZW5kZW5jaWVzXSkge1xuICAgICAgICBpZiAocmVnaXN0ZXJlZE1vZHVsZXNbZGVwZW5kZW5jaWVzXS5kY2xhbWQgPT09IE1PRFVMRV9MT0FESU5HKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFRyeWluZyB0byBsb2FkICR7ZGVwZW5kZW5jaWVzfSBmcm9tICR7cGFyZW50TW9kdWxlfS4gVGhlIGZpcnN0IG1vZHVsZSBpcyBzdGlsbCBsb2FkaW5nLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWdpc3RlcmVkTW9kdWxlc1tkZXBlbmRlbmNpZXNdO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBkZXBlbmRlbmNpZXMgK1xuICAgICAgICAgIFwiIGhhcyBub3QgYmVlbiBkZWZpbmVkLiBQbGVhc2UgaW5jbHVkZSBpdCBhcyBhIGRlcGVuZGVuY3kgaW4gXCIgK1xuICAgICAgICAgIHBhcmVudE1vZHVsZSArXG4gICAgICAgICAgXCIncyBkZWZpbmUoKVwiXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGRlcHNMZW5ndGggPSBkZXBlbmRlbmNpZXMubGVuZ3RoO1xuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGRlcHNMZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHN3aXRjaCAoZGVwZW5kZW5jaWVzW2luZGV4XSkge1xuICAgICAgICBjYXNlIFwicmVxdWlyZVwiOlxuICAgICAgICAgIGxldCBfcmVxdWlyZTogdHlwZW9mIHJlcXVpcmUgPSBmdW5jdGlvbiAoXG4gICAgICAgICAgICBuZXdfbW9kdWxlOiBzdHJpbmcgfCBzdHJpbmdbXSxcbiAgICAgICAgICAgIGNhbGxiYWNrOiBGdW5jdGlvbixcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2s6IEZ1bmN0aW9uXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWlyZShuZXdfbW9kdWxlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgcGFyZW50TW9kdWxlKTtcbiAgICAgICAgICB9IGFzIGFueTtcbiAgICAgICAgICBfcmVxdWlyZS50b1VybCA9IGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0b1VybChtb2R1bGUsIHBhcmVudE1vZHVsZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBkZXBlbmRlbmNpZXNSZXN1bHRzW2luZGV4XSA9IF9yZXF1aXJlO1xuICAgICAgICAgIGxvYWRlZENvdW50Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJleHBvcnRzXCI6XG4gICAgICAgICAgaWYgKCFyZWdpc3RlcmVkTW9kdWxlc1twYXJlbnRNb2R1bGVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIFwiUGFyZW50IG1vZHVsZSBcIiArIHBhcmVudE1vZHVsZSArIFwiIG5vdCByZWdpc3RlcmVkIHlldFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGRlcGVuZGVuY2llc1Jlc3VsdHNbaW5kZXhdID0gcmVnaXN0ZXJlZE1vZHVsZXNbcGFyZW50TW9kdWxlXS5leHBvcnRzO1xuICAgICAgICAgIGxvYWRlZENvdW50Kys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb2R1bGVcIjpcbiAgICAgICAgICBkZXBlbmRlbmNpZXNSZXN1bHRzW2luZGV4XSA9IHtcbiAgICAgICAgICAgIGlkOiBwYXJlbnRNb2R1bGUsXG4gICAgICAgICAgICB1cmk6IHRvVXJsKHBhcmVudE1vZHVsZSksXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsb2FkZWRDb3VudCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxvYWQoXG4gICAgICAgICAgICBkZXBlbmRlbmNpZXNbaW5kZXhdLFxuICAgICAgICAgICAgKGxvYWRlZE1vZHVsZSkgPT4ge1xuICAgICAgICAgICAgICBkZXBlbmRlbmNpZXNSZXN1bHRzW2luZGV4XSA9IGxvYWRlZE1vZHVsZS5leHBvcnRzO1xuICAgICAgICAgICAgICBsb2FkZWRDb3VudCsrO1xuICAgICAgICAgICAgICBpZiAobG9hZGVkQ291bnQgPT09IGRlcHNMZW5ndGggJiYgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBoYXNMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGRlcGVuZGVuY2llc1Jlc3VsdHMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayxcbiAgICAgICAgICAgIHBhcmVudE1vZHVsZVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFoYXNMb2FkZWQgJiYgbG9hZGVkQ291bnQgPT09IGRlcHNMZW5ndGggJiYgY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIGRlcGVuZGVuY2llc1Jlc3VsdHMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZU1ldGhvZEhhbmRsZXIocnBjSGFuZGxlOiBzdHJpbmcsIG1ldGhvZDogTWV0aG9kRGVzY3JpcHRvcikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2FsbFJwYyhycGNIYW5kbGUsIG1ldGhvZC5uYW1lLCBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkKFxuICAgIG1vZHVsZU5hbWU6IHN0cmluZyxcbiAgICBjYWxsYmFjazogTW9kdWxlTG9hZGVkSGFuZGxlcixcbiAgICBlcnJvckNhbGxiYWNrOiBGdW5jdGlvbixcbiAgICBwYXJlbnRNb2R1bGU6IHN0cmluZ1xuICApIHtcbiAgICBtb2R1bGVOYW1lID0gcGFyZW50TW9kdWxlID8gdG9VcmwobW9kdWxlTmFtZSwgcGFyZW50TW9kdWxlKSA6IG1vZHVsZU5hbWU7XG5cbiAgICBpZiAocmVnaXN0ZXJlZE1vZHVsZXNbbW9kdWxlTmFtZV0pIHtcbiAgICAgIHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZU5hbWVdLmRlcGVuZGFudHMuYWRkKHBhcmVudE1vZHVsZSk7XG5cbiAgICAgIGlmIChyZWdpc3RlcmVkTW9kdWxlc1ttb2R1bGVOYW1lXS5kY2xhbWQgPT09IE1PRFVMRV9MT0FESU5HKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZU5hbWVdLmhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVnaXN0ZXJlZE1vZHVsZXNbbW9kdWxlTmFtZV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlZ2lzdGVyZWRNb2R1bGVzW21vZHVsZU5hbWVdID0ge1xuICAgICAgICBuYW1lOiBtb2R1bGVOYW1lLFxuICAgICAgICBwYXJlbnQ6IHBhcmVudE1vZHVsZSxcbiAgICAgICAgZGNsYW1kOiBNT0RVTEVfTE9BRElORyxcbiAgICAgICAgaGFuZGxlcnM6IFtjYWxsYmFja10sXG4gICAgICAgIGRlcGVuZGVuY2llczogW10sXG4gICAgICAgIGRlcGVuZGFudHM6IG5ldyBTZXQoW3BhcmVudE1vZHVsZV0pLFxuICAgICAgICBleHBvcnRzOiB7fSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZihcIkBcIikgPT09IDApIHtcbiAgICAgIGxldCBleHBvcnRzID0gcmVnaXN0ZXJlZE1vZHVsZXNbbW9kdWxlTmFtZV0uZXhwb3J0cztcbiAgICAgIGlmICh0eXBlb2YgbG9hZE1vZHVsZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGxvYWRNb2R1bGUobW9kdWxlTmFtZSwgZXhwb3J0cylcbiAgICAgICAgICAudGhlbigoZGVzY3JpcHRvcjogTW9kdWxlRGVzY3JpcHRvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiBkZXNjcmlwdG9yLm1ldGhvZHMpIHtcbiAgICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gZGVzY3JpcHRvci5tZXRob2RzW2ldO1xuICAgICAgICAgICAgICBleHBvcnRzW21ldGhvZC5uYW1lXSA9IGNyZWF0ZU1ldGhvZEhhbmRsZXIoXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvci5ycGNIYW5kbGUsXG4gICAgICAgICAgICAgICAgbWV0aG9kXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZHVsZVJlYWR5KG1vZHVsZU5hbWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soZSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJBc3luY2hyb25vdXMgbW9kdWxlcyB3aWxsIG5vdCB3b3JrIGJlY2F1c2UgbG9hZE1vZHVsZSBmdW5jdGlvbiBpcyBub3QgcHJlc2VudFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiBvblN0YXJ0ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgb25TdGFydCgoKSA9PiB7XG4gICAgICBjb25zdCB1bmtub3duTW9kdWxlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgICAgY29uc3Qgbm90TG9hZGVkTW9kdWxlczogTW9kdWxlW10gPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSBpbiByZWdpc3RlcmVkTW9kdWxlcykge1xuICAgICAgICBpZiAocmVnaXN0ZXJlZE1vZHVsZXNbaV0pIHtcbiAgICAgICAgICBpZiAocmVnaXN0ZXJlZE1vZHVsZXNbaV0uZGNsYW1kID09PSBNT0RVTEVfTE9BRElORykge1xuICAgICAgICAgICAgbm90TG9hZGVkTW9kdWxlcy5wdXNoKHJlZ2lzdGVyZWRNb2R1bGVzW2ldKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWdpc3RlcmVkTW9kdWxlc1tpXS5kZXBlbmRlbmNpZXMuZm9yRWFjaCgoJCkgPT4ge1xuICAgICAgICAgICAgaWYgKCQgPT0gXCJyZXF1aXJlXCIgfHwgJCA9PSBcImV4cG9ydHNcIiB8fCAkID09IFwibW9kdWxlXCIpIHJldHVybjtcbiAgICAgICAgICAgIGlmICghcmVnaXN0ZXJlZE1vZHVsZXNbJF0pIHVua25vd25Nb2R1bGVzLmFkZCgkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBlcnJvclBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICBpZiAodW5rbm93bk1vZHVsZXMuc2l6ZSkge1xuICAgICAgICBlcnJvclBhcnRzLnB1c2goXG4gICAgICAgICAgYFxcbi0gVW5kZWNsYXJlZC91bmtub3duIG1vZHVsZXM6ICR7QXJyYXkuZnJvbSh1bmtub3duTW9kdWxlcylcbiAgICAgICAgICAgIC5tYXAoKCQpID0+IFwiXFxuICBcIiArICQpXG4gICAgICAgICAgICAuam9pbihcIlwiKX1gXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmIChub3RMb2FkZWRNb2R1bGVzLmxlbmd0aCkge1xuICAgICAgICBlcnJvclBhcnRzLnB1c2goXG4gICAgICAgICAgYFxcbi0gVGhlc2UgbW9kdWxlcyBkaWRuJ3QgbG9hZDogJHtub3RMb2FkZWRNb2R1bGVzXG4gICAgICAgICAgICAubWFwKCgkKSA9PiBcIlxcbiAgXCIgKyAkLm5hbWUpXG4gICAgICAgICAgICAuam9pbihcIlwiKX0uIFBsZWFzZSBjaGVjayBjaXJjdWxhciBkZXBlbmRlbmNpZXMuYFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoZXJyb3JQYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUGFydHMuam9pbihcIlxcblwiKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b1VybChpZDogc3RyaW5nLCBjb250ZXh0Pzogc3RyaW5nKSB7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBzd2l0Y2ggKGlkKSB7XG4gICAgICBjYXNlIFwicmVxdWlyZVwiOlxuICAgICAgY2FzZSBcImV4cG9ydHNcIjpcbiAgICAgIGNhc2UgXCJtb2R1bGVcIjpcbiAgICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgICBjb25zdCBuZXdDb250ZXh0ID0gKGNvbnRleHQgfHwgc2V0dGluZ3MuYmFzZVVybCkuc3BsaXQoXCIvXCIpO1xuICAgIG5ld0NvbnRleHQucG9wKCk7XG4gICAgY29uc3QgaWRQYXJ0cyA9IGlkLnNwbGl0KFwiL1wiKTtcbiAgICBsZXQgaSA9IGlkUGFydHMubGVuZ3RoO1xuICAgIHdoaWxlICgtLWkpIHtcbiAgICAgIHN3aXRjaCAoaWRbMF0pIHtcbiAgICAgICAgY2FzZSBcIi4uXCI6XG4gICAgICAgICAgbmV3Q29udGV4dC5wb3AoKTtcbiAgICAgICAgY2FzZSBcIi5cIjpcbiAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICAgIGlkUGFydHMuc2hpZnQoKTtcbiAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIChuZXdDb250ZXh0Lmxlbmd0aCAmJiBjaGFuZ2VkID8gbmV3Q29udGV4dC5qb2luKFwiL1wiKSArIFwiL1wiIDogXCJcIikgK1xuICAgICAgaWRQYXJ0cy5qb2luKFwiL1wiKVxuICAgICk7XG4gIH1cblxuICByZXF1aXJlLnRvVXJsID0gdG9Vcmw7XG59XG5cbihnbG9iYWxPYmplY3QgYXMgYW55KS5kZWZpbmUgPSBsb2FkZXIuZGVmaW5lO1xuKGdsb2JhbE9iamVjdCBhcyBhbnkpLmRjbGFtZCA9IGxvYWRlcjtcbiJdfQ=="
  },
  {
    "path": "arduz-sdk.ts",
    "content": "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\ndefine(\"sdk/Components/Connection\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.sendMessageObservable = new Observable();\r\n    exports.onMessageObservable = new Observable();\r\n    // Add a message to this channel to kick a connection\r\n    exports.closeConnectionObservable = new Observable();\r\n    // On Connection removed, triggered after a conection is closed both from our side\r\n    // and from the network side\r\n    exports.onDisconnection = new Observable();\r\n    let Connection = class Connection {\r\n        constructor(connectionId, nick) {\r\n            this.connectionId = connectionId;\r\n            this.nick = nick;\r\n        }\r\n    };\r\n    Connection = __decorate([\r\n        Component(\"Connection\")\r\n    ], Connection);\r\n    exports.Connection = Connection;\r\n});\r\ndefine(\"sdk/Enums\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    var Heading;\r\n    (function (Heading) {\r\n        Heading[Heading[\"North\"] = 0] = \"North\";\r\n        Heading[Heading[\"East\"] = 1] = \"East\";\r\n        Heading[Heading[\"South\"] = 2] = \"South\";\r\n        Heading[Heading[\"West\"] = 3] = \"West\";\r\n    })(Heading = exports.Heading || (exports.Heading = {}));\r\n    var CharClass;\r\n    (function (CharClass) {\r\n        CharClass[CharClass[\"Spectator\"] = 0] = \"Spectator\";\r\n        CharClass[CharClass[\"Mage\"] = 1] = \"Mage\";\r\n        CharClass[CharClass[\"Cleric\"] = 2] = \"Cleric\";\r\n        CharClass[CharClass[\"Warrior\"] = 3] = \"Warrior\";\r\n        CharClass[CharClass[\"Assasin\"] = 4] = \"Assasin\";\r\n        CharClass[CharClass[\"Bard\"] = 5] = \"Bard\";\r\n        CharClass[CharClass[\"Druid\"] = 6] = \"Druid\";\r\n        CharClass[CharClass[\"Paladin\"] = 7] = \"Paladin\";\r\n        CharClass[CharClass[\"Hunter\"] = 8] = \"Hunter\";\r\n    })(CharClass = exports.CharClass || (exports.CharClass = {}));\r\n    var Race;\r\n    (function (Race) {\r\n        Race[Race[\"Human\"] = 1] = \"Human\";\r\n        Race[Race[\"Elf\"] = 2] = \"Elf\";\r\n        Race[Race[\"Drow\"] = 3] = \"Drow\";\r\n        Race[Race[\"Gnome\"] = 4] = \"Gnome\";\r\n        Race[Race[\"Dwarf\"] = 5] = \"Dwarf\";\r\n    })(Race = exports.Race || (exports.Race = {}));\r\n    var InventorySlots;\r\n    (function (InventorySlots) {\r\n        InventorySlots[InventorySlots[\"NONE\"] = -1] = \"NONE\";\r\n        InventorySlots[InventorySlots[\"Slot1\"] = 0] = \"Slot1\";\r\n        InventorySlots[InventorySlots[\"Slot2\"] = 1] = \"Slot2\";\r\n        InventorySlots[InventorySlots[\"Slot3\"] = 2] = \"Slot3\";\r\n        InventorySlots[InventorySlots[\"Slot4\"] = 3] = \"Slot4\";\r\n        InventorySlots[InventorySlots[\"Slot5\"] = 4] = \"Slot5\";\r\n        InventorySlots[InventorySlots[\"Slot6\"] = 5] = \"Slot6\";\r\n        InventorySlots[InventorySlots[\"Slot7\"] = 6] = \"Slot7\";\r\n        InventorySlots[InventorySlots[\"Slot8\"] = 7] = \"Slot8\";\r\n        InventorySlots[InventorySlots[\"Slot9\"] = 8] = \"Slot9\";\r\n        InventorySlots[InventorySlots[\"Slot10\"] = 9] = \"Slot10\";\r\n        InventorySlots[InventorySlots[\"Slot11\"] = 10] = \"Slot11\";\r\n        InventorySlots[InventorySlots[\"Slot12\"] = 11] = \"Slot12\";\r\n        InventorySlots[InventorySlots[\"Slot13\"] = 12] = \"Slot13\";\r\n        InventorySlots[InventorySlots[\"Slot14\"] = 13] = \"Slot14\";\r\n        InventorySlots[InventorySlots[\"Slot15\"] = 14] = \"Slot15\";\r\n        InventorySlots[InventorySlots[\"Slot16\"] = 15] = \"Slot16\";\r\n        InventorySlots[InventorySlots[\"Head\"] = 16] = \"Head\";\r\n        InventorySlots[InventorySlots[\"Armor\"] = 17] = \"Armor\";\r\n        InventorySlots[InventorySlots[\"Ring\"] = 18] = \"Ring\";\r\n        InventorySlots[InventorySlots[\"LeftHand\"] = 19] = \"LeftHand\";\r\n        InventorySlots[InventorySlots[\"RightHand\"] = 20] = \"RightHand\";\r\n        InventorySlots[InventorySlots[\"Accessory\"] = 21] = \"Accessory\";\r\n        InventorySlots[InventorySlots[\"Belt1\"] = 22] = \"Belt1\";\r\n        InventorySlots[InventorySlots[\"Belt2\"] = 23] = \"Belt2\";\r\n        // [24-28] HotBar\r\n        // [29-44] Spells\r\n    })(InventorySlots = exports.InventorySlots || (exports.InventorySlots = {}));\r\n    var SkillSlots;\r\n    (function (SkillSlots) {\r\n        SkillSlots[SkillSlots[\"NONE\"] = 0] = \"NONE\";\r\n        SkillSlots[SkillSlots[\"Spell1\"] = 29] = \"Spell1\";\r\n        SkillSlots[SkillSlots[\"Spell2\"] = 30] = \"Spell2\";\r\n        SkillSlots[SkillSlots[\"Spell3\"] = 31] = \"Spell3\";\r\n        SkillSlots[SkillSlots[\"Spell4\"] = 32] = \"Spell4\";\r\n        SkillSlots[SkillSlots[\"Spell5\"] = 33] = \"Spell5\";\r\n        SkillSlots[SkillSlots[\"Spell6\"] = 34] = \"Spell6\";\r\n        SkillSlots[SkillSlots[\"Spell7\"] = 35] = \"Spell7\";\r\n        SkillSlots[SkillSlots[\"Spell8\"] = 36] = \"Spell8\";\r\n        SkillSlots[SkillSlots[\"Spell9\"] = 37] = \"Spell9\";\r\n        SkillSlots[SkillSlots[\"Spell10\"] = 38] = \"Spell10\";\r\n        SkillSlots[SkillSlots[\"Spell11\"] = 39] = \"Spell11\";\r\n    })(SkillSlots = exports.SkillSlots || (exports.SkillSlots = {}));\r\n    var HotBarSlots;\r\n    (function (HotBarSlots) {\r\n        HotBarSlots[HotBarSlots[\"NONE\"] = 0] = \"NONE\";\r\n        HotBarSlots[HotBarSlots[\"HotBar1\"] = 24] = \"HotBar1\";\r\n        HotBarSlots[HotBarSlots[\"HotBar2\"] = 25] = \"HotBar2\";\r\n        HotBarSlots[HotBarSlots[\"HotBar3\"] = 26] = \"HotBar3\";\r\n        HotBarSlots[HotBarSlots[\"HotBar4\"] = 27] = \"HotBar4\";\r\n        HotBarSlots[HotBarSlots[\"HotBar5\"] = 28] = \"HotBar5\";\r\n    })(HotBarSlots = exports.HotBarSlots || (exports.HotBarSlots = {}));\r\n    var Gender;\r\n    (function (Gender) {\r\n        Gender[Gender[\"Male\"] = 1] = \"Male\";\r\n        Gender[Gender[\"Female\"] = 2] = \"Female\";\r\n    })(Gender = exports.Gender || (exports.Gender = {}));\r\n    var ConsoleMessages;\r\n    (function (ConsoleMessages) {\r\n        ConsoleMessages[ConsoleMessages[\"You can't use items while you are dead!\"] = 1] = \"You can't use items while you are dead!\";\r\n        ConsoleMessages[ConsoleMessages[\"You've been cured of poisoning!\"] = 2] = \"You've been cured of poisoning!\";\r\n        ConsoleMessages[ConsoleMessages[\"Restarting round\"] = 3] = \"Restarting round\";\r\n        ConsoleMessages[ConsoleMessages[\"Your class cannot use that item!\"] = 4] = \"Your class cannot use that item!\";\r\n        ConsoleMessages[ConsoleMessages[\"Your race cannot use that item!\"] = 5] = \"Your race cannot use that item!\";\r\n        ConsoleMessages[ConsoleMessages[\"To use a two handed item you must release both hands!\"] = 6] = \"To use a two handed item you must release both hands!\";\r\n        ConsoleMessages[ConsoleMessages[\"You need to equip your weapon before using it!\"] = 7] = \"You need to equip your weapon before using it!\";\r\n        ConsoleMessages[ConsoleMessages[\"There are no equipped projectile!\"] = 8] = \"There are no equipped projectile!\";\r\n        ConsoleMessages[ConsoleMessages[\"You can't attack dead players!\"] = 9] = \"You can't attack dead players!\";\r\n        ConsoleMessages[ConsoleMessages[\"You can't attack because you are dead!\"] = 10] = \"You can't attack because you are dead!\";\r\n        ConsoleMessages[ConsoleMessages[\"{{char}} damaged you by {{damage}} points\"] = 11] = \"{{char}} damaged you by {{damage}} points\";\r\n        ConsoleMessages[ConsoleMessages[\"You hitted {{char}} by {{damage}}\"] = 12] = \"You hitted {{char}} by {{damage}}\";\r\n        ConsoleMessages[ConsoleMessages[\"You start meditating\"] = 13] = \"You start meditating\";\r\n        ConsoleMessages[ConsoleMessages[\"You can't attack yourself!\"] = 14] = \"You can't attack yourself!\";\r\n        ConsoleMessages[ConsoleMessages[\"You killed {{char}}!\"] = 15] = \"You killed {{char}}!\";\r\n        ConsoleMessages[ConsoleMessages[\"You have been poisoned!\"] = 16] = \"You have been poisoned!\";\r\n        ConsoleMessages[ConsoleMessages[\"You can't use that weapon that way!\"] = 17] = \"You can't use that weapon that way!\";\r\n        ConsoleMessages[ConsoleMessages[\"You can't attack dead characters!\"] = 18] = \"You can't attack dead characters!\";\r\n        ConsoleMessages[ConsoleMessages[\"You can't use items while you are meditating!\"] = 19] = \"You can't use items while you are meditating!\";\r\n    })(ConsoleMessages = exports.ConsoleMessages || (exports.ConsoleMessages = {}));\r\n    var TargetType;\r\n    (function (TargetType) {\r\n        TargetType[TargetType[\"NONE\"] = 0] = \"NONE\";\r\n        TargetType[TargetType[\"Item\"] = 1] = \"Item\";\r\n        TargetType[TargetType[\"Char\"] = 2] = \"Char\";\r\n        TargetType[TargetType[\"Floor\"] = 3] = \"Floor\";\r\n    })(TargetType = exports.TargetType || (exports.TargetType = {}));\r\n});\r\ndefine(\"sdk/Components/Body\", [\"require\", \"exports\", \"sdk/Enums\"], function (require, exports, Enums_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.DEAD_BODY = 8;\r\n    exports.DEAD_HEAD = 500;\r\n    let Body = class Body extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.dead = true;\r\n            this.head = exports.DEAD_HEAD;\r\n            this.body = exports.DEAD_BODY;\r\n            this.speed = 1;\r\n            this.helmet = 0;\r\n            this.leftHand = 0;\r\n            this.rightHand = 0;\r\n            this.isLeftHandWeapon = false;\r\n            this.isRightHandWeapon = false;\r\n            this.nick = \"\";\r\n            this.color = \"#ffffff\";\r\n            this.mimetism = null;\r\n            this.charClass = Enums_1.CharClass.Spectator;\r\n            this.race = Enums_1.Race.Human;\r\n            this.gender = Enums_1.Gender.Male;\r\n        }\r\n        resucitate() {\r\n            if (this.dead) {\r\n                this.dead = false;\r\n            }\r\n        }\r\n        kill() {\r\n            if (!this.dead) {\r\n                this.dead = true;\r\n                this.mimetism = null;\r\n            }\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"dead\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"head\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"body\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"speed\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"helmet\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"leftHand\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"rightHand\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"isLeftHandWeapon\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"isRightHandWeapon\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"nick\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"color\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Body.prototype, \"mimetism\", void 0);\r\n    Body = __decorate([\r\n        Component(\"Body\")\r\n    ], Body);\r\n    exports.Body = Body;\r\n});\r\ndefine(\"sdk/Declares\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    var PotionType;\r\n    (function (PotionType) {\r\n        PotionType[PotionType[\"Agility\"] = 1] = \"Agility\";\r\n        PotionType[PotionType[\"Strenght\"] = 2] = \"Strenght\";\r\n        PotionType[PotionType[\"HP\"] = 3] = \"HP\";\r\n        PotionType[PotionType[\"Mana\"] = 4] = \"Mana\";\r\n        PotionType[PotionType[\"Poison\"] = 5] = \"Poison\";\r\n        PotionType[PotionType[\"Suicide\"] = 6] = \"Suicide\";\r\n    })(PotionType = exports.PotionType || (exports.PotionType = {}));\r\n    var ObjectTypes;\r\n    (function (ObjectTypes) {\r\n        ObjectTypes[ObjectTypes[\"UseOnce\"] = 1] = \"UseOnce\";\r\n        ObjectTypes[ObjectTypes[\"Weapon\"] = 2] = \"Weapon\";\r\n        ObjectTypes[ObjectTypes[\"Armor\"] = 3] = \"Armor\";\r\n        ObjectTypes[ObjectTypes[\"Tree\"] = 4] = \"Tree\";\r\n        ObjectTypes[ObjectTypes[\"Money\"] = 5] = \"Money\";\r\n        ObjectTypes[ObjectTypes[\"Doors\"] = 6] = \"Doors\";\r\n        ObjectTypes[ObjectTypes[\"Containers\"] = 7] = \"Containers\";\r\n        ObjectTypes[ObjectTypes[\"Signs\"] = 8] = \"Signs\";\r\n        ObjectTypes[ObjectTypes[\"Keys\"] = 9] = \"Keys\";\r\n        ObjectTypes[ObjectTypes[\"Forum\"] = 10] = \"Forum\";\r\n        ObjectTypes[ObjectTypes[\"Potion\"] = 11] = \"Potion\";\r\n        ObjectTypes[ObjectTypes[\"Map\"] = 12] = \"Map\";\r\n        ObjectTypes[ObjectTypes[\"FREE\"] = 13] = \"FREE\";\r\n        ObjectTypes[ObjectTypes[\"Lumber\"] = 14] = \"Lumber\";\r\n        ObjectTypes[ObjectTypes[\"Fireplace\"] = 15] = \"Fireplace\";\r\n        ObjectTypes[ObjectTypes[\"Shield\"] = 16] = \"Shield\";\r\n        ObjectTypes[ObjectTypes[\"Helmet\"] = 17] = \"Helmet\";\r\n        ObjectTypes[ObjectTypes[\"Ring\"] = 18] = \"Ring\";\r\n        ObjectTypes[ObjectTypes[\"Teleport\"] = 19] = \"Teleport\";\r\n        ObjectTypes[ObjectTypes[\"Decoration\"] = 20] = \"Decoration\";\r\n        ObjectTypes[ObjectTypes[\"Decoration2\"] = 21] = \"Decoration2\";\r\n        ObjectTypes[ObjectTypes[\"MineralDeposit\"] = 22] = \"MineralDeposit\";\r\n        ObjectTypes[ObjectTypes[\"Mineral\"] = 23] = \"Mineral\";\r\n        ObjectTypes[ObjectTypes[\"Scrolls\"] = 24] = \"Scrolls\";\r\n        ObjectTypes[ObjectTypes[\"Instrument\"] = 26] = \"Instrument\";\r\n        ObjectTypes[ObjectTypes[\"Anvil\"] = 27] = \"Anvil\";\r\n        ObjectTypes[ObjectTypes[\"Furnace\"] = 28] = \"Furnace\";\r\n        ObjectTypes[ObjectTypes[\"Lingot\"] = 29] = \"Lingot\";\r\n        ObjectTypes[ObjectTypes[\"AnimalSkins\"] = 30] = \"AnimalSkins\";\r\n        ObjectTypes[ObjectTypes[\"Boat\"] = 31] = \"Boat\";\r\n        ObjectTypes[ObjectTypes[\"Arrows\"] = 32] = \"Arrows\";\r\n        ObjectTypes[ObjectTypes[\"EmptyBottle\"] = 33] = \"EmptyBottle\";\r\n        ObjectTypes[ObjectTypes[\"FullBottle\"] = 34] = \"FullBottle\";\r\n        ObjectTypes[ObjectTypes[\"Blood\"] = 35] = \"Blood\";\r\n        ObjectTypes[ObjectTypes[\"Any\"] = 1000] = \"Any\";\r\n    })(ObjectTypes = exports.ObjectTypes || (exports.ObjectTypes = {}));\r\n    exports.DEFAULT_TIMERS = {\r\n        USE_ITEM: 200,\r\n        WALK: 200,\r\n        USE_BOW: 1400,\r\n        THROW_SPELL: 1400,\r\n        ATTACK: 1500,\r\n        ATTACK_SPELL: 1100,\r\n        SPELL_ATTACK: 1000\r\n    };\r\n    // Known sounds\r\n    var KnownSounds;\r\n    (function (KnownSounds) {\r\n        KnownSounds[KnownSounds[\"DIE_MALE\"] = 11] = \"DIE_MALE\";\r\n        KnownSounds[KnownSounds[\"DIE_FEMALE\"] = 74] = \"DIE_FEMALE\";\r\n        KnownSounds[KnownSounds[\"ARROW_IMPACT\"] = 65] = \"ARROW_IMPACT\";\r\n        KnownSounds[KnownSounds[\"SHIP\"] = 55] = \"SHIP\";\r\n        KnownSounds[KnownSounds[\"EAT_APPLE\"] = 82] = \"EAT_APPLE\";\r\n        KnownSounds[KnownSounds[\"EAT\"] = 7] = \"EAT\";\r\n        KnownSounds[KnownSounds[\"DRINK\"] = 46] = \"DRINK\";\r\n        KnownSounds[KnownSounds[\"STEPS_1\"] = 23] = \"STEPS_1\";\r\n        KnownSounds[KnownSounds[\"STEPS_2\"] = 24] = \"STEPS_2\";\r\n        KnownSounds[KnownSounds[\"EQUIP_WEAPON\"] = 25] = \"EQUIP_WEAPON\";\r\n        KnownSounds[KnownSounds[\"SHIELD\"] = 37] = \"SHIELD\";\r\n        KnownSounds[KnownSounds[\"SWING\"] = 2] = \"SWING\";\r\n        KnownSounds[KnownSounds[\"IMPACT\"] = 10] = \"IMPACT\";\r\n        KnownSounds[KnownSounds[\"IMPACT2\"] = 12] = \"IMPACT2\";\r\n    })(KnownSounds = exports.KnownSounds || (exports.KnownSounds = {}));\r\n    // -----------------------------------------------------\r\n    var SkillType;\r\n    (function (SkillType) {\r\n        SkillType[SkillType[\"Properties\"] = 1] = \"Properties\";\r\n        SkillType[SkillType[\"State\"] = 2] = \"State\";\r\n        SkillType[SkillType[\"Materialize\"] = 3] = \"Materialize\";\r\n        SkillType[SkillType[\"Invocation\"] = 4] = \"Invocation\";\r\n    })(SkillType = exports.SkillType || (exports.SkillType = {}));\r\n    var SkillTarget;\r\n    (function (SkillTarget) {\r\n        SkillTarget[SkillTarget[\"Users\"] = 1] = \"Users\";\r\n        SkillTarget[SkillTarget[\"NPC\"] = 2] = \"NPC\";\r\n        SkillTarget[SkillTarget[\"UserAndNpc\"] = 3] = \"UserAndNpc\";\r\n        SkillTarget[SkillTarget[\"Terrain\"] = 4] = \"Terrain\";\r\n    })(SkillTarget = exports.SkillTarget || (exports.SkillTarget = {}));\r\n});\r\ndefine(\"sdk/Components/WorldPosition\", [\"require\", \"exports\", \"sdk/Components/Body\"], function (require, exports, Body_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let WorldPosition = class WorldPosition extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.x = 1;\r\n            this.y = 1;\r\n            this.outgoingAreaMessages = [];\r\n            this.outgoingAreaButMeMessages = [];\r\n        }\r\n        enqueueSendToAreaButMe(data) {\r\n            this.outgoingAreaButMeMessages.push(data);\r\n        }\r\n        enqueueSendToArea(data) {\r\n            this.outgoingAreaMessages.push(data);\r\n        }\r\n        sendHit(x, y, text, color) {\r\n            this.enqueueSendToArea({ Hit: { x, y, text, color } });\r\n        }\r\n        sendWeaponSwing(entity, weaponSlot, sound) {\r\n            this.enqueueSendToArea({\r\n                WeaponSwing: {\r\n                    entityId: entity.uuid,\r\n                    weaponSlot,\r\n                    sound,\r\n                },\r\n            });\r\n        }\r\n        sendSound(x, y, sound) {\r\n            this.enqueueSendToArea({\r\n                Sound: {\r\n                    x,\r\n                    y,\r\n                    sound,\r\n                },\r\n            });\r\n        }\r\n        sendProjectile(x, y, destX, destY, graphic, sound) {\r\n            this.enqueueSendToArea({\r\n                Projectile: {\r\n                    x,\r\n                    y,\r\n                    destX,\r\n                    destY,\r\n                    graphic,\r\n                    sound,\r\n                },\r\n            });\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], WorldPosition.prototype, \"x\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], WorldPosition.prototype, \"y\", void 0);\r\n    WorldPosition = __decorate([\r\n        Component(\"Position\")\r\n    ], WorldPosition);\r\n    exports.WorldPosition = WorldPosition;\r\n    const entitiesWithPosition = engine.getComponentGroup(WorldPosition);\r\n    function* entitiesInPosition(x, y) {\r\n        for (let entity of entitiesWithPosition.entities) {\r\n            const pos = entity.getComponentOrNull(WorldPosition);\r\n            if (pos && pos.x == x && pos.y == y) {\r\n                yield entity;\r\n            }\r\n        }\r\n    }\r\n    exports.entitiesInPosition = entitiesInPosition;\r\n    const entitiesWithPositionAndBodyAndPosition = engine.getComponentGroup(WorldPosition, Body_1.Body);\r\n    function entitiesWithBodyAndPosition() {\r\n        return entitiesWithPositionAndBodyAndPosition.entities;\r\n    }\r\n    exports.entitiesWithBodyAndPosition = entitiesWithBodyAndPosition;\r\n});\r\ndefine(\"sdk/Components/Stats\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let CharStats = class CharStats extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.minHp = 0;\r\n            this.maxHp = 0;\r\n            this.minMana = 0;\r\n            this.maxMana = 0;\r\n            this.maxHit = 1;\r\n            this.minHit = 1;\r\n        }\r\n        getAbilityMultiplier(ability) {\r\n            // const modified = this.effectTimer !== 0 ? this.modifiedAbilities.get(ability) || 1 : 1;\r\n            // return (this.abilities.get(ability) || 0) + modified;\r\n            throw new Error();\r\n        }\r\n        addAbilityModifier(ability, value, duration) {\r\n            // TODO skills\r\n            // const currentAbility = this.abilities.get(ability) || 0;\r\n            // const currentModifiedValue = this.modifiedAbilities.get(ability) || 0;\r\n            // this.effectTimer = performance.now() + Math.max(duration, this.effectTimer);\r\n            // this.modifiedAbilities.set(\r\n            // ability,\r\n            // Math.min(currentAbility * 2, Math.min(value + currentModifiedValue, MAX_ABILITY))\r\n            // );\r\n            // this.sendStatus();\r\n            throw new Error();\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStats.prototype, \"minHp\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStats.prototype, \"maxHp\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStats.prototype, \"minMana\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStats.prototype, \"maxMana\", void 0);\r\n    CharStats = __decorate([\r\n        Component(\"Stats\")\r\n    ], CharStats);\r\n    exports.CharStats = CharStats;\r\n});\r\ndefine(\"sdk/Components/Inventory\", [\"require\", \"exports\", \"sdk/Declares\", \"sdk/Enums\"], function (require, exports, Declares_1, Enums_2) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Inventory = class Inventory extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.items = {};\r\n        }\r\n        getItem(slot) {\r\n            return this.items[slot] || null;\r\n        }\r\n        setItem(slot, item) {\r\n            if (typeof slot !== \"number\") {\r\n                error(\"slot was not a number\");\r\n                return;\r\n            }\r\n            this.items = { ...this.items, [slot]: item };\r\n        }\r\n        clear() {\r\n            this.items = {};\r\n        }\r\n        removeItemFromSlot(slot, amount) {\r\n            const item = this.getItem(slot);\r\n            if (item) {\r\n                if (item.amount >= 999999)\r\n                    return;\r\n                item.amount = item.amount - amount;\r\n                if (item.amount <= 0) {\r\n                    this.setItem(slot, null);\r\n                }\r\n            }\r\n        }\r\n        addItem(item, amount) {\r\n            // does the user already have this kind of item?\r\n            for (let [i, inventoryItem] of Object.entries(this.items)) {\r\n                if (inventoryItem && inventoryItem.item === item) {\r\n                    this.setItem(+i, {\r\n                        item: inventoryItem.item,\r\n                        amount: inventoryItem.amount + amount\r\n                    });\r\n                    return true;\r\n                }\r\n            }\r\n            let openSlot = Enums_2.InventorySlots.NONE;\r\n            // find an open slot\r\n            for (let i in Enums_2.InventorySlots) {\r\n                if (isFinite(+i) && !this.getItem(+i)) {\r\n                    openSlot = +i;\r\n                    break;\r\n                }\r\n            }\r\n            // there is no room for new items\r\n            if (openSlot === Enums_2.InventorySlots.NONE) {\r\n                return false;\r\n            }\r\n            this.setItem(openSlot, { amount, item });\r\n            return true;\r\n        }\r\n        *entries() {\r\n            for (let i in this.items) {\r\n                const item = this.items[i];\r\n                if (item)\r\n                    yield [+i, item];\r\n            }\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Inventory.prototype, \"items\", void 0);\r\n    Inventory = __decorate([\r\n        Component(\"Inventory\")\r\n    ], Inventory);\r\n    exports.Inventory = Inventory;\r\n    function canEquip(char, item, toSlot, sendMessages) {\r\n        const inventory = char.getComponentOrNull(Inventory);\r\n        if (!inventory)\r\n            return false;\r\n        // TODO: If I have a double handed weapon I still can equip a shield\r\n        if (\"allowed_classes\" in item && item.allowed_classes.indexOf(char.body.charClass) == -1) {\r\n            sendMessages && char.sendConsoleMessage(Enums_2.ConsoleMessages[\"Your class cannot use that item!\"]);\r\n            return false;\r\n        }\r\n        if (item.object_type === Declares_1.ObjectTypes.Armor) {\r\n            if (item.short_people !== (char.body.race === Enums_2.Race.Dwarf || char.body.race === Enums_2.Race.Gnome)) {\r\n                sendMessages && char.sendConsoleMessage(Enums_2.ConsoleMessages[\"Your race cannot use that item!\"]);\r\n                return false;\r\n            }\r\n        }\r\n        else if (item.object_type === Declares_1.ObjectTypes.Weapon) {\r\n            if (item.two_handed) {\r\n                if ((toSlot === Enums_2.InventorySlots.LeftHand && inventory.getItem(Enums_2.InventorySlots.RightHand)) ||\r\n                    (toSlot === Enums_2.InventorySlots.RightHand && inventory.getItem(Enums_2.InventorySlots.LeftHand))) {\r\n                    sendMessages &&\r\n                        char.sendConsoleMessage(Enums_2.ConsoleMessages[\"To use a two handed item you must release both hands!\"]);\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    exports.canEquip = canEquip;\r\n});\r\ndefine(\"sdk/Components/CharStatus\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let CharStatus = class CharStatus extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.paralyzed = false;\r\n            this.invisible = false;\r\n            this.dumb = false;\r\n            this.blind = false;\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStatus.prototype, \"paralyzed\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStatus.prototype, \"invisible\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStatus.prototype, \"dumb\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], CharStatus.prototype, \"blind\", void 0);\r\n    CharStatus = __decorate([\r\n        Component(\"status\")\r\n    ], CharStatus);\r\n    exports.CharStatus = CharStatus;\r\n});\r\ndefine(\"sdk/Components/Invisible\", [\"require\", \"exports\", \"sdk/Components/CharStatus\"], function (require, exports, CharStatus_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Invisible = class Invisible extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.end = 0;\r\n        }\r\n    };\r\n    Invisible = __decorate([\r\n        Component(\"Invisible\")\r\n    ], Invisible);\r\n    exports.Invisible = Invisible;\r\n    function setInvisible(entity) {\r\n        const inv = entity.getComponentOrCreate(Invisible);\r\n        inv.end = 15;\r\n        entity.getComponentOrCreate(CharStatus_1.CharStatus).invisible = true;\r\n    }\r\n    exports.setInvisible = setInvisible;\r\n    function setVisible(entity) {\r\n        entity.getComponentOrCreate(CharStatus_1.CharStatus).invisible = false;\r\n        return entity.removeComponent(Invisible);\r\n    }\r\n    exports.setVisible = setVisible;\r\n    function isInvisible(entity) {\r\n        return entity.hasComponent(Invisible);\r\n    }\r\n    exports.isInvisible = isInvisible;\r\n});\r\ndefine(\"sdk/Components/Fx\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Fx = class Fx extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.fx = 0;\r\n            this.loops = 0;\r\n        }\r\n        set(fx, loops) {\r\n            this.fx = fx;\r\n            this.loops = loops;\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Fx.prototype, \"fx\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Fx.prototype, \"loops\", void 0);\r\n    Fx = __decorate([\r\n        Component(\"fx\")\r\n    ], Fx);\r\n    exports.Fx = Fx;\r\n});\r\ndefine(\"sdk/Components/Meditation\", [\"require\", \"exports\", \"sdk/Components/Invisible\", \"sdk/Components/Fx\"], function (require, exports, Invisible_1, Fx_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    exports.MEDITATION_FX = [4, 5, 6, 16, 34];\r\n    let Meditating = class Meditating {\r\n    };\r\n    Meditating = __decorate([\r\n        Component(\"Meditating\")\r\n    ], Meditating);\r\n    exports.Meditating = Meditating;\r\n    function startMeditating(entity) {\r\n        Invisible_1.setVisible(entity);\r\n        entity.getComponentOrCreate(Meditating);\r\n        entity.getComponentOrCreate(Fx_1.Fx).set(exports.MEDITATION_FX[2], -1);\r\n    }\r\n    exports.startMeditating = startMeditating;\r\n    function stopMeditating(char) {\r\n        if (char.removeComponent(Meditating)) {\r\n            char.removeComponent(Fx_1.Fx);\r\n        }\r\n    }\r\n    exports.stopMeditating = stopMeditating;\r\n    function isMeditating(char) {\r\n        return char.hasComponent(Meditating);\r\n    }\r\n    exports.isMeditating = isMeditating;\r\n});\r\ndefine(\"sdk/AtomicHelpers/Slots\", [\"require\", \"exports\", \"sdk/Enums\"], function (require, exports, Enums_3) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function isSkillSlot(slot) {\r\n        return ((slot >= Enums_3.HotBarSlots.HotBar1 && slot <= Enums_3.HotBarSlots.HotBar5) ||\r\n            (slot >= Enums_3.SkillSlots.Spell1 && slot <= Enums_3.SkillSlots.Spell11));\r\n    }\r\n    exports.isSkillSlot = isSkillSlot;\r\n    function canDrop(originSlot, targetSlot) {\r\n        if (targetSlot === Enums_3.InventorySlots.NONE)\r\n            return false;\r\n        if (originSlot === Enums_3.InventorySlots.NONE)\r\n            return false;\r\n        return isSkillSlot(originSlot) === isSkillSlot(targetSlot);\r\n    }\r\n    exports.canDrop = canDrop;\r\n});\r\ndefine(\"sdk/Components/Skills\", [\"require\", \"exports\", \"sdk/Components/Meditation\", \"sdk/AtomicHelpers/Slots\", \"sdk/Enums\"], function (require, exports, Meditation_1, Slots_1, Enums_4) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Skills = class Skills extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.skills = {};\r\n        }\r\n        getItem(slot) {\r\n            return this.skills[slot] || null;\r\n        }\r\n        setItem(slot, skill) {\r\n            this.skills = { ...this.skills, [slot]: skill };\r\n            this.dirty = true;\r\n        }\r\n        clear() {\r\n            this.skills = {};\r\n        }\r\n        enoughManaFor(slot, stats) {\r\n            const isSpell = Slots_1.isSkillSlot(slot);\r\n            if (isSpell) {\r\n                const spell = this.getItem(slot);\r\n                if (spell) {\r\n                    return stats.minMana >= spell.required_mana;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        handleMoveSpells(fromSlot, toSlot) {\r\n            if (fromSlot === Enums_4.SkillSlots.NONE || toSlot === Enums_4.SkillSlots.NONE)\r\n                return;\r\n            if (!Slots_1.isSkillSlot(fromSlot))\r\n                return;\r\n            if (!Slots_1.isSkillSlot(toSlot))\r\n                return;\r\n            const fromItem = this.getItem(fromSlot);\r\n            const toItem = this.getItem(toSlot);\r\n            this.skills = { ...this.skills, [toSlot]: fromItem, [fromSlot]: toItem };\r\n        }\r\n        *entries() {\r\n            for (let i in this.skills) {\r\n                const item = this.skills[i];\r\n                if (item)\r\n                    yield [+i, item];\r\n            }\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Skills.prototype, \"skills\", void 0);\r\n    Skills = __decorate([\r\n        Component(\"Skills\")\r\n    ], Skills);\r\n    exports.Skills = Skills;\r\n    function canCastSpell(caster, spell) {\r\n        if (caster.body.dead) {\r\n            caster.sendConsoleMessage(\"You can't cast spells while you are dead!\");\r\n        }\r\n        else if (Meditation_1.isMeditating(caster)) {\r\n            caster.sendConsoleMessage(\"You can't cast spells while you are meditating!\");\r\n        }\r\n        else if (spell.required_mana > caster.stats.minMana) {\r\n            caster.sendConsoleMessage(\"Insufficient mana!\");\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    exports.canCastSpell = canCastSpell;\r\n});\r\ndefine(\"sdk/Components/RequestTarget\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let RequestedTarget = class RequestedTarget extends ObservableComponent {\r\n        constructor(type, slot = 0, range = 1, distance = 15) {\r\n            super();\r\n            this.type = type;\r\n            this.slot = slot;\r\n            this.range = range;\r\n            this.distance = distance;\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], RequestedTarget.prototype, \"type\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], RequestedTarget.prototype, \"slot\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], RequestedTarget.prototype, \"range\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], RequestedTarget.prototype, \"distance\", void 0);\r\n    RequestedTarget = __decorate([\r\n        Component(\"RequestedTarget\")\r\n    ], RequestedTarget);\r\n    exports.RequestedTarget = RequestedTarget;\r\n    function cancelCasting(char) {\r\n        char.removeComponent(RequestedTarget);\r\n    }\r\n    exports.cancelCasting = cancelCasting;\r\n    function requestTargetFor(char, type, slot) {\r\n        // TODO: add validations: interval, skill/item exist.\r\n        char.addComponentOrReplace(new RequestedTarget(type, slot));\r\n    }\r\n    exports.requestTargetFor = requestTargetFor;\r\n});\r\ndefine(\"sdk/Components/Heading\", [\"require\", \"exports\", \"sdk/Enums\"], function (require, exports, Enums_5) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let HeadingComponent = class HeadingComponent extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.heading = Enums_5.Heading.South;\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], HeadingComponent.prototype, \"heading\", void 0);\r\n    HeadingComponent = __decorate([\r\n        Component(\"heading\")\r\n    ], HeadingComponent);\r\n    exports.HeadingComponent = HeadingComponent;\r\n});\r\ndefine(\"sdk/Components/Timers\", [\"require\", \"exports\", \"sdk/Declares\"], function (require, exports, Declares_2) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Timers = class Timers extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.canAttackInterval = Declares_2.DEFAULT_TIMERS.ATTACK;\r\n            this.canThrowSpellInterval = Declares_2.DEFAULT_TIMERS.THROW_SPELL;\r\n            this.canUseItemInterval = Declares_2.DEFAULT_TIMERS.USE_ITEM;\r\n            this.canUseBowInterval = Declares_2.DEFAULT_TIMERS.USE_BOW;\r\n            this.canWalkInterval = Declares_2.DEFAULT_TIMERS.WALK;\r\n            this.attackSkillInterval = Declares_2.DEFAULT_TIMERS.ATTACK_SPELL;\r\n            this.skillAttackInterval = Declares_2.DEFAULT_TIMERS.SPELL_ATTACK;\r\n            this.nowInMs = 0;\r\n            this.lastAttack = 0;\r\n            this.lastThrowSpell = 0;\r\n            this.lastUseItem = 0;\r\n            this.lastUseBow = 0;\r\n            this.lastWalk = 0;\r\n            this.lastAttackSkill = 0;\r\n            this.lastSkillAttack = 0;\r\n        }\r\n        update(nowInMs) {\r\n            this.nowInMs = nowInMs;\r\n        }\r\n        canUseItem(update = true) {\r\n            const can = this.nowInMs - this.lastUseItem >= this.canUseItemInterval;\r\n            if (can && update) {\r\n                this.lastUseItem = this.nowInMs;\r\n            }\r\n            return can;\r\n        }\r\n        canWalk(update = true) {\r\n            const can = this.nowInMs - this.lastWalk >= this.canWalkInterval;\r\n            if (can && update) {\r\n                this.lastWalk = this.nowInMs;\r\n            }\r\n            return can;\r\n        }\r\n        canUseBow(update = true) {\r\n            const can = this.nowInMs - this.lastUseBow >= this.canUseBowInterval;\r\n            if (can && update) {\r\n                this.lastUseBow = this.nowInMs;\r\n            }\r\n            return can;\r\n        }\r\n        canAttack(update = true) {\r\n            const can = this.nowInMs - this.lastAttack >= this.canAttackInterval;\r\n            if (can && update) {\r\n                this.lastAttack = this.nowInMs;\r\n            }\r\n            return can;\r\n        }\r\n        canSpell(update = true) {\r\n            const can = this.nowInMs - this.lastThrowSpell >= this.canThrowSpellInterval;\r\n            if (can && update) {\r\n                this.lastThrowSpell = this.nowInMs;\r\n            }\r\n            return can;\r\n        }\r\n        canAttackSkill(update = true) {\r\n            if (this.lastAttackSkill > this.lastThrowSpell)\r\n                return false;\r\n            const can = this.nowInMs - this.lastAttackSkill >= this.attackSkillInterval;\r\n            if (can && update) {\r\n                this.lastAttackSkill = this.nowInMs;\r\n                this.lastThrowSpell = this.nowInMs;\r\n            }\r\n            return can;\r\n        }\r\n        canSkillAttack(update = true) {\r\n            if (this.lastSkillAttack > this.lastAttack)\r\n                return false;\r\n            const can = this.nowInMs - this.lastSkillAttack >= this.skillAttackInterval;\r\n            if (can && update) {\r\n                this.lastSkillAttack = this.nowInMs;\r\n                this.lastAttack = this.nowInMs;\r\n            }\r\n            return can;\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Timers.prototype, \"canAttackInterval\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Timers.prototype, \"canThrowSpellInterval\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Timers.prototype, \"canUseItemInterval\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Timers.prototype, \"canUseBowInterval\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Timers.prototype, \"canWalkInterval\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Timers.prototype, \"attackSkillInterval\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Timers.prototype, \"skillAttackInterval\", void 0);\r\n    Timers = __decorate([\r\n        Component(\"timers\")\r\n    ], Timers);\r\n    exports.Timers = Timers;\r\n});\r\ndefine(\"sdk/Components/Character\", [\"require\", \"exports\", \"sdk/Components/Body\", \"sdk/Declares\", \"sdk/Components/WorldPosition\", \"sdk/Components/Stats\", \"sdk/Components/Connection\", \"sdk/Components/Inventory\", \"sdk/Components/Skills\", \"sdk/Components/Invisible\", \"sdk/Components/Meditation\", \"sdk/Components/RequestTarget\", \"sdk/Components/Heading\", \"sdk/Components/Fx\", \"sdk/Components/Timers\", \"sdk/Enums\"], function (require, exports, Body_2, Declares_3, WorldPosition_1, Stats_1, Connection_1, Inventory_1, Skills_1, Invisible_2, Meditation_2, RequestTarget_1, Heading_1, Fx_2, Timers_1, Enums_6) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    // only triggered after a character is added to the engine, manually so far\r\n    exports.onNewCharacterObservable = new Observable();\r\n    class Character extends Entity {\r\n        get position() {\r\n            return this.getComponentOrCreate(WorldPosition_1.WorldPosition);\r\n        }\r\n        get body() {\r\n            return this.getComponentOrCreate(Body_2.Body);\r\n        }\r\n        get stats() {\r\n            return this.getComponentOrCreate(Stats_1.CharStats);\r\n        }\r\n        get timers() {\r\n            return this.getComponentOrCreate(Timers_1.Timers);\r\n        }\r\n        get connection() {\r\n            return this.getComponentOrNull(Connection_1.Connection);\r\n        }\r\n        get inventory() {\r\n            return this.getComponentOrNull(Inventory_1.Inventory);\r\n        }\r\n        get skills() {\r\n            return this.getComponentOrNull(Skills_1.Skills);\r\n        }\r\n        constructor() {\r\n            super();\r\n            this.getComponentOrCreate(WorldPosition_1.WorldPosition);\r\n            this.getComponentOrCreate(Body_2.Body);\r\n            this.getComponentOrCreate(Stats_1.CharStats);\r\n            this.getComponentOrCreate(Heading_1.HeadingComponent);\r\n            this.getComponentOrCreate(Timers_1.Timers);\r\n        }\r\n        sendSound(sound) {\r\n            this.position.sendSound(this.position.x, this.position.y, sound);\r\n        }\r\n        sayMagicWords(spell) {\r\n            this.position.enqueueSendToArea({\r\n                Talk: {\r\n                    entityId: this.uuid,\r\n                    color: 0x00ccff,\r\n                    message: spell,\r\n                    nick: this.body.nick,\r\n                    console: false,\r\n                },\r\n            });\r\n        }\r\n        talk(message, color = 0xffffff) {\r\n            this.position.enqueueSendToArea({\r\n                Talk: {\r\n                    entityId: this.uuid,\r\n                    color,\r\n                    message,\r\n                    nick: this.body.nick,\r\n                    console: true,\r\n                },\r\n            });\r\n        }\r\n        sendConsoleMessage(message, map) {\r\n            const c = this.connection;\r\n            if (c) {\r\n                if (typeof message === \"string\") {\r\n                    Connection_1.sendMessageObservable.notifyObservers({\r\n                        connectionIds: [c.connectionId],\r\n                        data: { ConsoleMessage: { message, map } },\r\n                    });\r\n                }\r\n                else {\r\n                    Connection_1.sendMessageObservable.notifyObservers({\r\n                        connectionIds: [c.connectionId],\r\n                        data: { ConsoleMessage: { messageId: message, map } },\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        notifyUpdatedPosition() {\r\n            if (this.connection) {\r\n                Connection_1.sendMessageObservable.notifyObservers({\r\n                    connectionIds: [this.connection.connectionId],\r\n                    data: {\r\n                        UpdatePosition: {\r\n                            entityId: this.uuid,\r\n                            x: this.position.x,\r\n                            y: this.position.y,\r\n                        },\r\n                    },\r\n                });\r\n            }\r\n        }\r\n        die() {\r\n            if (this.body.dead) {\r\n                return;\r\n            }\r\n            if (this.body.gender == Enums_6.Gender.Female) {\r\n                this.sendSound(Declares_3.KnownSounds.DIE_FEMALE);\r\n            }\r\n            else {\r\n                this.sendSound(Declares_3.KnownSounds.DIE_MALE);\r\n            }\r\n            /// Remove the dialog\r\n            this.talk(\"\");\r\n            /// Reset stats\r\n            this.stats.minHp = 0;\r\n            this.stats.minMana = 0;\r\n            // reset FX\r\n            this.resetFlags();\r\n        }\r\n        resetFlags() {\r\n            Invisible_2.setVisible(this);\r\n            Meditation_2.stopMeditating(this);\r\n            RequestTarget_1.cancelCasting(this);\r\n            this.body.mimetism = null;\r\n            this.body.kill();\r\n            this.removeComponent(Fx_2.Fx);\r\n        }\r\n        resucitate(reset) {\r\n            this.body.resucitate();\r\n            this.stats.minHp = this.stats.maxHp;\r\n            this.stats.minMana = 0;\r\n            if (this.stats.minHp <= 0)\r\n                this.stats.minHp = 1;\r\n            if (this.stats.minHp > this.stats.maxHp) {\r\n                this.stats.minHp = this.stats.maxHp;\r\n            }\r\n            if (reset) {\r\n                this.stats.minHp = this.stats.maxHp;\r\n                this.stats.minMana = this.stats.maxMana;\r\n                this.removeComponent(Fx_2.Fx);\r\n            }\r\n        }\r\n    }\r\n    exports.Character = Character;\r\n});\r\ndefine(\"sdk/Events/CharEvents\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let CharAttacksChar = class CharAttacksChar {\r\n        constructor(attacker, victim, projectile) {\r\n            this.attacker = attacker;\r\n            this.victim = victim;\r\n            this.projectile = projectile;\r\n        }\r\n    };\r\n    CharAttacksChar = __decorate([\r\n        EventConstructor()\r\n    ], CharAttacksChar);\r\n    exports.CharAttacksChar = CharAttacksChar;\r\n    function charAttacksEntity(attacker, victim, projectile) {\r\n        engine.eventManager.fireEvent(new CharAttacksChar(attacker, victim, projectile));\r\n    }\r\n    exports.charAttacksEntity = charAttacksEntity;\r\n    // -------------------------------------------------------------------\r\n    let CharUsesSkill = class CharUsesSkill {\r\n        constructor(char, slot, x, y) {\r\n            this.char = char;\r\n            this.slot = slot;\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n    };\r\n    CharUsesSkill = __decorate([\r\n        EventConstructor()\r\n    ], CharUsesSkill);\r\n    exports.CharUsesSkill = CharUsesSkill;\r\n    function charUsesSkill(char, slot, x, y) {\r\n        engine.eventManager.fireEvent(new CharUsesSkill(char, slot, x, y));\r\n    }\r\n    exports.charUsesSkill = charUsesSkill;\r\n    // -------------------------------------------------------------------\r\n    let CharUsesItem = class CharUsesItem {\r\n        constructor(char, slot, x, y) {\r\n            this.char = char;\r\n            this.slot = slot;\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n    };\r\n    CharUsesItem = __decorate([\r\n        EventConstructor()\r\n    ], CharUsesItem);\r\n    exports.CharUsesItem = CharUsesItem;\r\n    function charUsesItem(char, slot, x, y) {\r\n        engine.eventManager.fireEvent(new CharUsesItem(char, slot, x, y));\r\n    }\r\n    exports.charUsesItem = charUsesItem;\r\n    // -------------------------------------------------------------------\r\n    let MoveItems = class MoveItems {\r\n        constructor(char, from, to, sendMessages) {\r\n            this.char = char;\r\n            this.from = from;\r\n            this.to = to;\r\n            this.sendMessages = sendMessages;\r\n        }\r\n    };\r\n    MoveItems = __decorate([\r\n        EventConstructor()\r\n    ], MoveItems);\r\n    exports.MoveItems = MoveItems;\r\n    function charMoveItems(char, from, to, sendMessages) {\r\n        engine.eventManager.fireEvent(new MoveItems(char, from, to, sendMessages));\r\n    }\r\n    exports.charMoveItems = charMoveItems;\r\n    // ------------------------------------------------------------------\r\n    let MoveSkills = class MoveSkills {\r\n        constructor(char, from, to, sendMessages) {\r\n            this.char = char;\r\n            this.from = from;\r\n            this.to = to;\r\n            this.sendMessages = sendMessages;\r\n        }\r\n    };\r\n    MoveSkills = __decorate([\r\n        EventConstructor()\r\n    ], MoveSkills);\r\n    exports.MoveSkills = MoveSkills;\r\n    function charMoveSkills(char, from, to, sendMessages) {\r\n        engine.eventManager.fireEvent(new MoveSkills(char, from, to, sendMessages));\r\n    }\r\n    exports.charMoveSkills = charMoveSkills;\r\n});\r\ndefine(\"sdk/AtomicHelpers/HeadToPos\", [\"require\", \"exports\", \"sdk/Enums\"], function (require, exports, Enums_7) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function headToPos(x, y, heading) {\r\n        switch (heading) {\r\n            case Enums_7.Heading.East:\r\n                return {\r\n                    x: x + 1,\r\n                    y: y,\r\n                };\r\n            case Enums_7.Heading.West:\r\n                return {\r\n                    x: x - 1,\r\n                    y: y,\r\n                };\r\n            case Enums_7.Heading.North:\r\n                return {\r\n                    x: x,\r\n                    y: y - 1,\r\n                };\r\n            case Enums_7.Heading.South:\r\n                return {\r\n                    x: x,\r\n                    y: y + 1,\r\n                };\r\n        }\r\n        return {\r\n            x,\r\n            y,\r\n        };\r\n    }\r\n    exports.headToPos = headToPos;\r\n});\r\ndefine(\"sdk/Components/Walking\", [\"require\", \"exports\", \"sdk/Enums\"], function (require, exports, Enums_8) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Walking = class Walking {\r\n        constructor(heading = Enums_8.Heading.South) {\r\n            this.heading = heading;\r\n        }\r\n    };\r\n    Walking = __decorate([\r\n        Component(\"walking\")\r\n    ], Walking);\r\n    exports.Walking = Walking;\r\n});\r\ndefine(\"sdk/Functions/networkHandlers\", [\"require\", \"exports\", \"sdk/Components/Character\", \"sdk/Components/RequestTarget\", \"sdk/Events/CharEvents\", \"sdk/Components/Meditation\", \"sdk/Declares\", \"sdk/AtomicHelpers/Slots\", \"sdk/AtomicHelpers/HeadToPos\", \"sdk/Components/Walking\", \"sdk/Components/WorldPosition\", \"sdk/Components/Heading\", \"sdk/Enums\", \"sdk/Components/Timers\"], function (require, exports, Character_1, RequestTarget_2, CharEvents_1, Meditation_3, Declares_4, Slots_2, HeadToPos_1, Walking_1, WorldPosition_2, Heading_2, Enums_9, Timers_2) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function handleMapClick(char, x, y) {\r\n        const requestedTarget = char.getComponentOrNull(RequestTarget_2.RequestedTarget);\r\n        const timers = char.getComponentOrNull(Timers_2.Timers);\r\n        if (requestedTarget) {\r\n            RequestTarget_2.cancelCasting(char);\r\n            const isSkill = Slots_2.isSkillSlot(requestedTarget.slot);\r\n            if (isSkill) {\r\n                // skills and spells\r\n                if (timers) {\r\n                    // Check bows interval\r\n                    if (!timers.canUseBow(false))\r\n                        return;\r\n                    // Check Hit-Spell interval\r\n                    if (!timers.canAttackSkill()) {\r\n                        // Check Magic interval\r\n                        if (!timers.canSpell()) {\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                CharEvents_1.charUsesSkill(char, requestedTarget.slot, x, y);\r\n            }\r\n            else {\r\n                // inventory items\r\n                if (timers) {\r\n                    // Check attack interval\r\n                    if (!timers.canAttack(false))\r\n                        return;\r\n                    // Check Magic interval\r\n                    if (!timers.canSpell(false))\r\n                        return;\r\n                    // Check bow's interval\r\n                    if (!timers.canUseBow())\r\n                        return;\r\n                }\r\n                CharEvents_1.charUsesItem(char, requestedTarget.slot, x, y);\r\n            }\r\n        }\r\n        else {\r\n            for (let entity of WorldPosition_2.entitiesInPosition(x, y)) {\r\n                if (entity instanceof Character_1.Character) {\r\n                    char.sendConsoleMessage(`You see: ${entity.body.nick}`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.handleMapClick = handleMapClick;\r\n    function handleUseSkill(char, slot) {\r\n        if (!Slots_2.isSkillSlot(slot))\r\n            return;\r\n        if (char.body.dead) {\r\n            char.sendConsoleMessage(\"You can't cast spells while you are dead!\");\r\n            return;\r\n        }\r\n        if (Meditation_3.isMeditating(char)) {\r\n            char.sendConsoleMessage(\"You can't cast spells while you are meditating!\");\r\n            return;\r\n        }\r\n        const mySkills = char.skills;\r\n        if (!mySkills)\r\n            return;\r\n        const skill = mySkills.getItem(slot);\r\n        if (!skill)\r\n            return;\r\n        const targetType = skill.target === Declares_4.SkillTarget.Terrain ? Enums_9.TargetType.Floor : Enums_9.TargetType.Char;\r\n        RequestTarget_2.requestTargetFor(char, targetType, slot);\r\n    }\r\n    exports.handleUseSkill = handleUseSkill;\r\n    function handleRequestPosition(char) {\r\n        char.notifyUpdatedPosition();\r\n    }\r\n    exports.handleRequestPosition = handleRequestPosition;\r\n    function handleAttack(char) {\r\n        if (char.body.dead) {\r\n            char.sendConsoleMessage(Enums_9.ConsoleMessages[\"You can't attack because you are dead!\"]);\r\n            return;\r\n        }\r\n        // Not hunter? HidingSystem.makeVisible(char)\r\n        const { heading } = char.getComponentOrCreate(Heading_2.HeadingComponent);\r\n        const { x, y } = HeadToPos_1.headToPos(char.position.x, char.position.y, heading);\r\n        let didAttack = false;\r\n        for (let entity of WorldPosition_2.entitiesInPosition(x, y)) {\r\n            if (entity instanceof Character_1.Character) {\r\n                CharEvents_1.charAttacksEntity(char, entity, false);\r\n                didAttack = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!didAttack) {\r\n            let weaponHand = char.body.isLeftHandWeapon\r\n                ? Enums_9.InventorySlots.LeftHand\r\n                : char.body.isRightHandWeapon\r\n                    ? Enums_9.InventorySlots.RightHand\r\n                    : Enums_9.InventorySlots.NONE;\r\n            if (weaponHand !== Enums_9.InventorySlots.NONE) {\r\n                char.position.sendWeaponSwing(char, weaponHand, Declares_4.KnownSounds.SWING);\r\n            }\r\n        }\r\n    }\r\n    exports.handleAttack = handleAttack;\r\n    function handleMeditate(char) {\r\n        if (char.body.dead) {\r\n            return;\r\n        }\r\n        // if invisible, make visible\r\n        if (Meditation_3.isMeditating(char)) {\r\n            Meditation_3.stopMeditating(char);\r\n        }\r\n        else {\r\n            Meditation_3.startMeditating(char);\r\n        }\r\n    }\r\n    exports.handleMeditate = handleMeditate;\r\n    function handleTalk(char, message, color = 0xffffff) {\r\n        char.talk(message, color);\r\n    }\r\n    exports.handleTalk = handleTalk;\r\n    function handleSetHeading(char, heading) {\r\n        char.getComponentOrCreate(Heading_2.HeadingComponent).heading = heading;\r\n    }\r\n    exports.handleSetHeading = handleSetHeading;\r\n    function handleWalk(char, heading) {\r\n        char.getComponentOrCreate(Heading_2.HeadingComponent).heading = heading;\r\n        char.addComponentOrReplace(new Walking_1.Walking(heading));\r\n        // stopHiding(char)\r\n    }\r\n    exports.handleWalk = handleWalk;\r\n});\r\ndefine(\"sdk/Components/Archetype\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Archetypes = class Archetypes extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.archetypes = {};\r\n            this.alignments = [];\r\n        }\r\n        getArchetype(id) {\r\n            return this.archetypes[id] || null;\r\n        }\r\n        setArchetype(item) {\r\n            const id = item.id;\r\n            this.archetypes = { ...this.archetypes, [id]: item };\r\n            this.dirty = true;\r\n        }\r\n        clear() {\r\n            this.archetypes = {};\r\n        }\r\n    };\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Archetypes.prototype, \"archetypes\", void 0);\r\n    __decorate([\r\n        ObservableComponent.field\r\n    ], Archetypes.prototype, \"alignments\", void 0);\r\n    Archetypes = __decorate([\r\n        Component(\"Archetypes\")\r\n    ], Archetypes);\r\n    exports.Archetypes = Archetypes;\r\n});\r\ndefine(\"sdk/Systems/Connection\", [\"require\", \"exports\", \"sdk/Components/Connection\", \"sdk/Components/Character\", \"sdk/Events/CharEvents\", \"sdk/Functions/networkHandlers\", \"sdk/Components/Skills\", \"sdk/Components/Inventory\", \"sdk/Components/Stats\", \"sdk/Components/Archetype\", \"sdk/Components/Timers\", \"sdk/Components/RequestTarget\", \"sdk/AtomicHelpers/Slots\"], function (require, exports, Connection_2, Character_2, CharEvents_2, networkHandlers_1, Skills_2, Inventory_2, Stats_2, Archetype_1, Timers_3, RequestTarget_3, Slots_3) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    /**\r\n     * @public\r\n     */\r\n    class ConnectionSystem {\r\n        constructor(connection) {\r\n            this.connection = connection;\r\n            this.handlerMap = {};\r\n            this.connectionAdded = (entity) => {\r\n                this.updatePlayerStats(entity);\r\n                const component = entity.getComponentOrNull(Connection_2.Connection);\r\n                if (component instanceof Connection_2.Connection) {\r\n                    this.handlerMap[component.connectionId] = component;\r\n                    component.entityId = entity.uuid;\r\n                }\r\n            };\r\n            this.connectionRemoved = (entity) => {\r\n                const component = entity.getComponentOrNull(Connection_2.Connection);\r\n                if (component instanceof Connection_2.Connection) {\r\n                    delete this.handlerMap[component.connectionId];\r\n                }\r\n            };\r\n        }\r\n        activate(engine) {\r\n            engine.eventManager.addListener(ComponentAdded, this, this.componentAdded);\r\n            engine.eventManager.addListener(ComponentRemoved, this, this.componentRemoved);\r\n            this.connection.onMessage.add((m) => {\r\n                for (let i in m) {\r\n                    const connectionId = m[i].connectionId;\r\n                    if (connectionId) {\r\n                        const conn = this.handlerMap[connectionId];\r\n                        if (conn && conn.entityId) {\r\n                            const entity = engine.entities[conn.entityId];\r\n                            if (entity) {\r\n                                Connection_2.onMessageObservable.notifyObservers({\r\n                                    entity: entity,\r\n                                    data: m,\r\n                                });\r\n                            }\r\n                        }\r\n                        else {\r\n                            log(\"Unknown entity in connection\", connectionId);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            this.connection.onDisconnected.add(({ connectionId }) => {\r\n                const connection = this.handlerMap[connectionId];\r\n                if (connection && connection.entityId) {\r\n                    const entity = engine.entities[connection.entityId];\r\n                    if (entity) {\r\n                        entity.removeComponent(connection);\r\n                    }\r\n                    Connection_2.onDisconnection.notifyObservers({ entity, connection });\r\n                }\r\n            });\r\n            Connection_2.sendMessageObservable.add((evt) => {\r\n                this.connection.send(evt.connectionIds, evt.data, evt.reliable);\r\n            });\r\n            Connection_2.closeConnectionObservable.add((evt) => {\r\n                this.connection.disconnect(evt.connectionId, \"closed manually\");\r\n            });\r\n            Connection_2.onMessageObservable.add(({ entity, data }) => {\r\n                if (entity instanceof Character_2.Character) {\r\n                    if (data.UseSlot) {\r\n                        if (Slots_3.isSkillSlot(data.UseSlot.slot)) {\r\n                            networkHandlers_1.handleUseSkill(entity, data.UseSlot.slot);\r\n                        }\r\n                        else {\r\n                            CharEvents_2.charUsesItem(entity, data.UseSlot.slot);\r\n                        }\r\n                    }\r\n                    if (data.Walk) {\r\n                        networkHandlers_1.handleWalk(entity, data.Walk.heading);\r\n                    }\r\n                    if (data.MoveSlot) {\r\n                        if (Slots_3.isSkillSlot(data.MoveSlot.from) == Slots_3.isSkillSlot(data.MoveSlot.to)) {\r\n                            if (Slots_3.isSkillSlot(data.MoveSlot.from)) {\r\n                                CharEvents_2.charMoveSkills(entity, data.MoveSlot.from, data.MoveSlot.to, false);\r\n                            }\r\n                            else {\r\n                                CharEvents_2.charMoveItems(entity, data.MoveSlot.from, data.MoveSlot.to, false);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (data.ClickMap) {\r\n                        networkHandlers_1.handleMapClick(entity, data.ClickMap.x, data.ClickMap.y);\r\n                    }\r\n                    if (data.Attack) {\r\n                        networkHandlers_1.handleAttack(entity);\r\n                    }\r\n                    if (data.RequestPosition) {\r\n                        networkHandlers_1.handleRequestPosition(entity);\r\n                    }\r\n                    if (data.Hide) {\r\n                        //   handleHide(entity);\r\n                    }\r\n                    if (data.Meditate) {\r\n                        networkHandlers_1.handleMeditate(entity);\r\n                    }\r\n                    if (data.Talk) {\r\n                        networkHandlers_1.handleTalk(entity, data.Talk.text);\r\n                    }\r\n                    if (data.SetHeading) {\r\n                        networkHandlers_1.handleSetHeading(entity, data.SetHeading.heading);\r\n                    }\r\n                }\r\n            });\r\n            this.connections = engine.getComponentGroup({\r\n                onAddEntity: this.connectionAdded,\r\n                onRemoveEntity: this.connectionRemoved,\r\n            }, Connection_2.Connection);\r\n            log(\"ConnectionSystem started\", this.connections);\r\n        }\r\n        update() {\r\n            for (let entity of this.connections.entities) {\r\n                const data = this.updatePlayerStats(entity);\r\n                const connection = data && entity.getComponent(Connection_2.Connection);\r\n                if (data) {\r\n                    Connection_2.sendMessageObservable.notifyObservers({\r\n                        connectionIds: [connection.connectionId],\r\n                        data,\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        updatePlayerStats(entity) {\r\n            let hasContent = false;\r\n            const ret = {};\r\n            const skills = entity.getComponentOrNull(Skills_2.Skills);\r\n            const inv = entity.getComponentOrNull(Inventory_2.Inventory);\r\n            const stats = entity.getComponentOrNull(Stats_2.CharStats);\r\n            const archetypes = entity.getComponentOrNull(Archetype_1.Archetypes);\r\n            const timers = entity.getComponentOrNull(Timers_3.Timers);\r\n            const reqTarget = entity.getComponentOrNull(RequestTarget_3.RequestedTarget);\r\n            if (stats && stats.dirty) {\r\n                ret.Stats = {\r\n                    entityId: entity.uuid,\r\n                    maxHp: stats.maxHp,\r\n                    minHp: stats.minHp,\r\n                    maxMana: stats.maxMana,\r\n                    minMana: stats.minMana,\r\n                };\r\n                stats.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (inv && inv.dirty) {\r\n                ret.Inventory = {\r\n                    items: Array.from(inv.entries()).map(([slot, item]) => {\r\n                        return {\r\n                            slot,\r\n                            amount: item.amount,\r\n                            item: {\r\n                                grh: item.item.grh,\r\n                                id: item.item.id,\r\n                                name: item.item.name,\r\n                            },\r\n                        };\r\n                    }),\r\n                };\r\n                inv.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (timers && timers.dirty) {\r\n                ret.Timers = {\r\n                    canAttackInterval: timers.canAttackInterval,\r\n                    canThrowSpellInterval: timers.canThrowSpellInterval,\r\n                    canUseBowInterval: timers.canUseBowInterval,\r\n                    canUseItemInterval: timers.canUseItemInterval,\r\n                };\r\n                timers.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (skills && skills.dirty) {\r\n                ret.Skills = {\r\n                    skills: Array.from(skills.entries()).map(([slot, skill]) => {\r\n                        return {\r\n                            slot,\r\n                            description: skill.description,\r\n                            graphic: skill.graphic,\r\n                            id: skill.id,\r\n                            name: skill.name,\r\n                        };\r\n                    }),\r\n                };\r\n                skills.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (archetypes && archetypes.dirty) {\r\n                ret.Archetypes = {\r\n                    alignments: archetypes.alignments.map(($) => ({\r\n                        color: $.color,\r\n                        id: $.id,\r\n                        name: $.name,\r\n                    })),\r\n                    archetypes: Object.values(archetypes.archetypes),\r\n                };\r\n                archetypes.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (reqTarget && reqTarget.dirty) {\r\n                ret.RequestedTarget = {\r\n                    distance: reqTarget.distance,\r\n                    range: reqTarget.range,\r\n                    slot: reqTarget.slot,\r\n                    type: reqTarget.type,\r\n                };\r\n                reqTarget.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            return hasContent ? ret : null;\r\n        }\r\n        deactivate() {\r\n            // noop\r\n        }\r\n        componentAdded(event) {\r\n            if (event.entity.isAddedToEngine()) {\r\n                const component = event.entity.components[event.componentName];\r\n                if (component instanceof Connection_2.Connection) {\r\n                    this.handlerMap[component.connectionId] = component;\r\n                    component.entityId = event.entity.uuid;\r\n                }\r\n            }\r\n        }\r\n        componentRemoved(event) {\r\n            if (event.entity.isAddedToEngine()) {\r\n                if (event.component instanceof Connection_2.Connection) {\r\n                    delete this.handlerMap[event.component.connectionId];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.ConnectionSystem = ConnectionSystem;\r\n});\r\ndefine(\"sdk/Systems/Invisible\", [\"require\", \"exports\", \"sdk/Components/Invisible\", \"sdk/Components/Character\"], function (require, exports, Invisible_3, Character_3) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class InvisibleSystem {\r\n        activate(engine) {\r\n            this.charactersMeditating = engine.getComponentGroup(Invisible_3.Invisible);\r\n            log(\"InvisibleSystem started\");\r\n        }\r\n        update(dt) {\r\n            const entities = this.charactersMeditating.entities.slice();\r\n            for (let char of entities) {\r\n                const inv = char.getComponent(Invisible_3.Invisible);\r\n                inv.end -= dt;\r\n                if (inv.end <= 0) {\r\n                    Invisible_3.setVisible(char);\r\n                    if (char instanceof Character_3.Character) {\r\n                        char.sendConsoleMessage(\"You are visible again.\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.InvisibleSystem = InvisibleSystem;\r\n});\r\ndefine(\"sdk/Systems/Meditation\", [\"require\", \"exports\", \"sdk/Components/Stats\", \"sdk/Components/Meditation\", \"sdk/Components/Walking\", \"sdk/Components/Character\"], function (require, exports, Stats_3, Meditation_4, Walking_2, Character_4) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    const MANA_RECOVERY_FACTOR = 5 / 100; // 5%\r\n    class MeditationSystem {\r\n        constructor() {\r\n            this.timeCounter = 0;\r\n            this.onAdd = (entity) => {\r\n                if (entity instanceof Character_4.Character) {\r\n                    entity.sendConsoleMessage(\"You start meditating.\");\r\n                }\r\n            };\r\n            this.onRemove = (entity) => {\r\n                if (entity instanceof Character_4.Character) {\r\n                    entity.sendConsoleMessage(\"You stop meditating.\");\r\n                }\r\n            };\r\n        }\r\n        activate(engine) {\r\n            this.charactersMeditating = engine.getComponentGroup({ onAddEntity: this.onAdd, onRemoveEntity: this.onRemove }, Meditation_4.Meditating, Stats_3.CharStats);\r\n            log(\"MeditationSystem started\");\r\n        }\r\n        update(dt) {\r\n            this.timeCounter += dt;\r\n            if (this.timeCounter < 0.1)\r\n                return;\r\n            this.timeCounter = 0;\r\n            const entities = this.charactersMeditating.entities.slice();\r\n            for (let char of entities) {\r\n                const stats = char.getComponent(Stats_3.CharStats);\r\n                if (char.hasComponent(Walking_2.Walking)) {\r\n                    Meditation_4.stopMeditating(char);\r\n                    continue;\r\n                }\r\n                if (Math.random() < 0.5) {\r\n                    stats.minMana += (stats.maxMana * MANA_RECOVERY_FACTOR) | 0;\r\n                }\r\n                if (stats.minMana >= stats.maxMana) {\r\n                    stats.minMana = stats.maxMana;\r\n                    Meditation_4.stopMeditating(char);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.MeditationSystem = MeditationSystem;\r\n});\r\ndefine(\"sdk/Components/Paralysis\", [\"require\", \"exports\", \"sdk/Components/CharStatus\"], function (require, exports, CharStatus_2) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Paralyzed = class Paralyzed extends ObservableComponent {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.end = 0;\r\n        }\r\n    };\r\n    Paralyzed = __decorate([\r\n        Component(\"Paralyzed\")\r\n    ], Paralyzed);\r\n    exports.Paralyzed = Paralyzed;\r\n    function setParalyzed(entity) {\r\n        const inv = entity.getComponentOrCreate(Paralyzed);\r\n        inv.end = 15;\r\n        entity.getComponentOrCreate(CharStatus_2.CharStatus).paralyzed = true;\r\n    }\r\n    exports.setParalyzed = setParalyzed;\r\n    function setFree(entity) {\r\n        entity.getComponentOrCreate(CharStatus_2.CharStatus).paralyzed = false;\r\n        return entity.removeComponent(Paralyzed);\r\n    }\r\n    exports.setFree = setFree;\r\n    function isParalyzed(entity) {\r\n        return entity.hasComponent(Paralyzed);\r\n    }\r\n    exports.isParalyzed = isParalyzed;\r\n});\r\ndefine(\"sdk/Systems/Paralysis\", [\"require\", \"exports\", \"sdk/Components/Paralysis\", \"sdk/Components/Walking\", \"sdk/Components/Character\"], function (require, exports, Paralysis_1, Walking_3, Character_5) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class ParalysisSystem {\r\n        activate(engine) {\r\n            this.charactersMeditating = engine.getComponentGroup(Paralysis_1.Paralyzed);\r\n            log(\"ParalysisSystem started\");\r\n        }\r\n        update(dt) {\r\n            const entities = this.charactersMeditating.entities.slice();\r\n            for (let char of entities) {\r\n                const inv = char.getComponent(Paralysis_1.Paralyzed);\r\n                char.removeComponent(Walking_3.Walking);\r\n                inv.end -= dt;\r\n                if (inv.end <= 0) {\r\n                    Paralysis_1.setFree(char);\r\n                    if (char instanceof Character_5.Character) {\r\n                        char.sendConsoleMessage(\"You recovered your mobility.\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.ParalysisSystem = ParalysisSystem;\r\n});\r\ndefine(\"sdk/Balance\", [\"require\", \"exports\", \"sdk/Declares\", \"sdk/Enums\"], function (require, exports, Declares_5, Enums_10) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    const classModifier = new Map();\r\n    const raceModifier = new Map();\r\n    const calculatedBalance = [];\r\n    const defaultClassModifier = {\r\n        agility: 1,\r\n        dexterity: 1,\r\n        melee_dex: 1,\r\n        melee_dmg: 1,\r\n        range_dex: 1,\r\n        range_dmg: 1,\r\n        shield: 1,\r\n        vitality: 1,\r\n        will: 1,\r\n    };\r\n    const defaultRaceModifier = {\r\n        agility: 1,\r\n        dexterity: 1,\r\n        vitality: 1,\r\n        will: 1,\r\n        strength: 1,\r\n    };\r\n    const baseCalculated = {\r\n        accuracy: 1,\r\n        class: 1,\r\n        evasion: 1,\r\n        health_points: 200,\r\n        race: 1,\r\n    };\r\n    function getClassModifier(charClass) {\r\n        return classModifier.get(charClass) || defaultClassModifier;\r\n    }\r\n    exports.getClassModifier = getClassModifier;\r\n    function getRaceModifier(race) {\r\n        return raceModifier.get(race) || defaultRaceModifier;\r\n    }\r\n    exports.getRaceModifier = getRaceModifier;\r\n    function findCalculatedBalance(charClass, race) {\r\n        for (let i = 0; i < calculatedBalance.length; i++) {\r\n            const balance = calculatedBalance[i];\r\n            if (balance.class === charClass && balance.race === race) {\r\n                return balance;\r\n            }\r\n        }\r\n        return baseCalculated;\r\n    }\r\n    exports.findCalculatedBalance = findCalculatedBalance;\r\n    function userEvasion(user) {\r\n        // TODO: this can be faster\r\n        return (findCalculatedBalance(user.body.charClass, user.body.race).evasion * user.stats.getAbilityMultiplier(\"agility\"));\r\n    }\r\n    exports.userEvasion = userEvasion;\r\n    function userAccuracy(user) {\r\n        // TODO: this can be faster\r\n        return (findCalculatedBalance(user.body.charClass, user.body.race).accuracy * user.stats.getAbilityMultiplier(\"dexterity\"));\r\n    }\r\n    exports.userAccuracy = userAccuracy;\r\n    function normalizeSpell(skill) {\r\n        skill.makes_invisible = !!skill.makes_invisible;\r\n        skill.makes_paralized = !!skill.makes_paralized;\r\n        skill.makes_still = !!skill.makes_still;\r\n        skill.removes_paralysis = !!skill.removes_paralysis;\r\n        skill.removes_dumb = !!skill.removes_dumb;\r\n        skill.removes_invisibility = !!skill.removes_invisibility;\r\n        skill.heals_poison = !!skill.heals_poison;\r\n        skill.makes_poison = !!skill.makes_poison;\r\n        skill.resuscitates = !!skill.resuscitates;\r\n        skill.makes_blind = !!skill.makes_blind;\r\n        skill.makes_dumb = !!skill.makes_dumb;\r\n        skill.summons = !!skill.summons;\r\n        return skill;\r\n    }\r\n    async function loadSkills(json, ret) {\r\n        for (let skill of json) {\r\n            if (ret.has(skill.id)) {\r\n                error(`Duplicated spell ID: ${skill.id}`);\r\n            }\r\n            else {\r\n                ret.set(skill.id, normalizeSpell(skill));\r\n            }\r\n        }\r\n    }\r\n    exports.loadSkills = loadSkills;\r\n    function assert(condition, message, item) {\r\n        if (!condition) {\r\n            log(item);\r\n            throw Object.assign(new Error(message), { item });\r\n        }\r\n    }\r\n    function assertNumber(item, key) {\r\n        item[key] = (item[key] || 0);\r\n        assert(isFinite(item[key]), key + \" is finite\", item);\r\n    }\r\n    function normalizeItem(item) {\r\n        assert(!!item.id, \"id is required\", item);\r\n        assert(!!item.name, \"name is required\", item);\r\n        assert(!!item.object_type, \"object_type is missing\", item);\r\n        assert(!!Declares_5.ObjectTypes[item.object_type], \"object_type is not in the enum\", item);\r\n        item.grabable = !!item.grabable;\r\n        // item.poisons = !!item.poisons;\r\n        // item.stabs = !!item.stabs;\r\n        // assertNumber(item, \"price\");\r\n        // assertNumber(item, \"grh\");\r\n        // assertNumber(item, \"price\");\r\n        // assertNumber(item, \"animation\");\r\n        // assertNumber(item, \"max_hit\");\r\n        // assertNumber(item, \"min_hit\");\r\n        // assertNumber(item, \"duration\");\r\n        // assertNumber(item, \"max_modifier\");\r\n        // assertNumber(item, \"min_modifier\");\r\n        // assertNumber(item, \"max_defense\");\r\n        // assertNumber(item, \"min_defense\");\r\n        // assertNumber(item, \"spell\");\r\n        // assertNumber(item, \"staff_power\");\r\n        // assertNumber(item, \"staff_damage_bonus\");\r\n        // assertNumber(item, \"potion_type\");\r\n        // assertNumber(item, \"min_magical_defense\");\r\n        // assertNumber(item, \"max_magical_defense\");\r\n        // assertNumber(item, \"reinforcement\");\r\n        if (\"sound\" in item) {\r\n            assert(item.sound instanceof Array, \"sound is array\", item);\r\n            assert(item.sound.every(($) => isFinite($)), \"sound is array of numbers\", item);\r\n        }\r\n        if (\"allowed_classes\" in item) {\r\n            assert(item.allowed_classes instanceof Array, \"allowed_classes is array\", item);\r\n            assert(item.allowed_classes.every(($) => isFinite($)), \"allowed_classes is array of numbers\", item);\r\n            assert(item.allowed_classes.every(($) => !!Enums_10.CharClass[$]), \"allowed_classes are valid classes\", item);\r\n        }\r\n        if (item.object_type === Declares_5.ObjectTypes.Potion) {\r\n            assert(!!Declares_5.PotionType[item.potion_type], \"potion_type is not in the enum\", item);\r\n        }\r\n        if (item.object_type === Declares_5.ObjectTypes.Armor) {\r\n            item.short_people = !!item.short_people;\r\n            assertNumber(item, \"animation\");\r\n        }\r\n        if (item.object_type === Declares_5.ObjectTypes.Weapon) {\r\n            item.two_handed = !!item.two_handed;\r\n            item.projectile = !!item.projectile;\r\n            assertNumber(item, \"reinforcement\");\r\n        }\r\n        return item;\r\n    }\r\n    async function loadItems(json, ret) {\r\n        for (let item of json) {\r\n            if (ret.has(item.id)) {\r\n                error(`Duplicated item ID: ${item.id}`);\r\n            }\r\n            else {\r\n                ret.set(item.id, normalizeItem(item));\r\n            }\r\n        }\r\n    }\r\n    exports.loadItems = loadItems;\r\n    function getEquipableSlotsForItem(item) {\r\n        const ret = new Set();\r\n        if (item) {\r\n            switch (item.object_type) {\r\n                case Declares_5.ObjectTypes.Armor:\r\n                    ret.add(Enums_10.InventorySlots.Armor);\r\n                    break;\r\n                case Declares_5.ObjectTypes.Helmet:\r\n                    ret.add(Enums_10.InventorySlots.Head);\r\n                    break;\r\n                case Declares_5.ObjectTypes.Ring:\r\n                    ret.add(Enums_10.InventorySlots.Ring);\r\n                    break;\r\n                case Declares_5.ObjectTypes.Instrument:\r\n                case Declares_5.ObjectTypes.Arrows:\r\n                    ret.add(Enums_10.InventorySlots.Accessory);\r\n                    break;\r\n                case Declares_5.ObjectTypes.Potion:\r\n                    ret.add(Enums_10.InventorySlots.Belt1);\r\n                    ret.add(Enums_10.InventorySlots.Belt2);\r\n                    break;\r\n                case Declares_5.ObjectTypes.Shield:\r\n                    // ret.add(InventorySlots.LeftHand);\r\n                    ret.add(Enums_10.InventorySlots.RightHand);\r\n                    break;\r\n                case Declares_5.ObjectTypes.Weapon:\r\n                    ret.add(Enums_10.InventorySlots.RightHand);\r\n                    ret.add(Enums_10.InventorySlots.LeftHand);\r\n                    break;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    exports.getEquipableSlotsForItem = getEquipableSlotsForItem;\r\n    exports.skills = new Map();\r\n    exports.items = new Map();\r\n    function loadClassModifiers(modifiers) {\r\n        for (let modifier of modifiers) {\r\n            classModifier.set(modifier.class, modifier);\r\n        }\r\n    }\r\n    function loadRaceModifiers(modifiers) {\r\n        for (let modifier of modifiers) {\r\n            raceModifier.set(modifier.race, modifier);\r\n        }\r\n    }\r\n    function loadHealthModifiers(modifiers) {\r\n        calculatedBalance.length = 0;\r\n        calculatedBalance.push(...modifiers);\r\n    }\r\n    async function loadBalance() {\r\n        const env = await new Promise((resolve_1, reject_1) => { require([\"@arduz/Environment\"], resolve_1, reject_1); });\r\n        const balance = await env.getBalance();\r\n        await Promise.all([\r\n            loadSkills(balance.spells, exports.skills),\r\n            loadItems(balance.items, exports.items),\r\n            loadClassModifiers(balance.balance_class),\r\n            loadRaceModifiers(balance.balance_race),\r\n            loadHealthModifiers(balance.calculated_balance),\r\n        ]);\r\n    }\r\n    exports.loadBalance = loadBalance;\r\n});\r\ndefine(\"sdk/AtomicHelpers/Numbers\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function getRandomInteger(min, max) {\r\n        return Math.round(Math.random() * (max - min)) + min;\r\n    }\r\n    exports.getRandomInteger = getRandomInteger;\r\n    function getRandomFloat(min, max) {\r\n        return Math.random() * (max - min) + min;\r\n    }\r\n    exports.getRandomFloat = getRandomFloat;\r\n    function distance(x1, y1, x2, y2) {\r\n        return (x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2);\r\n    }\r\n    exports.distance = distance;\r\n});\r\ndefine(\"sdk/Components/AutomaticEquip\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let AutomaticEquip = class AutomaticEquip {\r\n    };\r\n    AutomaticEquip = __decorate([\r\n        Component(\"automaticEquip\")\r\n    ], AutomaticEquip);\r\n    exports.AutomaticEquip = AutomaticEquip;\r\n});\r\ndefine(\"sdk/AtomicHelpers/BodyHelpers\", [\"require\", \"exports\", \"sdk/Enums\", \"sdk/AtomicHelpers/Numbers\"], function (require, exports, Enums_11, Numbers_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function getNakedBody(gender, race) {\r\n        if (gender === Enums_11.Gender.Male) {\r\n            switch (race) {\r\n                case Enums_11.Race.Human:\r\n                    return 21;\r\n                case Enums_11.Race.Drow:\r\n                    return 32;\r\n                case Enums_11.Race.Elf:\r\n                    return 210;\r\n                case Enums_11.Race.Gnome:\r\n                    return 222;\r\n                case Enums_11.Race.Dwarf:\r\n                    return 53;\r\n            }\r\n        }\r\n        else {\r\n            switch (race) {\r\n                case Enums_11.Race.Human:\r\n                    return 39;\r\n                case Enums_11.Race.Drow:\r\n                    return 40;\r\n                case Enums_11.Race.Elf:\r\n                    return 259;\r\n                case Enums_11.Race.Gnome:\r\n                    return 260;\r\n                case Enums_11.Race.Dwarf:\r\n                    return 60;\r\n            }\r\n        }\r\n        return 21;\r\n    }\r\n    exports.getNakedBody = getNakedBody;\r\n    function getHead(gender, race) {\r\n        if (gender === Enums_11.Gender.Male) {\r\n            switch (race) {\r\n                case Enums_11.Race.Human:\r\n                    return Numbers_1.getRandomInteger(1, 40);\r\n                case Enums_11.Race.Drow:\r\n                    return Numbers_1.getRandomInteger(200, 210);\r\n                case Enums_11.Race.Elf:\r\n                    return Numbers_1.getRandomInteger(101, 112);\r\n                case Enums_11.Race.Gnome:\r\n                    return Numbers_1.getRandomInteger(401, 406);\r\n                case Enums_11.Race.Dwarf:\r\n                    return Numbers_1.getRandomInteger(300, 306);\r\n            }\r\n        }\r\n        else {\r\n            switch (race) {\r\n                case Enums_11.Race.Human:\r\n                    return Numbers_1.getRandomInteger(70, 79);\r\n                case Enums_11.Race.Drow:\r\n                    return Numbers_1.getRandomInteger(270, 278);\r\n                case Enums_11.Race.Elf:\r\n                    return Numbers_1.getRandomInteger(170, 178);\r\n                case Enums_11.Race.Gnome:\r\n                    return Numbers_1.getRandomInteger(370, 372);\r\n                case Enums_11.Race.Dwarf:\r\n                    return Numbers_1.getRandomInteger(470, 476);\r\n            }\r\n        }\r\n        return 1;\r\n    }\r\n    exports.getHead = getHead;\r\n});\r\ndefine(\"sdk/Systems/Inventory\", [\"require\", \"exports\", \"sdk/Declares\", \"sdk/Components/Character\", \"sdk/Balance\", \"sdk/Components/Inventory\", \"sdk/Events/CharEvents\", \"sdk/Components/Meditation\", \"sdk/Components/RequestTarget\", \"sdk/AtomicHelpers/Numbers\", \"sdk/Components/WorldPosition\", \"sdk/Components/Timers\", \"sdk/Components/AutomaticEquip\", \"sdk/Enums\", \"sdk/AtomicHelpers/BodyHelpers\"], function (require, exports, Declares_6, Character_6, Balance_1, Inventory_3, CharEvents_3, Meditation_5, RequestTarget_4, Numbers_2, WorldPosition_3, Timers_4, AutomaticEquip_1, Enums_12, BodyHelpers_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    const MANA_RECOVERY_FACTOR = 5 / 100;\r\n    class InventorySystem {\r\n        constructor() {\r\n            this.active = false;\r\n            this.automaticEquip = engine.getComponentGroup(AutomaticEquip_1.AutomaticEquip);\r\n        }\r\n        activate(engine) {\r\n            engine.eventManager.addListener(CharEvents_3.CharUsesItem, this, this.useItem);\r\n            engine.eventManager.addListener(CharEvents_3.MoveItems, this, this.handleMoveItems);\r\n            log(\"InventorySystem started\");\r\n        }\r\n        useItem(event) {\r\n            const { char, slot, x, y } = event;\r\n            const inventory = char.getComponentOrNull(Inventory_3.Inventory);\r\n            if (!inventory)\r\n                return;\r\n            const invSlot = inventory.getItem(slot);\r\n            const timers = char.getComponentOrNull(Timers_4.Timers);\r\n            if (!invSlot) {\r\n                log(\"cancel USE, empty slot\", Enums_12.InventorySlots[slot]);\r\n                return;\r\n            }\r\n            if (timers) {\r\n                if (invSlot.item.object_type == Declares_6.ObjectTypes.Weapon) {\r\n                    if (!timers.canUseItem(!invSlot.item.projectile)) {\r\n                        log(\"cancel USE due to timer\");\r\n                        return;\r\n                    }\r\n                }\r\n                else {\r\n                    if (!timers.canUseItem()) {\r\n                        log(\"cancel USE due to timer\");\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n            if (Meditation_5.isMeditating(char)) {\r\n                char.sendConsoleMessage(Enums_12.ConsoleMessages[\"You can't use items while you are meditating!\"]);\r\n                return;\r\n            }\r\n            const body = char.body;\r\n            if (body.dead) {\r\n                char.sendConsoleMessage(Enums_12.ConsoleMessages[\"You can't use items while you are dead!\"]);\r\n                return;\r\n            }\r\n            const isTargetingFloor = typeof x !== \"undefined\" && typeof y !== \"undefined\";\r\n            switch (invSlot.item.object_type) {\r\n                case Declares_6.ObjectTypes.Weapon: {\r\n                    if (invSlot.item.projectile) {\r\n                        if (isTargetingFloor) {\r\n                            const arrowSlot = inventory.getItem(Enums_12.InventorySlots.Accessory);\r\n                            if (!arrowSlot || arrowSlot.amount <= 0) {\r\n                                char.sendConsoleMessage(Enums_12.ConsoleMessages[\"There are no equipped projectile!\"]);\r\n                            }\r\n                            else {\r\n                                for (let entity of WorldPosition_3.entitiesInPosition(x, y)) {\r\n                                    if (entity instanceof Character_6.Character) {\r\n                                        if (entity.body.dead) {\r\n                                            char.sendConsoleMessage(Enums_12.ConsoleMessages[\"You can't attack dead players!\"]);\r\n                                        }\r\n                                        else\r\n                                            CharEvents_3.charAttacksEntity(char, entity, true);\r\n                                    }\r\n                                    break;\r\n                                }\r\n                                char.position.sendProjectile(char.position.x, char.position.y, x, y, 1, Declares_6.KnownSounds.SWING);\r\n                                inventory.removeItemFromSlot(Enums_12.InventorySlots.Accessory, 1);\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (slot !== Enums_12.InventorySlots.LeftHand &&\r\n                                slot !== Enums_12.InventorySlots.RightHand) {\r\n                                char.sendConsoleMessage(Enums_12.ConsoleMessages[\"You need to equip your weapon before using it!\"]);\r\n                                return;\r\n                            }\r\n                            RequestTarget_4.requestTargetFor(char, Enums_12.TargetType.Char, slot);\r\n                        }\r\n                    }\r\n                    else {\r\n                        char.sendConsoleMessage(Enums_12.ConsoleMessages[\"You can't use that weapon that way!\"]);\r\n                    }\r\n                    break;\r\n                }\r\n                case Declares_6.ObjectTypes.Potion: {\r\n                    const stats = char.stats;\r\n                    if (timers) {\r\n                        if (!timers.canAttack(false)) {\r\n                            // \"¡Debes esperar unos momentos para tomar otra pocion!\"\r\n                            return;\r\n                        }\r\n                    }\r\n                    switch (invSlot.item.potion_type) {\r\n                        case Declares_6.PotionType.Agility: {\r\n                            // use the item\r\n                            // TODO\r\n                            // char.addAbilityModifier(\r\n                            //   \"agility\", // TODO skills\r\n                            //   getRandomFloat(item.min_modifier, item.max_modifier),\r\n                            //   item.duration\r\n                            // );\r\n                            inventory.removeItemFromSlot(slot, 1);\r\n                            break;\r\n                        }\r\n                        case Declares_6.PotionType.Strenght: {\r\n                            // use the item\r\n                            // TODO\r\n                            // char.addAbilityModifier(\r\n                            //   \"strength\", // TODO skills\r\n                            //   getRandomFloat(item.min_modifier, item.max_modifier),\r\n                            //   item.duration\r\n                            // );\r\n                            inventory.removeItemFromSlot(slot, 1);\r\n                            break;\r\n                        }\r\n                        case Declares_6.PotionType.HP: {\r\n                            // use the item\r\n                            stats.minHp =\r\n                                stats.minHp +\r\n                                    stats.maxHp *\r\n                                        Numbers_2.getRandomFloat(invSlot.item.min_modifier, invSlot.item.max_modifier);\r\n                            stats.minHp = Math.min(stats.minHp, stats.maxHp) | 0;\r\n                            inventory.removeItemFromSlot(slot, 1);\r\n                            break;\r\n                        }\r\n                        case Declares_6.PotionType.Mana: {\r\n                            // use the item\r\n                            stats.minMana =\r\n                                stats.minMana + stats.maxMana * MANA_RECOVERY_FACTOR;\r\n                            stats.minMana = Math.min(stats.minMana, stats.maxMana) | 0;\r\n                            inventory.removeItemFromSlot(slot, 1);\r\n                            break;\r\n                        }\r\n                        case Declares_6.PotionType.Poison: {\r\n                            // use the item\r\n                            // TODO\r\n                            // if (char.poisonedTimer) {\r\n                            //   char.poisonedTimer = 0;\r\n                            //   char.sendStatus();\r\n                            //   char.sendConsoleMessage(ConsoleMessages[\"You've been cured of poisoning!\"]);\r\n                            // }\r\n                            inventory.removeItemFromSlot(slot, 1);\r\n                            break;\r\n                        }\r\n                        case Declares_6.PotionType.Suicide: {\r\n                            // use the item\r\n                            char.die();\r\n                            inventory.removeItemFromSlot(slot, 1);\r\n                            break;\r\n                        }\r\n                    }\r\n                    // sound\r\n                    if (invSlot.item.sound && invSlot.item.sound.length) {\r\n                        char.sendSound(invSlot.item.sound[Numbers_2.getRandomInteger(0, invSlot.item.sound.length - 1)]);\r\n                    }\r\n                    else {\r\n                        char.sendSound(Declares_6.KnownSounds.DRINK);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        findItem(char, inventory, toSlot) {\r\n            if (!inventory.getItem(toSlot)) {\r\n                for (let [slot, item] of inventory.entries()) {\r\n                    item &&\r\n                        item.item &&\r\n                        this.handleMoveItems(new CharEvents_3.MoveItems(char, slot, toSlot, false));\r\n                }\r\n            }\r\n        }\r\n        handleMoveItems(event) {\r\n            const { char, from, to, sendMessages } = event;\r\n            const inventory = char.getComponentOrNull(Inventory_3.Inventory);\r\n            if (!inventory)\r\n                return;\r\n            if (from === to)\r\n                return;\r\n            if (from === Enums_12.InventorySlots.NONE || to === Enums_12.InventorySlots.NONE)\r\n                return;\r\n            const fromItem = inventory.getItem(from);\r\n            const toItem = inventory.getItem(to);\r\n            // TODO: check max inv slot\r\n            if (fromItem &&\r\n                toItem &&\r\n                from > Enums_12.InventorySlots.Slot16 &&\r\n                to <= Enums_12.InventorySlots.Slot16) {\r\n                this.handleMoveItems(new CharEvents_3.MoveItems(char, to, from, sendMessages));\r\n                return;\r\n            }\r\n            // 4x4 inventory\r\n            if (from < Enums_12.InventorySlots.Slot16 && to < Enums_12.InventorySlots.Slot16) {\r\n                this.moveItems(char, from, to);\r\n                return;\r\n            }\r\n            // swap belt items\r\n            if ((from === Enums_12.InventorySlots.Belt1 && to === Enums_12.InventorySlots.Belt2) ||\r\n                (to === Enums_12.InventorySlots.Belt1 && from === Enums_12.InventorySlots.Belt2)) {\r\n                this.moveItems(char, from, to);\r\n                return;\r\n            }\r\n            // trying to equip an item\r\n            if (fromItem && to > Enums_12.InventorySlots.Slot16) {\r\n                const possibleSlots = Balance_1.getEquipableSlotsForItem(fromItem.item);\r\n                if (possibleSlots.has(to) &&\r\n                    Inventory_3.canEquip(char, fromItem.item, to, sendMessages)) {\r\n                    this.moveItems(char, from, to);\r\n                }\r\n                return;\r\n            }\r\n            // trying to unequip to empty position\r\n            if (fromItem &&\r\n                !toItem &&\r\n                from > Enums_12.InventorySlots.Slot16 &&\r\n                to <= Enums_12.InventorySlots.Slot16) {\r\n                this.moveItems(char, from, to);\r\n                return;\r\n            }\r\n            log(\"handle move failed\", Enums_12.InventorySlots[from], Enums_12.InventorySlots[to]);\r\n        }\r\n        refreshGraphics(char) {\r\n            const inventory = char.inventory;\r\n            if (!inventory)\r\n                return;\r\n            const body = char.body;\r\n            const leftHandItem = inventory.getItem(Enums_12.InventorySlots.LeftHand);\r\n            body.isLeftHandWeapon =\r\n                (leftHandItem && leftHandItem.item.object_type === Declares_6.ObjectTypes.Weapon) ||\r\n                    false;\r\n            body.leftHand =\r\n                (leftHandItem && leftHandItem.item.animation) || 0;\r\n            const rightHandItem = inventory.getItem(Enums_12.InventorySlots.RightHand);\r\n            body.isRightHandWeapon =\r\n                (rightHandItem &&\r\n                    rightHandItem.item.object_type === Declares_6.ObjectTypes.Weapon) ||\r\n                    false;\r\n            body.rightHand =\r\n                (rightHandItem && rightHandItem.item.animation) || 0;\r\n            const helmetItem = inventory.getItem(Enums_12.InventorySlots.Head);\r\n            body.helmet =\r\n                (helmetItem && helmetItem.item.animation) || 0;\r\n            const bodyItem = inventory.getItem(Enums_12.InventorySlots.Armor);\r\n            body.body =\r\n                (bodyItem && bodyItem.item.animation) ||\r\n                    BodyHelpers_1.getNakedBody(body.gender, body.race);\r\n        }\r\n        moveItems(char, fromSlot, toSlot) {\r\n            const inventory = char.getComponentOrNull(Inventory_3.Inventory);\r\n            if (!inventory)\r\n                return;\r\n            if (fromSlot === Enums_12.InventorySlots.NONE || toSlot === Enums_12.InventorySlots.NONE)\r\n                return;\r\n            // TODO: check max inv slot\r\n            const fromItem = inventory.getItem(fromSlot);\r\n            const toItem = inventory.getItem(toSlot);\r\n            if (toItem) {\r\n                inventory.setItem(fromSlot, toItem);\r\n            }\r\n            else {\r\n                inventory.setItem(fromSlot, null);\r\n            }\r\n            if (toSlot === Enums_12.InventorySlots.LeftHand ||\r\n                toSlot === Enums_12.InventorySlots.RightHand) {\r\n                if (fromItem && fromItem.item.object_type === Declares_6.ObjectTypes.Weapon) {\r\n                    char.sendSound(Declares_6.KnownSounds.EQUIP_WEAPON);\r\n                }\r\n            }\r\n            if (fromItem) {\r\n                inventory.setItem(toSlot, fromItem);\r\n            }\r\n            else {\r\n                inventory.setItem(toSlot, null);\r\n            }\r\n            this.refreshGraphics(char);\r\n        }\r\n        baseEquipment(char) {\r\n            const inv = char.getComponentOrNull(Inventory_3.Inventory);\r\n            if (!inv)\r\n                return;\r\n            // finds suitable items to max the equiped set\r\n            this.findItem(char, inv, Enums_12.InventorySlots.LeftHand);\r\n            this.findItem(char, inv, Enums_12.InventorySlots.RightHand);\r\n            this.findItem(char, inv, Enums_12.InventorySlots.Armor);\r\n            this.findItem(char, inv, Enums_12.InventorySlots.Accessory);\r\n            this.findItem(char, inv, Enums_12.InventorySlots.Ring);\r\n            this.findItem(char, inv, Enums_12.InventorySlots.Head);\r\n            this.findItem(char, inv, Enums_12.InventorySlots.Belt1);\r\n            this.findItem(char, inv, Enums_12.InventorySlots.Belt2);\r\n        }\r\n        update() {\r\n            for (let entity of this.automaticEquip.entities.slice()) {\r\n                this.baseEquipment(entity);\r\n                this.refreshGraphics(entity);\r\n                entity.removeComponent(AutomaticEquip_1.AutomaticEquip);\r\n            }\r\n        }\r\n    }\r\n    exports.InventorySystem = InventorySystem;\r\n});\r\ndefine(\"sdk/Functions/Helpers\", [\"require\", \"exports\", \"sdk/Declares\", \"sdk/Components/Character\", \"sdk/Components/Archetype\", \"sdk/Components/Inventory\", \"sdk/Components/Skills\", \"sdk/Components/Body\", \"sdk/Components/Stats\", \"sdk/AtomicHelpers/Slots\", \"sdk/Enums\"], function (require, exports, Declares_7, Character_7, Archetype_2, Inventory_4, Skills_3, Body_3, Stats_4, Slots_4, Enums_13) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function getCharWeapon(char) {\r\n        const body = char.getComponentOrNull(Body_3.Body);\r\n        const inventory = char.getComponentOrNull(Inventory_4.Inventory);\r\n        if (!body)\r\n            return null;\r\n        if (!inventory)\r\n            return null;\r\n        let leftOrRight = Enums_13.InventorySlots.NONE;\r\n        if (body.isLeftHandWeapon && body.isRightHandWeapon) {\r\n            leftOrRight =\r\n                Math.random() > 0.5 ? Enums_13.InventorySlots.LeftHand : Enums_13.InventorySlots.RightHand;\r\n        }\r\n        else if (body.isLeftHandWeapon) {\r\n            leftOrRight = Enums_13.InventorySlots.LeftHand;\r\n        }\r\n        else if (body.isRightHandWeapon) {\r\n            leftOrRight = Enums_13.InventorySlots.RightHand;\r\n        }\r\n        const weapon = inventory.getItem(leftOrRight);\r\n        if (leftOrRight !== Enums_13.InventorySlots.NONE && weapon) {\r\n            return weapon.item;\r\n        }\r\n        return null;\r\n    }\r\n    exports.getCharWeapon = getCharWeapon;\r\n    function getCharShield(char) {\r\n        const body = char.getComponentOrNull(Body_3.Body);\r\n        const inventory = char.getComponentOrNull(Inventory_4.Inventory);\r\n        if (!body)\r\n            return null;\r\n        if (!inventory)\r\n            return null;\r\n        let leftOrRight = Enums_13.InventorySlots.NONE;\r\n        if (body.isLeftHandWeapon && body.isRightHandWeapon) {\r\n            leftOrRight = Enums_13.InventorySlots.NONE;\r\n        }\r\n        else if (body.isLeftHandWeapon) {\r\n            leftOrRight = Enums_13.InventorySlots.RightHand;\r\n        }\r\n        else if (body.isRightHandWeapon) {\r\n            leftOrRight = Enums_13.InventorySlots.LeftHand;\r\n        }\r\n        const shield = inventory.getItem(leftOrRight);\r\n        if (leftOrRight !== Enums_13.InventorySlots.NONE &&\r\n            shield &&\r\n            shield.item.object_type === Declares_7.ObjectTypes.Shield) {\r\n            return shield;\r\n        }\r\n        return null;\r\n    }\r\n    exports.getCharShield = getCharShield;\r\n    function loadCharacterFromArchetype(char, id) {\r\n        const arch = char.getComponentOrNull(Archetype_2.Archetypes);\r\n        if (!arch)\r\n            return;\r\n        const description = arch.getArchetype(id);\r\n        if (!description)\r\n            return;\r\n        const inv = char.getComponentOrCreate(Inventory_4.Inventory);\r\n        const skills = char.getComponentOrCreate(Skills_3.Skills);\r\n        const body = char.getComponentOrCreate(Body_3.Body);\r\n        const stats = char.getComponentOrCreate(Stats_4.CharStats);\r\n        if (char instanceof Character_7.Character) {\r\n            char.resetFlags();\r\n            char.die();\r\n        }\r\n        body.nick = description.nick || body.nick || \"Character\";\r\n        body.charClass = description.charClass;\r\n        body.head = description.head;\r\n        body.race = description.race;\r\n        body.charClass = description.charClass;\r\n        body.body = description.body;\r\n        body.gender = description.gender;\r\n        stats.minHp = description.minHp;\r\n        stats.maxHp = description.maxHp;\r\n        stats.minMana = description.minMana;\r\n        stats.maxMana = description.maxMana;\r\n        inv.clear();\r\n        // Set the new inventory\r\n        const invSlots = [];\r\n        description.inventory.forEach(($) => {\r\n            // TODO: validate slot\r\n            if (!Slots_4.isSkillSlot($.slot)) {\r\n                inv.setItem($.slot, { ...$ });\r\n                invSlots.push($.slot);\r\n            }\r\n        });\r\n        // Set the new inventory\r\n        const spellSlots = [];\r\n        description.skills.forEach(($) => {\r\n            // TODO: validate slot\r\n            if (Slots_4.isSkillSlot($.slot)) {\r\n                skills.setItem($.slot, $.skill);\r\n                spellSlots.push($.slot);\r\n            }\r\n        });\r\n    }\r\n    exports.loadCharacterFromArchetype = loadCharacterFromArchetype;\r\n});\r\ndefine(\"sdk/Functions/combatHelpers\", [\"require\", \"exports\", \"sdk/Components/Meditation\", \"sdk/Enums\"], function (require, exports, Meditation_6, Enums_14) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function sendDamage(attacker, victim, damage) {\r\n        damage = damage | 0;\r\n        attacker.sendConsoleMessage(Enums_14.ConsoleMessages[\"You hitted {{char}} by {{damage}}\"], {\r\n            char: victim.body.nick,\r\n            damage: damage.toString(),\r\n        });\r\n        victim.sendConsoleMessage(Enums_14.ConsoleMessages[\"{{char}} damaged you by {{damage}} points\"], {\r\n            char: attacker.body.nick,\r\n            damage: damage.toString(),\r\n        });\r\n        victim.stats.minHp = Math.round(victim.stats.minHp - damage);\r\n        attacker.position.sendHit(victim.position.x, victim.position.y, damage.toString(), 0xf32121);\r\n        Meditation_6.stopMeditating(victim);\r\n        if (victim.stats.minHp <= 0) {\r\n            victim.stats.minHp = 0;\r\n            victim.die();\r\n            attacker.sendConsoleMessage(Enums_14.ConsoleMessages[\"You killed {{char}}!\"], {\r\n                char: victim.body.nick,\r\n            });\r\n        }\r\n    }\r\n    exports.sendDamage = sendDamage;\r\n});\r\ndefine(\"sdk/Systems/Combat\", [\"require\", \"exports\", \"sdk/Declares\", \"sdk/Components/Character\", \"sdk/Functions/Helpers\", \"sdk/Balance\", \"sdk/Functions/combatHelpers\", \"sdk/Events/CharEvents\", \"sdk/AtomicHelpers/Numbers\", \"sdk/Components/Fx\", \"sdk/Enums\"], function (require, exports, Declares_8, Character_8, Helpers_1, Balance_2, combatHelpers_1, CharEvents_4, Numbers_3, Fx_3, Enums_15) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    const HIT_CHANCE_BASE = 50;\r\n    const BLOOD_FX = 14;\r\n    class CombatSystem {\r\n        constructor() {\r\n            this.active = false;\r\n        }\r\n        activate(engine) {\r\n            engine.eventManager.addListener(CharEvents_4.CharAttacksChar, this, this.charAttacksChar);\r\n            log(\"CombatSystem started\");\r\n        }\r\n        charImpactsChar(weapon, attacker, victim) {\r\n            const shield = Helpers_1.getCharShield(victim);\r\n            const victimModifiers = Balance_2.getClassModifier(victim.body.charClass);\r\n            const attackerModifiers = Balance_2.getClassModifier(attacker.body.charClass);\r\n            let successChances = 0;\r\n            let victimEvasion = Balance_2.userEvasion(victim);\r\n            let attackerDexterity = Balance_2.userAccuracy(attacker);\r\n            if (shield) {\r\n                victimEvasion += victimModifiers.shield;\r\n            }\r\n            if (weapon) {\r\n                if (weapon.projectile) {\r\n                    attackerDexterity += attackerModifiers.range_dex;\r\n                }\r\n                else {\r\n                    attackerDexterity += attackerModifiers.melee_dex;\r\n                }\r\n            }\r\n            successChances = HIT_CHANCE_BASE * (attackerDexterity / victimEvasion);\r\n            if (Numbers_3.getRandomInteger(1, 100) > successChances) {\r\n                attacker.sendConsoleMessage(\"You miss the hit\");\r\n                if (weapon) {\r\n                    attacker.position.sendWeaponSwing(attacker, attacker.body.isLeftHandWeapon\r\n                        ? Enums_15.InventorySlots.LeftHand\r\n                        : Enums_15.InventorySlots.RightHand, Declares_8.KnownSounds.SWING);\r\n                }\r\n                else {\r\n                    attacker.position.sendWeaponSwing(attacker, Enums_15.InventorySlots.NONE, Declares_8.KnownSounds.SWING);\r\n                }\r\n                return false;\r\n            }\r\n            else if (shield) {\r\n                const shieldChances = HIT_CHANCE_BASE *\r\n                    victimModifiers.shield *\r\n                    shield.item.max_modifier;\r\n                if (Numbers_3.getRandomInteger(1, 100) > shieldChances) {\r\n                    // 'Se rechazo el ataque con el escudo\r\n                    attacker.sendConsoleMessage(\"The attack was rejected with a shield\");\r\n                    attacker.position.sendWeaponSwing(victim, victim.body.isLeftHandWeapon\r\n                        ? Enums_15.InventorySlots.RightHand\r\n                        : Enums_15.InventorySlots.LeftHand, Declares_8.KnownSounds.SHIELD);\r\n                    return false;\r\n                }\r\n                else {\r\n                    return true;\r\n                }\r\n            }\r\n            else {\r\n                if (weapon && weapon.projectile) {\r\n                    attacker.position.sendWeaponSwing(attacker, attacker.body.isLeftHandWeapon\r\n                        ? Enums_15.InventorySlots.LeftHand\r\n                        : Enums_15.InventorySlots.RightHand, Declares_8.KnownSounds.IMPACT2);\r\n                }\r\n                else if (weapon) {\r\n                    attacker.position.sendWeaponSwing(attacker, attacker.body.isLeftHandWeapon\r\n                        ? Enums_15.InventorySlots.LeftHand\r\n                        : Enums_15.InventorySlots.RightHand, Declares_8.KnownSounds.IMPACT);\r\n                }\r\n                else {\r\n                    attacker.position.sendWeaponSwing(victim, Enums_15.InventorySlots.NONE, Declares_8.KnownSounds.IMPACT);\r\n                }\r\n                victim.getComponentOrCreate(Fx_3.Fx).set(BLOOD_FX, 1);\r\n                return true;\r\n            }\r\n        }\r\n        charAttacksChar(event) {\r\n            const { attacker, victim, projectile } = event;\r\n            if (attacker === victim) {\r\n                attacker.sendConsoleMessage(Enums_15.ConsoleMessages[\"You can't attack yourself!\"]);\r\n                return;\r\n            }\r\n            if (attacker.body.dead) {\r\n                return;\r\n            }\r\n            if (!(victim instanceof Character_8.Character)) {\r\n                attacker.sendConsoleMessage(\"You can only attack characters!\");\r\n                return;\r\n            }\r\n            if (victim.body.dead) {\r\n                attacker.sendConsoleMessage(Enums_15.ConsoleMessages[\"You can't attack dead characters!\"]);\r\n                return;\r\n            }\r\n            const timers = attacker.timers;\r\n            if (!timers.canUseBow(false)) {\r\n                return;\r\n            }\r\n            if (timers.canSkillAttack()) {\r\n                return;\r\n            }\r\n            // TODO: check distance\r\n            // TODO: check interval\r\n            let absorbedDamage = 0;\r\n            const weapon = Helpers_1.getCharWeapon(attacker);\r\n            if (weapon && weapon.projectile != projectile) {\r\n                attacker.sendConsoleMessage(Enums_15.ConsoleMessages[\"You can't use that weapon that way!\"]);\r\n                return;\r\n            }\r\n            if (!this.charImpactsChar(weapon, attacker, victim)) {\r\n                return;\r\n            }\r\n            let damage = this.calculateDamage(weapon, attacker, victim);\r\n            const resist = (damage.weapon && damage.weapon.reinforcement) || 0;\r\n            const partOfBody = Numbers_3.getRandomInteger(1, 6); // 1 == head\r\n            if (partOfBody === 1 /*head*/) {\r\n                const helmet = victim.inventory && victim.inventory.getItem(Enums_15.InventorySlots.Head);\r\n                if (helmet && helmet.item.object_type == Declares_8.ObjectTypes.Helmet) {\r\n                    absorbedDamage = Numbers_3.getRandomFloat(helmet.item.min_defense, helmet.item.max_defense);\r\n                    absorbedDamage = absorbedDamage - resist;\r\n                    damage.damage = damage.damage - absorbedDamage;\r\n                    if (damage.damage < 1)\r\n                        damage.damage = 1;\r\n                }\r\n            }\r\n            else {\r\n                const armor = victim.inventory && victim.inventory.getItem(Enums_15.InventorySlots.Armor);\r\n                const shield = Helpers_1.getCharShield(victim);\r\n                if (armor && armor.item.object_type == Declares_8.ObjectTypes.Armor) {\r\n                    if (shield && shield.item.object_type == Declares_8.ObjectTypes.Shield) {\r\n                        absorbedDamage = Numbers_3.getRandomFloat(armor.item.min_defense + shield.item.min_defense, armor.item.max_defense + shield.item.max_defense);\r\n                    }\r\n                    else {\r\n                        absorbedDamage = Numbers_3.getRandomFloat(armor.item.min_defense, armor.item.max_defense);\r\n                    }\r\n                    absorbedDamage = absorbedDamage - resist;\r\n                    damage.damage = damage.damage - absorbedDamage;\r\n                    if (damage.damage < 1)\r\n                        damage.damage = 1;\r\n                }\r\n            }\r\n            damage.damage = damage.damage | 0;\r\n            // TODO: send the console messages to both parties\r\n            combatHelpers_1.sendDamage(attacker, victim, damage.damage);\r\n        }\r\n        calculateDamage(weapon, attacker, victim) {\r\n            const attackerClassModifiers = Balance_2.getClassModifier(attacker.body.charClass);\r\n            const attackerRaceModifiers = Balance_2.getRaceModifier(attacker.body.race);\r\n            let weaponTypeModifier = 0;\r\n            let weaponDamage = 0;\r\n            // dagger=dex, wrestling=str\r\n            let typeModifier = \"dexterity\";\r\n            if (!weapon) {\r\n                typeModifier = \"strength\";\r\n                weaponTypeModifier = attackerClassModifiers.melee_dmg;\r\n            }\r\n            else {\r\n                typeModifier = \"dexterity\";\r\n                if (weapon.projectile) {\r\n                    weaponTypeModifier = attackerClassModifiers.range_dmg;\r\n                    weaponDamage = Numbers_3.getRandomFloat(weapon.min_hit, weapon.max_hit);\r\n                    const projectile = attacker.inventory &&\r\n                        attacker.inventory.getItem(Enums_15.InventorySlots.Accessory);\r\n                    if (projectile && projectile.item.object_type === Declares_8.ObjectTypes.Arrows) {\r\n                        weaponDamage =\r\n                            weaponDamage +\r\n                                Numbers_3.getRandomFloat(projectile.item.min_hit, projectile.item.max_hit);\r\n                    }\r\n                }\r\n                else {\r\n                    weaponTypeModifier = attackerClassModifiers.melee_dmg;\r\n                    weaponDamage = Numbers_3.getRandomFloat(weapon.min_hit, weapon.max_hit);\r\n                }\r\n            }\r\n            const abilityModifier = attackerRaceModifiers[typeModifier] *\r\n                attacker.stats.getAbilityMultiplier(typeModifier);\r\n            // const tmpDamage = getRandomInteger(attacker.minHit, attacker.maxHit);\r\n            // TODO skills\r\n            return {\r\n                damage: (10 * abilityModifier * weaponDamage * weaponTypeModifier) | 0,\r\n                weapon,\r\n            };\r\n        }\r\n    }\r\n    exports.CombatSystem = CombatSystem;\r\n});\r\ndefine(\"sdk/Components/Mimetism\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    const MIMETISM_DURATION = 15;\r\n    let Mimetism = class Mimetism {\r\n        constructor() {\r\n            this.timer = MIMETISM_DURATION;\r\n        }\r\n        restart() {\r\n            this.timer = MIMETISM_DURATION;\r\n        }\r\n    };\r\n    Mimetism = __decorate([\r\n        Component(\"mimetism\")\r\n    ], Mimetism);\r\n    exports.Mimetism = Mimetism;\r\n});\r\ndefine(\"sdk/Systems/Skill\", [\"require\", \"exports\", \"sdk/Declares\", \"sdk/Functions/Helpers\", \"sdk/Components/Character\", \"sdk/Functions/combatHelpers\", \"sdk/Components/Skills\", \"sdk/Components/Meditation\", \"sdk/Components/Invisible\", \"sdk/Components/Paralysis\", \"sdk/Events/CharEvents\", \"sdk/AtomicHelpers/Numbers\", \"sdk/Components/WorldPosition\", \"sdk/Components/Fx\", \"sdk/Components/Mimetism\", \"sdk/Enums\"], function (require, exports, Declares_9, Helpers_2, Character_9, combatHelpers_2, Skills_4, Meditation_7, Invisible_4, Paralysis_2, CharEvents_5, Numbers_4, WorldPosition_4, Fx_4, Mimetism_1, Enums_16) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class SkillSystem {\r\n        activate(engine) {\r\n            engine.eventManager.addListener(CharEvents_5.CharUsesSkill, this, this.useSkill);\r\n            log(\"SkillSystem started\");\r\n        }\r\n        useSkill(event) {\r\n            const { char, slot, x, y } = event;\r\n            const skills = char.getComponentOrNull(Skills_4.Skills);\r\n            if (Meditation_7.isMeditating(char))\r\n                return;\r\n            if (skills) {\r\n                const spell = skills.getItem(slot);\r\n                if (spell) {\r\n                    if (Skills_4.canCastSpell(char, spell)) {\r\n                        if (spell.target === Declares_9.SkillTarget.Terrain) {\r\n                            this.doTerrainSpell(char, x, y, spell);\r\n                        }\r\n                        else {\r\n                            let didAttack = false;\r\n                            for (let entity of WorldPosition_4.entitiesInPosition(x, y)) {\r\n                                if (entity instanceof Character_9.Character) {\r\n                                    this.doCharacterSpell(char, entity, spell);\r\n                                    didAttack = true;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (!didAttack) {\r\n                                char.sendConsoleMessage(\"Invalid target!\");\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        spellCasterEffect(caster, spell) {\r\n            const stats = caster.stats;\r\n            stats.minMana = Math.max(stats.minMana - spell.required_mana, 0) | 0;\r\n            caster.sayMagicWords(spell.spell);\r\n            caster.sendSound(spell.sound);\r\n        }\r\n        doTerrainSpell(caster, x, y, spell) {\r\n            if (!Skills_4.canCastSpell(caster, spell))\r\n                return;\r\n            this.spellCasterEffect(caster, spell);\r\n        }\r\n        doCharacterSpell(casterChar, victimChar, spell) {\r\n            if (!Skills_4.canCastSpell(casterChar, spell))\r\n                return;\r\n            const requiresAliveTarget = !spell.resuscitates;\r\n            const isAttackSpell = spell.increase_hp == -1 ||\r\n                spell.increase_mana == -1 ||\r\n                spell.makes_paralized ||\r\n                spell.makes_still ||\r\n                spell.makes_poison ||\r\n                spell.makes_dumb;\r\n            if (victimChar.body.dead && requiresAliveTarget) {\r\n                casterChar.sendConsoleMessage(\"The target is dead!\");\r\n                return;\r\n            }\r\n            if (isAttackSpell && casterChar === victimChar) {\r\n                casterChar.sendConsoleMessage(\"You can't attack yourself!\");\r\n                return;\r\n            }\r\n            if (victimChar.body.dead && spell.resuscitates) {\r\n                victimChar.resucitate(false);\r\n                victimChar.sendConsoleMessage(\"{{caster}} resucitated you!\", {\r\n                    caster: casterChar.body.nick,\r\n                });\r\n                casterChar.sendConsoleMessage(\"You resucitated {{victim}}!\", {\r\n                    victim: victimChar.body.nick,\r\n                });\r\n            }\r\n            if (spell.makes_invisible) {\r\n                Invisible_4.setInvisible(victimChar);\r\n                victimChar.sendConsoleMessage(\"{{caster}} made you invisible!\", {\r\n                    caster: casterChar.body.nick,\r\n                });\r\n                casterChar.sendConsoleMessage(\"You made {{victim}} invisible!\", {\r\n                    victim: victimChar.body.nick,\r\n                });\r\n            }\r\n            if (spell.makes_paralized || spell.makes_still) {\r\n                Paralysis_2.setParalyzed(victimChar);\r\n                victimChar.sendConsoleMessage(\"{{caster}} paralyzed you!\", {\r\n                    caster: casterChar.body.nick,\r\n                });\r\n                casterChar.sendConsoleMessage(\"You paralyzed {{victim}}!\", {\r\n                    victim: victimChar.body.nick,\r\n                });\r\n            }\r\n            // if (spell.makes_blind && victim. != 0) {\r\n            //   victim.poisonedTimer = -1;\r\n            // }\r\n            if (spell.removes_paralysis) {\r\n                if (Paralysis_2.setFree(victimChar)) {\r\n                    victimChar.sendConsoleMessage(\"{{caster}} removed your paralysis!\", {\r\n                        caster: casterChar.body.nick,\r\n                    });\r\n                    casterChar.sendConsoleMessage(\"You removed {{victim}} paralysis!\", {\r\n                        victim: victimChar.body.nick,\r\n                    });\r\n                }\r\n            }\r\n            if (spell.removes_invisibility) {\r\n                if (Invisible_4.setVisible(victimChar)) {\r\n                    victimChar.sendConsoleMessage(\"{{caster}} removed your invisibility!\", {\r\n                        caster: casterChar.body.nick,\r\n                    });\r\n                    casterChar.sendConsoleMessage(\"You made {{victim}} visible!\", {\r\n                        victim: victimChar.body.nick,\r\n                    });\r\n                }\r\n            }\r\n            if (spell.increase_hp == 1) {\r\n                const d = Numbers_4.getRandomInteger(spell.min_hp, spell.max_hp);\r\n                victimChar.sendConsoleMessage(\"{{caster}} healed you by {d} points!\", {\r\n                    d: d.toString(),\r\n                    caster: casterChar.body.nick,\r\n                });\r\n                casterChar.sendConsoleMessage(\"You healed {{victim}}!\", {\r\n                    victim: victimChar.body.nick,\r\n                });\r\n                victimChar.stats.minHp = Math.min(victimChar.stats.minHp + d, victimChar.stats.maxHp);\r\n            }\r\n            else if (spell.increase_hp == -1) {\r\n                const casterInventory = casterChar.inventory;\r\n                const victimInventory = victimChar.inventory;\r\n                const casterRing = casterInventory && casterInventory.getItem(Enums_16.InventorySlots.Ring);\r\n                const victimRing = victimInventory && victimInventory.getItem(Enums_16.InventorySlots.Ring);\r\n                const victimHelmet = victimInventory && victimInventory.getItem(Enums_16.InventorySlots.Head);\r\n                let damage = Numbers_4.getRandomInteger(spell.min_hp, spell.max_hp);\r\n                if (casterChar.body.charClass === Enums_16.CharClass.Mage) {\r\n                    const weapon = Helpers_2.getCharWeapon(casterChar);\r\n                    if (weapon) {\r\n                        damage *= 1 + weapon.staff_damage_bonus;\r\n                    }\r\n                }\r\n                if (casterRing && casterRing.item.object_type == Declares_9.ObjectTypes.Ring) {\r\n                    damage *= 1 + casterRing.item.staff_damage_bonus;\r\n                }\r\n                if (victimRing && victimRing.item.object_type == Declares_9.ObjectTypes.Ring) {\r\n                    damage -=\r\n                        damage *\r\n                            Numbers_4.getRandomInteger(victimRing.item.min_magical_defense, victimRing.item.max_magical_defense);\r\n                }\r\n                if (victimHelmet && victimHelmet.item.object_type == Declares_9.ObjectTypes.Helmet) {\r\n                    damage -=\r\n                        damage *\r\n                            Numbers_4.getRandomInteger(victimHelmet.item.min_magical_defense, victimHelmet.item.max_magical_defense);\r\n                }\r\n                damage = Math.max(damage, 0);\r\n                combatHelpers_2.sendDamage(casterChar, victimChar, damage);\r\n            }\r\n            if (spell.increase_mana == 1) {\r\n                const d = Numbers_4.getRandomInteger(spell.min_mana, spell.max_mana);\r\n                victimChar.sendConsoleMessage(\"{{caster}} increased your mana by {d} points!\", { d: d.toString() });\r\n                victimChar.stats.minMana = Math.min(victimChar.stats.minMana + d, victimChar.stats.maxMana);\r\n            }\r\n            else if (spell.increase_mana == -1) {\r\n                const d = Numbers_4.getRandomInteger(spell.min_mana, spell.max_mana);\r\n                victimChar.sendConsoleMessage(\"{{caster}} took {d} mana from you!\", {\r\n                    d: d.toString(),\r\n                });\r\n                victimChar.stats.minMana = Math.max(victimChar.stats.minMana - d, 0);\r\n            }\r\n            Meditation_7.stopMeditating(victimChar);\r\n            if (spell.mimetism) {\r\n                casterChar.body.mimetism = victimChar.body;\r\n                casterChar.getComponentOrCreate(Mimetism_1.Mimetism).restart();\r\n                victimChar.sendConsoleMessage(\"{{caster}} mimetized with you!\", {\r\n                    caster: casterChar.body.nick,\r\n                });\r\n                casterChar.sendConsoleMessage(\"You stole the aparience from {{victim}}!\", { victim: victimChar.body.nick });\r\n            }\r\n            this.spellCasterEffect(casterChar, spell);\r\n            if (spell.fx) {\r\n                victimChar.getComponentOrCreate(Fx_4.Fx).set(spell.fx, 1);\r\n            }\r\n        }\r\n    }\r\n    exports.SkillSystem = SkillSystem;\r\n});\r\ndefine(\"sdk/Components/MapData\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class MapBlock {\r\n        constructor() {\r\n            this.blocked = 0;\r\n        }\r\n    }\r\n    exports.MapBlock = MapBlock;\r\n    let MapData = class MapData {\r\n        constructor(mapId) {\r\n            this.mapId = mapId;\r\n            this.width = 6 * 4;\r\n            this.height = 4 * 4;\r\n            this.blocks = [];\r\n            if (!mapId) {\r\n                throw new Error(\"Cannot create a MapData without a mapId\");\r\n            }\r\n        }\r\n        async load() {\r\n            // this.shaHash = map.getHash();\r\n            this.blocks = [];\r\n            // this.width = map.getWidth();\r\n            // // this.height = map.getHeight();\r\n            for (var x = 0; x < this.width; x++) {\r\n                var row = [];\r\n                this.blocks.push(row);\r\n                for (var y = 0; y < this.height; y++) {\r\n                    const block = new MapBlock();\r\n                    block.blocked = 0; // 1 | 2 | 4 | 8; // block all directions\r\n                    row.push(block);\r\n                }\r\n            }\r\n            // const tiles = map.getTilesList();\r\n            // for (let i = 0; i < tiles.length; i++) {\r\n            //   const tile = tiles[i];\r\n            //   const block = this.blocks[tile.getX()][tile.getY()];\r\n            //   block.blocked = tile.getBlocked();\r\n            // }\r\n        }\r\n        isWalkableTile(x, y) {\r\n            const block = this.getBlock(x, y);\r\n            if (block) {\r\n                if (block.blocked === 0) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n        getBlock(x, y) {\r\n            if (!this.blocks[x])\r\n                return null;\r\n            if (!this.blocks[x][y])\r\n                return null;\r\n            return this.blocks[x][y];\r\n        }\r\n        *findWalkableTile() {\r\n            for (let x = 0; x < this.width; x++) {\r\n                for (let y = 0; y < this.height; y++) {\r\n                    if (this.isWalkableTile(x, y)) {\r\n                        yield { x, y };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        *findReverseWalkableTile() {\r\n            for (let x = this.width; x >= 0; x--) {\r\n                for (let y = this.height; y >= 0; y--) {\r\n                    if (this.isWalkableTile(x, y)) {\r\n                        yield { x, y };\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    MapData = __decorate([\r\n        Component(\"mapData\")\r\n    ], MapData);\r\n    exports.MapData = MapData;\r\n});\r\ndefine(\"sdk/Systems/GameMap\", [\"require\", \"exports\", \"sdk/Components/Connection\", \"sdk/Components/WorldPosition\", \"sdk/Components/Body\", \"sdk/Components/MapData\", \"sdk/Components/Heading\", \"sdk/Components/Fx\", \"sdk/Components/CharStatus\"], function (require, exports, Connection_3, WorldPosition_5, Body_4, MapData_1, Heading_3, Fx_5, CharStatus_3) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class GameMapSystem {\r\n        constructor() {\r\n            this.addEntityWithFx = (entity) => {\r\n                const position = entity.getComponent(WorldPosition_5.WorldPosition);\r\n                const fx = entity.getComponent(Fx_5.Fx);\r\n                this.sendToArea(position.x, position.y, [\r\n                    { Fx: { entityId: entity.uuid, fx: fx.fx, loops: fx.loops } },\r\n                ]);\r\n            };\r\n            this.removeEntityWithFx = (entity) => {\r\n                const position = entity.getComponent(WorldPosition_5.WorldPosition);\r\n                this.sendToArea(position.x, position.y, [\r\n                    { Fx: { entityId: entity.uuid, fx: 0, loops: 0 } },\r\n                ]);\r\n            };\r\n        }\r\n        activate(engine) {\r\n            this.mapEntities = engine.getComponentGroup(WorldPosition_5.WorldPosition);\r\n            this.mapEntitiesWithEffect = engine.getComponentGroup({\r\n                onAddEntity: this.addEntityWithFx,\r\n                onRemoveEntity: this.removeEntityWithFx,\r\n            }, WorldPosition_5.WorldPosition, Fx_5.Fx);\r\n            this.connectedEntities = engine.getComponentGroup(WorldPosition_5.WorldPosition, Connection_3.Connection);\r\n            log(\"GameMapSystem started\");\r\n        }\r\n        update() {\r\n            for (let { entity, position } of this.entities()) {\r\n                const data = this.presentEntity(entity, false);\r\n                if (position.outgoingAreaButMeMessages.length) {\r\n                    const conn = entity.getComponentOrNull(Connection_3.Connection);\r\n                    if (conn) {\r\n                        this.sendToAreaBut(position.x, position.y, position.outgoingAreaButMeMessages, conn.connectionId);\r\n                    }\r\n                    else {\r\n                        this.sendToArea(position.x, position.y, position.outgoingAreaButMeMessages);\r\n                    }\r\n                    position.outgoingAreaButMeMessages.length = 0;\r\n                }\r\n                if (data) {\r\n                    this.sendToArea(position.x, position.y, [\r\n                        data,\r\n                        ...position.outgoingAreaMessages,\r\n                    ]);\r\n                }\r\n                else if (position.outgoingAreaMessages.length) {\r\n                    this.sendToArea(position.x, position.y, position.outgoingAreaMessages);\r\n                }\r\n                position.outgoingAreaMessages.length = 0;\r\n            }\r\n        }\r\n        async load(mapId) {\r\n            const newMapData = new MapData_1.MapData(mapId);\r\n            await newMapData.load();\r\n            engine.rootEntity.addComponentOrReplace(newMapData);\r\n        }\r\n        *entities() {\r\n            for (let entity of this.mapEntities.entities) {\r\n                yield {\r\n                    entity,\r\n                    position: entity.getComponent(WorldPosition_5.WorldPosition),\r\n                };\r\n            }\r\n        }\r\n        presentEntity(entity, force = false) {\r\n            let hasContent = false;\r\n            const position = entity.getComponent(WorldPosition_5.WorldPosition);\r\n            const body = entity.getComponentOrNull(Body_4.Body);\r\n            const heading = entity.getComponentOrNull(Heading_3.HeadingComponent);\r\n            const fx = entity.getComponentOrNull(Fx_5.Fx);\r\n            const status = entity.getComponentOrNull(CharStatus_3.CharStatus);\r\n            const ret = {};\r\n            if (body && (force || body.dirty)) {\r\n                if (body.dead) {\r\n                    ret.SetBody = {\r\n                        entityId: entity.uuid,\r\n                        body: Body_4.DEAD_BODY,\r\n                        color: body.color,\r\n                        dead: body.dead,\r\n                        head: Body_4.DEAD_HEAD,\r\n                        helmet: 0,\r\n                        isLeftHandWeapon: body.isLeftHandWeapon,\r\n                        isRightHandWeapon: body.isRightHandWeapon,\r\n                        leftHand: 0,\r\n                        nick: body.nick,\r\n                        rightHand: 0,\r\n                        speed: body.speed * 1.5,\r\n                    };\r\n                }\r\n                else {\r\n                    ret.SetBody = {\r\n                        entityId: entity.uuid,\r\n                        body: body.body,\r\n                        color: body.color,\r\n                        dead: body.dead,\r\n                        head: body.head,\r\n                        helmet: body.helmet,\r\n                        isLeftHandWeapon: body.isLeftHandWeapon,\r\n                        isRightHandWeapon: body.isRightHandWeapon,\r\n                        leftHand: body.leftHand,\r\n                        nick: body.nick,\r\n                        rightHand: body.rightHand,\r\n                        speed: body.speed,\r\n                    };\r\n                }\r\n                if (!force)\r\n                    body.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (position && (force || position.dirty)) {\r\n                ret.UpdatePosition = {\r\n                    entityId: entity.uuid,\r\n                    x: position.x,\r\n                    y: position.y,\r\n                };\r\n                if (!force)\r\n                    position.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (heading && (force || heading.dirty)) {\r\n                ret.SetHeading = { entityId: entity.uuid, heading: heading.heading };\r\n                if (!force)\r\n                    heading.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (fx && (force || fx.dirty)) {\r\n                ret.Fx = { entityId: entity.uuid, fx: fx.fx, loops: fx.loops };\r\n                if (!force)\r\n                    fx.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            if (status && (force || status.dirty)) {\r\n                ret.Status = {\r\n                    entityId: entity.uuid,\r\n                    paralyzed: status.paralyzed,\r\n                    invisible: status.invisible,\r\n                    dumb: status.dumb,\r\n                    blind: status.blind,\r\n                };\r\n                if (!force)\r\n                    status.dirty = false;\r\n                hasContent = true;\r\n            }\r\n            return hasContent ? ret : null;\r\n        }\r\n        onAddEntity(entity) {\r\n            const position = entity.getComponentOrCreate(WorldPosition_5.WorldPosition);\r\n            const map = engine.rootEntity.getComponentOrNull(MapData_1.MapData);\r\n            if (!map) {\r\n                error(\"Map data not present in rootEntity\");\r\n                return;\r\n            }\r\n            const { x, y } = position;\r\n            const connection = entity.getComponentOrNull(Connection_3.Connection);\r\n            if (connection) {\r\n                const { connectionId } = connection;\r\n                // tell the user which character they control\r\n                Connection_3.sendMessageObservable.notifyObservers({\r\n                    connectionIds: [connectionId],\r\n                    data: {\r\n                        LoadMap: { map: map.mapId },\r\n                    },\r\n                });\r\n                // send all the entities in the map to the player\r\n                for (var p of this.mapEntities.entities) {\r\n                    Connection_3.sendMessageObservable.notifyObservers({\r\n                        connectionIds: [connectionId],\r\n                        data: this.presentEntity(p, true),\r\n                    });\r\n                }\r\n                // send the entity to all the connections but them, they had this already\r\n                this.sendToAreaBut(x, y, [this.presentEntity(entity, true)], connectionId);\r\n                // tell the user which character they control\r\n                Connection_3.sendMessageObservable.notifyObservers({\r\n                    connectionIds: [connectionId],\r\n                    data: {\r\n                        SetEntityId: { entityId: entity.uuid },\r\n                    },\r\n                });\r\n            }\r\n            else {\r\n                // send the entity to all the connections\r\n                this.sendToArea(x, y, [this.presentEntity(entity, true)]);\r\n            }\r\n        }\r\n        onRemoveEntity(entity) {\r\n            const position = entity.getComponentOrNull(WorldPosition_5.WorldPosition);\r\n            if (position) {\r\n                const { x, y } = position;\r\n                this.sendToArea(x, y, [{ RemoveEntity: { entityId: entity.uuid } }]);\r\n            }\r\n            else {\r\n                this.sendToAll([{ RemoveEntity: { entityId: entity.uuid } }]);\r\n            }\r\n        }\r\n        sendToAreaBut(x, y, dataChunks, connectionId, reliable = true) {\r\n            const connectionIds = [];\r\n            for (let e of this.connectedEntities.entities) {\r\n                const conn = e.getComponent(Connection_3.Connection);\r\n                // TODO area validations\r\n                if (conn.connectionId !== connectionId) {\r\n                    connectionIds.push(conn.connectionId);\r\n                }\r\n            }\r\n            for (let data of dataChunks) {\r\n                Connection_3.sendMessageObservable.notifyObservers({ connectionIds, data, reliable });\r\n            }\r\n        }\r\n        sendToArea(x, y, dataChunks, reliable = true) {\r\n            const connectionIds = [];\r\n            for (let e of this.connectedEntities.entities) {\r\n                // TODO area validations\r\n                connectionIds.push(e.getComponent(Connection_3.Connection).connectionId);\r\n            }\r\n            for (let data of dataChunks) {\r\n                Connection_3.sendMessageObservable.notifyObservers({ connectionIds, data, reliable });\r\n            }\r\n        }\r\n        sendToAll(dataChunks, reliable = true) {\r\n            const connectionIds = [];\r\n            for (let e of this.connectedEntities.entities) {\r\n                connectionIds.push(e.getComponent(Connection_3.Connection).connectionId);\r\n            }\r\n            for (let data of dataChunks) {\r\n                Connection_3.sendMessageObservable.notifyObservers({ connectionIds, data, reliable });\r\n            }\r\n        }\r\n    }\r\n    exports.GameMapSystem = GameMapSystem;\r\n});\r\ndefine(\"sdk/Systems/WalkingSystem\", [\"require\", \"exports\", \"sdk/Components/Connection\", \"sdk/Components/WorldPosition\", \"sdk/AtomicHelpers/HeadToPos\", \"sdk/Components/Walking\", \"sdk/Components/MapData\", \"sdk/AtomicHelpers/Numbers\", \"sdk/Components/Timers\", \"sdk/Components/Paralysis\", \"sdk/Enums\"], function (require, exports, Connection_4, WorldPosition_6, HeadToPos_2, Walking_4, MapData_2, Numbers_5, Timers_5, Paralysis_3, Enums_17) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class WalkingSystem {\r\n        constructor() { }\r\n        activate(engine) {\r\n            this.walkingEntitiesGroup = engine.getComponentGroup(WorldPosition_6.WorldPosition, Walking_4.Walking);\r\n            log(\"WalkingSystem started\");\r\n        }\r\n        update() {\r\n            for (let { entity, position, walking } of this.walkingEntities()) {\r\n                const timers = entity.getComponentOrNull(Timers_5.Timers);\r\n                let forceUpdate = false;\r\n                if (Paralysis_3.isParalyzed(entity)) {\r\n                    forceUpdate = true;\r\n                }\r\n                else {\r\n                    if (walking.target) {\r\n                        const newHeading = this.greedyWalkTo(position.x, position.y, walking.target.x, walking.target.y);\r\n                        if (newHeading !== null) {\r\n                            walking.heading = newHeading;\r\n                        }\r\n                    }\r\n                    if (this.canUserMove(position.x, position.y, walking.heading)) {\r\n                        let newPos = HeadToPos_2.headToPos(position.x, position.y, walking.heading);\r\n                        position.x = newPos.x;\r\n                        position.y = newPos.y;\r\n                        position.enqueueSendToAreaButMe({\r\n                            CharMove: {\r\n                                entityId: entity.uuid,\r\n                                x: position.x,\r\n                                y: position.y,\r\n                                heading: walking.heading,\r\n                            },\r\n                        });\r\n                        position.dirty = false;\r\n                    }\r\n                    else {\r\n                        forceUpdate = true;\r\n                    }\r\n                }\r\n                if (timers) {\r\n                    timers.canWalk(true);\r\n                }\r\n                if (forceUpdate && entity.hasComponent(Connection_4.Connection)) {\r\n                    position.enqueueSendToArea({\r\n                        UpdatePosition: {\r\n                            entityId: entity.uuid,\r\n                            x: position.x,\r\n                            y: position.y,\r\n                        },\r\n                    });\r\n                }\r\n                entity.removeComponent(Walking_4.Walking);\r\n            }\r\n        }\r\n        canUserMove(x, y, heading) {\r\n            const pos = HeadToPos_2.headToPos(x, y, heading);\r\n            const block = this.getBlock(pos.x, pos.y);\r\n            if (!block)\r\n                return false;\r\n            const blocked = block.blocked;\r\n            switch (heading) {\r\n                case Enums_17.Heading.North:\r\n                    return 0 === (blocked & 1) && this.canWalkToPosition(pos.x, pos.y);\r\n                case Enums_17.Heading.East:\r\n                    return 0 === (blocked & 2) && this.canWalkToPosition(pos.x, pos.y);\r\n                case Enums_17.Heading.South:\r\n                    return 0 === (blocked & 4) && this.canWalkToPosition(pos.x, pos.y);\r\n                case Enums_17.Heading.West:\r\n                    return 0 === (blocked & 8) && this.canWalkToPosition(pos.x, pos.y);\r\n            }\r\n            return true;\r\n        }\r\n        canWalkToPosition(x, y) {\r\n            for (let {} of WorldPosition_6.entitiesInPosition(x, y)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        getBlock(x, y) {\r\n            const map = engine.rootEntity.getComponent(MapData_2.MapData);\r\n            if (map) {\r\n                return map.getBlock(x, y);\r\n            }\r\n            return null;\r\n        }\r\n        *walkingEntities() {\r\n            for (let entity of this.walkingEntitiesGroup.entities.slice()) {\r\n                yield {\r\n                    entity,\r\n                    position: entity.getComponent(WorldPosition_6.WorldPosition),\r\n                    walking: entity.getComponent(Walking_4.Walking),\r\n                };\r\n            }\r\n        }\r\n        greedyWalkTo(srcX, srcY, dstX, dstY) {\r\n            const dual = Numbers_5.getRandomInteger(0, 10);\r\n            const directWalk = srcX == dstX && srcY == dstY ? false : Numbers_5.getRandomInteger(0, 4) != 0;\r\n            //  Levanto las coordenadas del destino\r\n            if (directWalk) {\r\n                //  moverse\r\n                if (srcX > dstX) {\r\n                    if (srcY < dstY) {\r\n                        //NPC esta arriba a la derecha\r\n                        if ((dual & 1) == 0) {\r\n                            //move down\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                                return Enums_17.Heading.North;\r\n                            }\r\n                        }\r\n                        else {\r\n                            //random first move\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                                return Enums_17.Heading.North;\r\n                            }\r\n                        } //checked random first move\r\n                    }\r\n                    else if (srcY > dstY) {\r\n                        //NPC esta abajo a la derecha\r\n                        if ((dual & 1) == 0) {\r\n                            //move up\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                                //U\r\n                                return Enums_17.Heading.North;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                //L\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                //D\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                //R\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                        }\r\n                        else {\r\n                            //random first move\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                //L\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                //D\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                //R\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                        } //endif random first move\r\n                    }\r\n                    else {\r\n                        //x completitud, esta en la misma Y\r\n                        if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                            //L\r\n                            return Enums_17.Heading.West;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                            //D\r\n                            return Enums_17.Heading.South;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                            //U\r\n                            return Enums_17.Heading.North;\r\n                        }\r\n                    }\r\n                }\r\n                else if (srcX < dstX) {\r\n                    if (srcY < dstY) {\r\n                        //NPC esta arriba a la izquierda\r\n                        if ((dual & 1) == 0) {\r\n                            //move down\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                //ABA\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                //R\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                                return Enums_17.Heading.North;\r\n                            }\r\n                        }\r\n                        else {\r\n                            //random first move\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                //DER\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                //ABA\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                                return Enums_17.Heading.North;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (srcY > dstY) {\r\n                        //NPC esta abajo a la izquierda\r\n                        if ((dual & 1) == 0) {\r\n                            //move up\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                                //U\r\n                                return Enums_17.Heading.North;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                //R\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                //L\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                //D\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                                //R\r\n                                return Enums_17.Heading.East;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                                //U\r\n                                return Enums_17.Heading.North;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                                //D\r\n                                return Enums_17.Heading.South;\r\n                            }\r\n                            else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                                //L\r\n                                return Enums_17.Heading.West;\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        //x completitud, esta en la misma Y\r\n                        if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                            //R\r\n                            return Enums_17.Heading.East;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                            //D\r\n                            return Enums_17.Heading.South;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                            //U\r\n                            return Enums_17.Heading.North;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    //igual X\r\n                    if (srcY > dstY) {\r\n                        //NPC ESTA ABAJO\r\n                        if (this.canUserMove(srcX, srcY, Enums_17.Heading.North)) {\r\n                            //U\r\n                            return Enums_17.Heading.North;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                            //R\r\n                            return Enums_17.Heading.East;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                            //L\r\n                            return Enums_17.Heading.West;\r\n                        }\r\n                    }\r\n                    else {\r\n                        //NPC ESTA ARRIBA\r\n                        if (this.canUserMove(srcX, srcY, Enums_17.Heading.South)) {\r\n                            //ABA\r\n                            return Enums_17.Heading.South;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.East)) {\r\n                            //R\r\n                            return Enums_17.Heading.East;\r\n                        }\r\n                        else if (this.canUserMove(srcX, srcY, Enums_17.Heading.West)) {\r\n                            //L\r\n                            return Enums_17.Heading.West;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            const randomDirection = Numbers_5.getRandomInteger(0, 3);\r\n            if (this.canUserMove(srcX, srcY, randomDirection)) {\r\n                return randomDirection;\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    exports.WalkingSystem = WalkingSystem;\r\n});\r\ndefine(\"sdk/Systems/Mimetism\", [\"require\", \"exports\", \"sdk/Components/Mimetism\", \"sdk/Components/Body\", \"sdk/Components/Character\"], function (require, exports, Mimetism_2, Body_5, Character_10) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class MimetismSystem {\r\n        constructor() {\r\n            this.onRemoveMimetizedEntity = (entity) => {\r\n                const body = entity.getComponent(Body_5.Body);\r\n                body.mimetism = null;\r\n                if (entity instanceof Character_10.Character) {\r\n                    entity.sendConsoleMessage(\"You recovered your original shape.\");\r\n                }\r\n            };\r\n        }\r\n        activate(engine) {\r\n            this.mimetizedCharacters = engine.getComponentGroup({\r\n                onRemoveEntity: this.onRemoveMimetizedEntity,\r\n            }, Body_5.Body, Mimetism_2.Mimetism);\r\n            log(\"InvisibleSystem started\");\r\n        }\r\n        update(dt) {\r\n            const entities = this.mimetizedCharacters.entities.slice();\r\n            for (let char of entities) {\r\n                const inv = char.getComponent(Mimetism_2.Mimetism);\r\n                inv.timer -= dt;\r\n                if (inv.timer <= 0) {\r\n                    char.removeComponent(Mimetism_2.Mimetism);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.MimetismSystem = MimetismSystem;\r\n});\r\ndefine(\"sdk/Systems/Timers\", [\"require\", \"exports\", \"sdk/Components/Timers\"], function (require, exports, Timers_6) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class TimersSystem {\r\n        constructor() {\r\n            this.nowInMs = 0;\r\n        }\r\n        activate(engine) {\r\n            this.timers = engine.getComponentGroup(Timers_6.Timers);\r\n        }\r\n        update(dt) {\r\n            this.nowInMs += dt * 1000;\r\n            for (let char of this.timers.entities) {\r\n                char.getComponent(Timers_6.Timers).update(this.nowInMs);\r\n            }\r\n        }\r\n    }\r\n    exports.TimersSystem = TimersSystem;\r\n});\r\ndefine(\"arduz-sdk\", [\"require\", \"exports\", \"sdk/Systems/Connection\", \"sdk/Systems/Invisible\", \"sdk/Systems/Meditation\", \"sdk/Systems/Paralysis\", \"sdk/Systems/Inventory\", \"sdk/Systems/Combat\", \"sdk/Systems/Skill\", \"sdk/Systems/GameMap\", \"sdk/Components/Character\", \"sdk/Components/Connection\", \"sdk/Balance\", \"sdk/Systems/WalkingSystem\", \"sdk/Systems/Mimetism\", \"sdk/Systems/Timers\"], function (require, exports, Connection_5, Invisible_5, Meditation_8, Paralysis_4, Inventory_5, Combat_1, Skill_1, GameMap_1, Character_11, Connection_6, Balance_3, WalkingSystem_1, Mimetism_3, Timers_7) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function startBaseSystems() {\r\n        engine.addSystem(new Invisible_5.InvisibleSystem());\r\n        engine.addSystem(new Mimetism_3.MimetismSystem());\r\n        engine.addSystem(new Meditation_8.MeditationSystem());\r\n        engine.addSystem(new Paralysis_4.ParalysisSystem());\r\n        engine.addSystem(new Timers_7.TimersSystem());\r\n        engine.addSystem(new Skill_1.SkillSystem());\r\n        engine.addSystem(new Inventory_5.InventorySystem());\r\n        engine.addSystem(new Combat_1.CombatSystem());\r\n        engine.addSystem(new WalkingSystem_1.WalkingSystem());\r\n    }\r\n    exports.startBaseSystems = startBaseSystems;\r\n    async function startServer(customServer) {\r\n        if (typeof callRpc !== \"undefined\") {\r\n            const environment = await new Promise((resolve_2, reject_2) => { require([\"@arduz/Environment\"], resolve_2, reject_2); });\r\n            const network = await new Promise((resolve_3, reject_3) => { require([\"@arduz/Connections\"], resolve_3, reject_3); });\r\n            const config = await environment.getConfiguration();\r\n            engine.addSystem(new Connection_5.ConnectionSystem(network));\r\n            network.onInitialize.add(($) => {\r\n                const char = new Character_11.Character();\r\n                char.addComponent(new Connection_6.Connection($.connectionId, $.nick));\r\n                char.position.x = 1;\r\n                char.position.y = 1;\r\n                char.body.nick = $.nick;\r\n                engine.addEntity(char);\r\n                Character_11.onNewCharacterObservable.notifyObservers(char);\r\n            });\r\n            const map = engine.addSystem(new GameMap_1.GameMapSystem(), Infinity);\r\n            await map.load(config.map);\r\n            await Balance_3.loadBalance();\r\n            await customServer();\r\n            await environment.startSignal();\r\n        }\r\n        else {\r\n            log(\"SKIPPING CONNECTION SYSTEM INITIALIZATION\");\r\n        }\r\n    }\r\n    exports.startServer = startServer;\r\n    if (typeof onUpdate === \"function\") {\r\n        onUpdate((dt) => engine.update(dt));\r\n    }\r\n    else {\r\n        error(\"No onUpdate function\");\r\n    }\r\n});\r\ndefine(\"sdk/Components/Teleport\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let TeleportTo = class TeleportTo {\r\n    };\r\n    TeleportTo = __decorate([\r\n        Component('teleportTo')\r\n    ], TeleportTo);\r\n    exports.TeleportTo = TeleportTo;\r\n});\r\ndefine(\"sdk/Systems/TeleportSystem\", [\"require\", \"exports\", \"sdk/Components/WorldPosition\", \"sdk/Components/Teleport\", \"sdk/Components/Walking\"], function (require, exports, WorldPosition_7, Teleport_1, Walking_5) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class TeleportSystem {\r\n        constructor() { }\r\n        activate(engine) {\r\n            this.teleportingEntities = engine.getComponentGroup(WorldPosition_7.WorldPosition, Teleport_1.TeleportTo);\r\n            log(\"WalkingSystem started\");\r\n        }\r\n        update() {\r\n            for (let entity of this.teleportingEntities.entities.slice()) {\r\n                const teleportTo = entity.getComponentOrNull(Teleport_1.TeleportTo);\r\n                if (teleportTo) {\r\n                    // if the entity was walking cancel it\r\n                    entity.removeComponent(Walking_5.Walking);\r\n                    entity.removeComponent(Teleport_1.TeleportTo);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.TeleportSystem = TeleportSystem;\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJkdXotc2RrLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL3J1bm5lci93b3JrL3Nkay9zZGsvIiwic291cmNlcyI6WyJzZGsvQ29tcG9uZW50cy9Db25uZWN0aW9uLnRzIiwic2RrL0VudW1zLnRzIiwic2RrL0NvbXBvbmVudHMvQm9keS50cyIsInNkay9EZWNsYXJlcy50cyIsInNkay9Db21wb25lbnRzL1dvcmxkUG9zaXRpb24udHMiLCJzZGsvQ29tcG9uZW50cy9TdGF0cy50cyIsInNkay9Db21wb25lbnRzL0ludmVudG9yeS50cyIsInNkay9Db21wb25lbnRzL0NoYXJTdGF0dXMudHMiLCJzZGsvQ29tcG9uZW50cy9JbnZpc2libGUudHMiLCJzZGsvQ29tcG9uZW50cy9GeC50cyIsInNkay9Db21wb25lbnRzL01lZGl0YXRpb24udHMiLCJzZGsvQXRvbWljSGVscGVycy9TbG90cy50cyIsInNkay9Db21wb25lbnRzL1NraWxscy50cyIsInNkay9Db21wb25lbnRzL1JlcXVlc3RUYXJnZXQudHMiLCJzZGsvQ29tcG9uZW50cy9IZWFkaW5nLnRzIiwic2RrL0NvbXBvbmVudHMvVGltZXJzLnRzIiwic2RrL0NvbXBvbmVudHMvQ2hhcmFjdGVyLnRzIiwic2RrL0V2ZW50cy9DaGFyRXZlbnRzLnRzIiwic2RrL0F0b21pY0hlbHBlcnMvSGVhZFRvUG9zLnRzIiwic2RrL0NvbXBvbmVudHMvV2Fsa2luZy50cyIsInNkay9GdW5jdGlvbnMvbmV0d29ya0hhbmRsZXJzLnRzIiwic2RrL0NvbXBvbmVudHMvQXJjaGV0eXBlLnRzIiwic2RrL1N5c3RlbXMvQ29ubmVjdGlvbi50cyIsInNkay9TeXN0ZW1zL0ludmlzaWJsZS50cyIsInNkay9TeXN0ZW1zL01lZGl0YXRpb24udHMiLCJzZGsvQ29tcG9uZW50cy9QYXJhbHlzaXMudHMiLCJzZGsvU3lzdGVtcy9QYXJhbHlzaXMudHMiLCJzZGsvQmFsYW5jZS50cyIsInNkay9BdG9taWNIZWxwZXJzL051bWJlcnMudHMiLCJzZGsvQ29tcG9uZW50cy9BdXRvbWF0aWNFcXVpcC50cyIsInNkay9BdG9taWNIZWxwZXJzL0JvZHlIZWxwZXJzLnRzIiwic2RrL1N5c3RlbXMvSW52ZW50b3J5LnRzIiwic2RrL0Z1bmN0aW9ucy9IZWxwZXJzLnRzIiwic2RrL0Z1bmN0aW9ucy9jb21iYXRIZWxwZXJzLnRzIiwic2RrL1N5c3RlbXMvQ29tYmF0LnRzIiwic2RrL0NvbXBvbmVudHMvTWltZXRpc20udHMiLCJzZGsvU3lzdGVtcy9Ta2lsbC50cyIsInNkay9Db21wb25lbnRzL01hcERhdGEudHMiLCJzZGsvU3lzdGVtcy9HYW1lTWFwLnRzIiwic2RrL1N5c3RlbXMvV2Fsa2luZ1N5c3RlbS50cyIsInNkay9TeXN0ZW1zL01pbWV0aXNtLnRzIiwic2RrL1N5c3RlbXMvVGltZXJzLnRzIiwiYXJkdXotc2RrLnRzIiwic2RrL0NvbXBvbmVudHMvVGVsZXBvcnQudHMiLCJzZGsvU3lzdGVtcy9UZWxlcG9ydFN5c3RlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7SUFFYSxRQUFBLHFCQUFxQixHQUFHLElBQUksVUFBVSxFQUFvRixDQUFDO0lBQzNILFFBQUEsbUJBQW1CLEdBQUcsSUFBSSxVQUFVLEVBQXVELENBQUM7SUFFekcscURBQXFEO0lBQ3hDLFFBQUEseUJBQXlCLEdBQUcsSUFBSSxVQUFVLEVBQWMsQ0FBQztJQUV0RSxrRkFBa0Y7SUFDbEYsNEJBQTRCO0lBQ2YsUUFBQSxlQUFlLEdBQUcsSUFBSSxVQUFVLEVBQStDLENBQUM7SUFHN0YsSUFBYSxVQUFVLEdBQXZCLE1BQWEsVUFBVTtRQUNyQixZQUE0QixZQUFvQixFQUFrQixJQUFZO1lBQWxELGlCQUFZLEdBQVosWUFBWSxDQUFRO1lBQWtCLFNBQUksR0FBSixJQUFJLENBQVE7UUFBRyxDQUFDO0tBR25GLENBQUE7SUFKWSxVQUFVO1FBRHRCLFNBQVMsQ0FBQyxZQUFZLENBQUM7T0FDWCxVQUFVLENBSXRCO0lBSlksZ0NBQVU7Ozs7O0lDYnZCLElBQVksT0FL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LFVBQVUsR0FBdkIsTUFBYSxVQUFVO0tBRXRCLENBQUE7SUFGWSxVQUFVO1FBRHRCLFNBQVMsQ0FBQyxZQUFZLENBQUM7T0FDWCxVQUFVLENBRXRCO0lBRlksZ0NBQVU7Ozs7O0lDR3ZCLE1BQWEsY0FBYztRQUd6QixnQkFBZSxDQUFDO1FBRWhCLFFBQVEsQ0FBQyxNQUFjO1lBQ3JCLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsNkJBQWEsRUFBRSxxQkFBVSxDQUFDLENBQUM7WUFDL0UsR0FBRyxDQUFDLHVCQUF1QixDQUFDLENBQUM7UUFDL0IsQ0FBQztRQUVELE1BQU07WUFDSixLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUU7Z0JBQzVELE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxxQkFBVSxDQUFDLENBQUM7Z0JBRXpELElBQUksVUFBVSxFQUFFO29CQUNkLHNDQUFzQztvQkFDdEMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxpQkFBTyxDQUFDLENBQUM7b0JBRWhDLE1BQU0sQ0FBQyxlQUFlLENBQUMscUJBQVUsQ0FBQyxDQUFDO2lCQUNwQzthQUNGO1FBQ0gsQ0FBQztLQUNGO0lBdEJELHdDQXNCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgT3V0Z29pbmdNZXNzYWdlcywgSW5jb21pbmdNZXNzYWdlcyB9IGZyb20gXCJAYXJkdXovQ29ubmVjdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IHNlbmRNZXNzYWdlT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPHsgY29ubmVjdGlvbklkczogc3RyaW5nW107IGRhdGE6IFBhcnRpYWw8T3V0Z29pbmdNZXNzYWdlcz4sIHJlbGlhYmxlPzogYm9vbGVhbiB9PigpO1xuZXhwb3J0IGNvbnN0IG9uTWVzc2FnZU9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTx7IGVudGl0eTogRW50aXR5OyBkYXRhOiBQYXJ0aWFsPEluY29taW5nTWVzc2FnZXM+IH0+KCk7XG5cbi8vIEFkZCBhIG1lc3NhZ2UgdG8gdGhpcyBjaGFubmVsIHRvIGtpY2sgYSBjb25uZWN0aW9uXG5leHBvcnQgY29uc3QgY2xvc2VDb25uZWN0aW9uT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPENvbm5lY3Rpb24+KCk7XG5cbi8vIE9uIENvbm5lY3Rpb24gcmVtb3ZlZCwgdHJpZ2dlcmVkIGFmdGVyIGEgY29uZWN0aW9uIGlzIGNsb3NlZCBib3RoIGZyb20gb3VyIHNpZGVcbi8vIGFuZCBmcm9tIHRoZSBuZXR3b3JrIHNpZGVcbmV4cG9ydCBjb25zdCBvbkRpc2Nvbm5lY3Rpb24gPSBuZXcgT2JzZXJ2YWJsZTx7IGVudGl0eTogSUVudGl0eSwgY29ubmVjdGlvbjogQ29ubmVjdGlvbiB9PigpO1xuXG5AQ29tcG9uZW50KFwiQ29ubmVjdGlvblwiKVxuZXhwb3J0IGNsYXNzIENvbm5lY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29ubmVjdGlvbklkOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBuaWNrOiBzdHJpbmcpIHt9XG5cbiAgZW50aXR5SWQ/OiBzdHJpbmc7XG59XG4iLCJleHBvcnQgZW51bSBIZWFkaW5nIHtcbiAgTm9ydGggPSAwLFxuICBFYXN0ID0gMSxcbiAgU291dGggPSAyLFxuICBXZXN0ID0gMyxcbn1cblxuZXhwb3J0IGVudW0gQ2hhckNsYXNzIHtcbiAgU3BlY3RhdG9yID0gMCxcbiAgTWFnZSA9IDEsXG4gIENsZXJpYyA9IDIsXG4gIFdhcnJpb3IgPSAzLFxuICBBc3Nhc2luID0gNCxcbiAgQmFyZCA9IDUsXG4gIERydWlkID0gNixcbiAgUGFsYWRpbiA9IDcsXG4gIEh1bnRlciA9IDgsXG59XG5cbmV4cG9ydCBlbnVtIFJhY2Uge1xuICBIdW1hbiA9IDEsXG4gIEVsZiA9IDIsXG4gIERyb3cgPSAzLFxuICBHbm9tZSA9IDQsXG4gIER3YXJmID0gNSxcbn1cblxuZXhwb3J0IGVudW0gSW52ZW50b3J5U2xvdHMge1xuICBOT05FID0gLTEsXG4gIFNsb3QxID0gMCxcbiAgU2xvdDIgPSAxLFxuICBTbG90MyA9IDIsXG4gIFNsb3Q0ID0gMyxcbiAgU2xvdDUgPSA0LFxuICBTbG90NiA9IDUsXG4gIFNsb3Q3ID0gNixcbiAgU2xvdDggPSA3LFxuICBTbG90OSA9IDgsXG4gIFNsb3QxMCA9IDksXG4gIFNsb3QxMSA9IDEwLFxuICBTbG90MTIgPSAxMSxcbiAgU2xvdDEzID0gMTIsXG4gIFNsb3QxNCA9IDEzLFxuICBTbG90MTUgPSAxNCxcbiAgU2xvdDE2ID0gMTUsXG4gIEhlYWQgPSAxNixcbiAgQXJtb3IgPSAxNyxcbiAgUmluZyA9IDE4LFxuICBMZWZ0SGFuZCA9IDE5LFxuICBSaWdodEhhbmQgPSAyMCxcbiAgQWNjZXNzb3J5ID0gMjEsXG4gIEJlbHQxID0gMjIsXG4gIEJlbHQyID0gMjMsXG5cbiAgLy8gWzI0LTI4XSBIb3RCYXJcbiAgLy8gWzI5LTQ0XSBTcGVsbHNcbn1cblxuZXhwb3J0IGVudW0gU2tpbGxTbG90cyB7XG4gIE5PTkUgPSAwLFxuXG4gIFNwZWxsMSA9IDI5LFxuICBTcGVsbDIgPSAzMCxcbiAgU3BlbGwzID0gMzEsXG4gIFNwZWxsNCA9IDMyLFxuICBTcGVsbDUgPSAzMyxcbiAgU3BlbGw2ID0gMzQsXG4gIFNwZWxsNyA9IDM1LFxuICBTcGVsbDggPSAzNixcbiAgU3BlbGw5ID0gMzcsXG4gIFNwZWxsMTAgPSAzOCxcbiAgU3BlbGwxMSA9IDM5LFxufVxuXG5leHBvcnQgZW51bSBIb3RCYXJTbG90cyB7XG4gIE5PTkUgPSAwLFxuXG4gIEhvdEJhcjEgPSAyNCxcbiAgSG90QmFyMiA9IDI1LFxuICBIb3RCYXIzID0gMjYsXG4gIEhvdEJhcjQgPSAyNyxcbiAgSG90QmFyNSA9IDI4LFxufVxuXG5leHBvcnQgZW51bSBHZW5kZXIge1xuICBNYWxlID0gMSxcbiAgRmVtYWxlID0gMixcbn1cblxuZXhwb3J0IGVudW0gQ29uc29sZU1lc3NhZ2VzIHtcbiAgXCJZb3UgY2FuJ3QgdXNlIGl0ZW1zIHdoaWxlIHlvdSBhcmUgZGVhZCFcIiA9IDEsXG4gIFwiWW91J3ZlIGJlZW4gY3VyZWQgb2YgcG9pc29uaW5nIVwiID0gMixcbiAgXCJSZXN0YXJ0aW5nIHJvdW5kXCIgPSAzLFxuICBcIllvdXIgY2xhc3MgY2Fubm90IHVzZSB0aGF0IGl0ZW0hXCIgPSA0LFxuICBcIllvdXIgcmFjZSBjYW5ub3QgdXNlIHRoYXQgaXRlbSFcIiA9IDUsXG4gIFwiVG8gdXNlIGEgdHdvIGhhbmRlZCBpdGVtIHlvdSBtdXN0IHJlbGVhc2UgYm90aCBoYW5kcyFcIiA9IDYsXG4gIFwiWW91IG5lZWQgdG8gZXF1aXAgeW91ciB3ZWFwb24gYmVmb3JlIHVzaW5nIGl0IVwiID0gNyxcbiAgXCJUaGVyZSBhcmUgbm8gZXF1aXBwZWQgcHJvamVjdGlsZSFcIiA9IDgsXG4gIFwiWW91IGNhbid0IGF0dGFjayBkZWFkIHBsYXllcnMhXCIgPSA5LFxuICBcIllvdSBjYW4ndCBhdHRhY2sgYmVjYXVzZSB5b3UgYXJlIGRlYWQhXCIgPSAxMCxcbiAgXCJ7e2NoYXJ9fSBkYW1hZ2VkIHlvdSBieSB7e2RhbWFnZX19IHBvaW50c1wiID0gMTEsXG4gIFwiWW91IGhpdHRlZCB7e2NoYXJ9fSBieSB7e2RhbWFnZX19XCIgPSAxMixcbiAgXCJZb3Ugc3RhcnQgbWVkaXRhdGluZ1wiID0gMTMsXG4gIFwiWW91IGNhbid0IGF0dGFjayB5b3Vyc2VsZiFcIiA9IDE0LFxuICBcIllvdSBraWxsZWQge3tjaGFyfX0hXCIgPSAxNSxcbiAgXCJZb3UgaGF2ZSBiZWVuIHBvaXNvbmVkIVwiID0gMTYsXG4gIFwiWW91IGNhbid0IHVzZSB0aGF0IHdlYXBvbiB0aGF0IHdheSFcIiA9IDE3LCAvLyBoaXR0aW5nIHdpdGggYSBib3dcbiAgXCJZb3UgY2FuJ3QgYXR0YWNrIGRlYWQgY2hhcmFjdGVycyFcIiA9IDE4LFxuICBcIllvdSBjYW4ndCB1c2UgaXRlbXMgd2hpbGUgeW91IGFyZSBtZWRpdGF0aW5nIVwiID0gMTksXG59XG5cbmV4cG9ydCBlbnVtIFRhcmdldFR5cGUge1xuICBOT05FID0gMCxcbiAgSXRlbSA9IDEsXG4gIENoYXIgPSAyLFxuICBGbG9vciA9IDMsXG59XG4iLCJpbXBvcnQgeyBDaGFyQ2xhc3MsIFJhY2UsIEdlbmRlciB9IGZyb20gXCIuLi9FbnVtc1wiO1xuXG5leHBvcnQgY29uc3QgREVBRF9CT0RZID0gODtcbmV4cG9ydCBjb25zdCBERUFEX0hFQUQgPSA1MDA7XG5cbkBDb21wb25lbnQoXCJCb2R5XCIpXG5leHBvcnQgY2xhc3MgQm9keSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBkZWFkOiBib29sZWFuID0gdHJ1ZTtcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBoZWFkOiBudW1iZXIgPSBERUFEX0hFQUQ7XG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgYm9keTogbnVtYmVyID0gREVBRF9CT0RZO1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHNwZWVkOiBudW1iZXIgPSAxO1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGhlbG1ldDogbnVtYmVyID0gMDtcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBsZWZ0SGFuZDogbnVtYmVyID0gMDtcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICByaWdodEhhbmQ6IG51bWJlciA9IDA7XG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgaXNMZWZ0SGFuZFdlYXBvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGlzUmlnaHRIYW5kV2VhcG9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbmljazogc3RyaW5nID0gXCJcIjtcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBjb2xvcjogc3RyaW5nID0gXCIjZmZmZmZmXCI7XG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbWltZXRpc206IEJvZHkgfCBudWxsID0gbnVsbDtcblxuICBjaGFyQ2xhc3M6IENoYXJDbGFzcyA9IENoYXJDbGFzcy5TcGVjdGF0b3I7XG4gIHJhY2U6IFJhY2UgPSBSYWNlLkh1bWFuO1xuICBnZW5kZXI6IEdlbmRlciA9IEdlbmRlci5NYWxlO1xuXG4gIHJlc3VjaXRhdGUoKSB7XG4gICAgaWYgKHRoaXMuZGVhZCkge1xuICAgICAgdGhpcy5kZWFkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAga2lsbCgpIHtcbiAgICBpZiAoIXRoaXMuZGVhZCkge1xuICAgICAgdGhpcy5kZWFkID0gdHJ1ZTtcbiAgICAgIHRoaXMubWltZXRpc20gPSBudWxsO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IFJhY2UsIEdlbmRlciwgQ2hhckNsYXNzLCBJbnZlbnRvcnlTbG90cyB9IGZyb20gXCIuL0VudW1zXCI7XG5cbmV4cG9ydCB0eXBlIEFiaWxpdHkgPSBrZXlvZiBSYWNlTW9kaWZpZXJSZWNvcmQ7XG5cbmV4cG9ydCBlbnVtIFBvdGlvblR5cGUge1xuICBBZ2lsaXR5ID0gMSxcbiAgU3RyZW5naHQgPSAyLFxuICBIUCA9IDMsXG4gIE1hbmEgPSA0LFxuICBQb2lzb24gPSA1LFxuICBTdWljaWRlID0gNixcbn1cblxuZXhwb3J0IGVudW0gT2JqZWN0VHlwZXMge1xuICBVc2VPbmNlID0gMSxcbiAgV2VhcG9uID0gMixcbiAgQXJtb3IgPSAzLFxuICBUcmVlID0gNCxcbiAgTW9uZXkgPSA1LFxuICBEb29ycyA9IDYsXG4gIENvbnRhaW5lcnMgPSA3LFxuICBTaWducyA9IDgsXG4gIEtleXMgPSA5LFxuICBGb3J1bSA9IDEwLFxuICBQb3Rpb24gPSAxMSxcbiAgTWFwID0gMTIsXG4gIEZSRUUgPSAxMyxcbiAgTHVtYmVyID0gMTQsXG4gIEZpcmVwbGFjZSA9IDE1LFxuICBTaGllbGQgPSAxNixcbiAgSGVsbWV0ID0gMTcsXG4gIFJpbmcgPSAxOCxcbiAgVGVsZXBvcnQgPSAxOSxcbiAgRGVjb3JhdGlvbiA9IDIwLFxuICBEZWNvcmF0aW9uMiA9IDIxLFxuICBNaW5lcmFsRGVwb3NpdCA9IDIyLFxuICBNaW5lcmFsID0gMjMsXG4gIFNjcm9sbHMgPSAyNCxcbiAgSW5zdHJ1bWVudCA9IDI2LFxuICBBbnZpbCA9IDI3LFxuICBGdXJuYWNlID0gMjgsXG4gIExpbmdvdCA9IDI5LFxuICBBbmltYWxTa2lucyA9IDMwLFxuICBCb2F0ID0gMzEsXG4gIEFycm93cyA9IDMyLFxuICBFbXB0eUJvdHRsZSA9IDMzLFxuICBGdWxsQm90dGxlID0gMzQsXG4gIEJsb29kID0gMzUsXG4gIEFueSA9IDEwMDAsXG59XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RJTUVSUyA9IHtcbiAgVVNFX0lURU06IDIwMCxcbiAgV0FMSzogMjAwLFxuICBVU0VfQk9XOiAxNDAwLFxuICBUSFJPV19TUEVMTDogMTQwMCxcbiAgQVRUQUNLOiAxNTAwLFxuICBBVFRBQ0tfU1BFTEw6IDExMDAsXG4gIFNQRUxMX0FUVEFDSzogMTAwMFxufTtcblxuLy8gS25vd24gc291bmRzXG5leHBvcnQgZW51bSBLbm93blNvdW5kcyB7XG4gIERJRV9NQUxFID0gMTEsXG4gIERJRV9GRU1BTEUgPSA3NCxcbiAgQVJST1dfSU1QQUNUID0gNjUsXG4gIFNISVAgPSA1NSxcbiAgRUFUX0FQUExFID0gODIsXG4gIEVBVCA9IDcsXG4gIERSSU5LID0gNDYsXG4gIFNURVBTXzEgPSAyMyxcbiAgU1RFUFNfMiA9IDI0LFxuICBFUVVJUF9XRUFQT04gPSAyNSxcbiAgU0hJRUxEID0gMzcsXG4gIFNXSU5HID0gMixcbiAgSU1QQUNUID0gMTAsXG4gIElNUEFDVDIgPSAxMixcbn1cblxuZXhwb3J0IHR5cGUgSXRlbUJhc2UgPSB7XG4gIGlkOiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZztcbiAgZ3JoOiBudW1iZXI7XG4gIGdyYWJhYmxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgSXRlbUxpa2UgPVxuICB8IFdlYXBvbkl0ZW1cbiAgfCBBcm1vckl0ZW1cbiAgfCBIZWxtZXRJdGVtXG4gIHwgU2hlbGRJdGVtXG4gIHwgUmluZ0l0ZW1cbiAgfCBJbnN0cnVtZW50SXRlbVxuICB8IFBvdGlvbkl0ZW1cbiAgfCBBcnJvd0l0ZW07XG5cbmV4cG9ydCB0eXBlIFdlYXBvbkl0ZW0gPSBJdGVtQmFzZSAmIHtcbiAgb2JqZWN0X3R5cGU6IE9iamVjdFR5cGVzLldlYXBvbjtcbiAgbWF4X2hpdDogbnVtYmVyO1xuICBtaW5faGl0OiBudW1iZXI7XG4gIHR3b19oYW5kZWQ6IGJvb2xlYW47XG4gIHByb2plY3RpbGU6IGJvb2xlYW47XG4gIHJlaW5mb3JjZW1lbnQ6IG51bWJlcjtcbiAgYW5pbWF0aW9uOiBudW1iZXI7XG4gIHN0YWZmX2RhbWFnZV9ib251czogbnVtYmVyO1xuICBzdGFiczogYm9vbGVhbjtcbiAgYWxsb3dlZF9jbGFzc2VzOiBudW1iZXJbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEFycm93SXRlbSA9IEl0ZW1CYXNlICYge1xuICBvYmplY3RfdHlwZTogT2JqZWN0VHlwZXMuQXJyb3dzO1xuICBtYXhfaGl0OiBudW1iZXI7XG4gIG1pbl9oaXQ6IG51bWJlcjtcbiAgYWxsb3dlZF9jbGFzc2VzOiBudW1iZXJbXTtcbn07XG5cbmV4cG9ydCB0eXBlIEFybW9ySXRlbSA9IEl0ZW1CYXNlICYge1xuICBvYmplY3RfdHlwZTogT2JqZWN0VHlwZXMuQXJtb3I7XG4gIGFuaW1hdGlvbjogbnVtYmVyOyAvLyBma2EgYm9keV9ncmhcbiAgbWluX2RlZmVuc2U6IG51bWJlcjtcbiAgbWF4X2RlZmVuc2U6IG51bWJlcjtcbiAgYWxsb3dlZF9jbGFzc2VzOiBudW1iZXJbXTtcbiAgc2hvcnRfcGVvcGxlOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgU2hlbGRJdGVtID0gSXRlbUJhc2UgJiB7XG4gIG9iamVjdF90eXBlOiBPYmplY3RUeXBlcy5TaGllbGQ7XG4gIGFuaW1hdGlvbjogbnVtYmVyO1xuICBtaW5fbW9kaWZpZXI6IG51bWJlcjtcbiAgbWF4X21vZGlmaWVyOiBudW1iZXI7XG4gIG1pbl9kZWZlbnNlOiBudW1iZXI7XG4gIG1heF9kZWZlbnNlOiBudW1iZXI7XG4gIGFsbG93ZWRfY2xhc3NlczogbnVtYmVyW107XG59O1xuXG5leHBvcnQgdHlwZSBIZWxtZXRJdGVtID0gSXRlbUJhc2UgJiB7XG4gIG9iamVjdF90eXBlOiBPYmplY3RUeXBlcy5IZWxtZXQ7XG4gIGFuaW1hdGlvbjogbnVtYmVyO1xuICBtaW5fZGVmZW5zZTogbnVtYmVyO1xuICBtYXhfZGVmZW5zZTogbnVtYmVyO1xuICBtaW5fbWFnaWNhbF9kZWZlbnNlOiBudW1iZXI7XG4gIG1heF9tYWdpY2FsX2RlZmVuc2U6IG51bWJlcjtcbiAgYWxsb3dlZF9jbGFzc2VzOiBudW1iZXJbXTtcbn07XG5cbmV4cG9ydCB0eXBlIFJpbmdJdGVtID0gSXRlbUJhc2UgJiB7XG4gIG9iamVjdF90eXBlOiBPYmplY3RUeXBlcy5SaW5nO1xuICBtaW5fZGVmZW5zZTogbnVtYmVyO1xuICBtYXhfZGVmZW5zZTogbnVtYmVyO1xuICBtaW5fbWFnaWNhbF9kZWZlbnNlOiBudW1iZXI7XG4gIG1heF9tYWdpY2FsX2RlZmVuc2U6IG51bWJlcjtcbiAgc3RhZmZfZGFtYWdlX2JvbnVzOiBudW1iZXI7XG4gIGFsbG93ZWRfY2xhc3NlczogbnVtYmVyW107XG59O1xuXG5leHBvcnQgdHlwZSBJbnN0cnVtZW50SXRlbSA9IEl0ZW1CYXNlICYge1xuICBvYmplY3RfdHlwZTogT2JqZWN0VHlwZXMuSW5zdHJ1bWVudDtcbiAgc291bmQ6IG51bWJlcltdO1xufTtcblxuZXhwb3J0IHR5cGUgUG90aW9uSXRlbSA9IEl0ZW1CYXNlICYge1xuICBvYmplY3RfdHlwZTogT2JqZWN0VHlwZXMuUG90aW9uO1xuICBwb3Rpb25fdHlwZTogUG90aW9uVHlwZTtcbiAgbWluX21vZGlmaWVyOiBudW1iZXI7XG4gIG1heF9tb2RpZmllcjogbnVtYmVyO1xuICBkdXJhdGlvbjogbnVtYmVyO1xuICBzb3VuZD86IG51bWJlcltdO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBJbnZlbnRvcnlJdGVtIHtcbiAgYW1vdW50OiBudW1iZXI7XG4gIGl0ZW06IEl0ZW1MaWtlO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZW51bSBTa2lsbFR5cGUge1xuICBQcm9wZXJ0aWVzID0gMSxcbiAgU3RhdGUgPSAyLFxuICBNYXRlcmlhbGl6ZSA9IDMsXG4gIEludm9jYXRpb24gPSA0LFxufVxuXG5leHBvcnQgZW51bSBTa2lsbFRhcmdldCB7XG4gIFVzZXJzID0gMSxcbiAgTlBDID0gMixcbiAgVXNlckFuZE5wYyA9IDMsXG4gIFRlcnJhaW4gPSA0LFxufVxuXG5leHBvcnQgdHlwZSBTa2lsbCA9IHtcbiAgaWQ6IG51bWJlcjtcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBncmFwaGljOiBudW1iZXI7XG5cbiAgc3BlbGw6IHN0cmluZzsgLy8gbWFnaWMgd29yZHNcbiAgY29uc29sZV9jYXN0ZXI/OiBzdHJpbmc7XG4gIGNvbnNvbGVfdGhpcmQ/OiBzdHJpbmc7XG4gIGNvbnNvbGVfc2VsZj86IHN0cmluZztcblxuICB0eXBlOiBTa2lsbFR5cGU7XG4gIHNvdW5kOiBudW1iZXI7XG4gIGZ4OiBudW1iZXI7XG4gIGZ4X2xvb3BzOiBudW1iZXI7XG4gIHJlcXVpcmVkX21hbmE6IG51bWJlcjtcbiAgcmVxdWlyZWRfc3RhbWluYTogbnVtYmVyO1xuICB0YXJnZXQ6IFNraWxsVGFyZ2V0O1xuXG4gIG1ha2VzX2ludmlzaWJsZTogYm9vbGVhbjtcbiAgbWFrZXNfcGFyYWxpemVkOiBib29sZWFuO1xuICBtYWtlc19zdGlsbDogYm9vbGVhbjtcbiAgcmVtb3Zlc19wYXJhbHlzaXM6IGJvb2xlYW47XG4gIHJlbW92ZXNfZHVtYjogYm9vbGVhbjtcbiAgcmVtb3Zlc19pbnZpc2liaWxpdHk6IGJvb2xlYW47XG4gIGhlYWxzX3BvaXNvbjogYm9vbGVhbjtcbiAgbWFrZXNfcG9pc29uOiBib29sZWFuO1xuICByZXN1c2NpdGF0ZXM6IGJvb2xlYW47XG4gIG1ha2VzX2JsaW5kOiBib29sZWFuO1xuICBtYWtlc19kdW1iOiBib29sZWFuO1xuXG4gIHN1bW1vbnM6IGJvb2xlYW47XG4gIHN1bW1vbnNfbnBjOiBudW1iZXI7XG5cbiAgaW5jcmVhc2VfbWFuYTogMCB8IDEgfCAtMTtcbiAgaW5jcmVhc2VfaHA6IDAgfCAxIHwgLTE7XG5cbiAgbWluX2hwOiBudW1iZXI7XG4gIG1heF9ocDogbnVtYmVyO1xuICBtaW5fbWFuYTogbnVtYmVyO1xuICBtYXhfbWFuYTogbnVtYmVyO1xuICBtaW5fc3RhbWluYTogbnVtYmVyO1xuICBtYXhfc3RhbWluYTogbnVtYmVyO1xuICBtaW5fYWdpbGl0eTogbnVtYmVyO1xuICBtYXhfYWdpbGl0eTogbnVtYmVyO1xuICBtaW5fc3RyZW5ndGg6IG51bWJlcjtcbiAgbWF4X3N0cmVuZ3RoOiBudW1iZXI7XG5cbiAgbWltZXRpc206IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIENoYXJhY3RlckRlc2NyaXB0aW9uID0ge1xuICBpZDogc3RyaW5nO1xuXG4gIG5pY2s6IHN0cmluZztcblxuICByYWNlOiBSYWNlO1xuICBnZW5kZXI6IEdlbmRlcjtcbiAgY2hhckNsYXNzOiBDaGFyQ2xhc3M7XG4gIGhlYWQ6IG51bWJlcjsgLy8gaWYgbm90IHByZXNlbnQgaXQgaXMgZGVyaXZhdGVkIGZyb20gcmFjZSArIGdlbmRlclxuICBib2R5OiBudW1iZXI7XG5cbiAgbWluSHA6IG51bWJlcjtcbiAgbWF4SHA6IG51bWJlcjtcblxuICBtaW5NYW5hOiBudW1iZXI7XG4gIG1heE1hbmE6IG51bWJlcjtcblxuICBpbnZlbnRvcnk6IEFycmF5PHsgc2xvdDogSW52ZW50b3J5U2xvdHMgfSAmIEludmVudG9yeUl0ZW0+O1xuICBza2lsbHM6IEFycmF5PHsgc2xvdDogbnVtYmVyOyBza2lsbDogU2tpbGwgfT47XG59O1xuXG5leHBvcnQgdHlwZSBDbGFzc01vZGlmaWVyUmVjb3JkID0ge1xuICAvLyBuZXcgYmFsYW5jZVxuICBkZXh0ZXJpdHk6IG51bWJlcjtcbiAgYWdpbGl0eTogbnVtYmVyO1xuICB2aXRhbGl0eTogbnVtYmVyO1xuICBtZWxlZV9kbWc6IG51bWJlcjtcbiAgcmFuZ2VfZG1nOiBudW1iZXI7XG4gIG1lbGVlX2RleDogbnVtYmVyO1xuICByYW5nZV9kZXg6IG51bWJlcjtcbiAgd2lsbDogbnVtYmVyO1xuICBzaGllbGQ6IG51bWJlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFJhY2VNb2RpZmllclJlY29yZCA9IHtcbiAgLy8gbmV3IGJhbGFuY2VcbiAgc3RyZW5ndGg6IG51bWJlcjtcbiAgZGV4dGVyaXR5OiBudW1iZXI7XG4gIGFnaWxpdHk6IG51bWJlcjtcbiAgdml0YWxpdHk6IG51bWJlcjtcbiAgd2lsbDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsY3VsYXRlZFJlY29yZCA9IHtcbiAgcmFjZTogbnVtYmVyO1xuICBjbGFzczogbnVtYmVyO1xuICBoZWFsdGhfcG9pbnRzOiBudW1iZXI7XG4gIGV2YXNpb246IG51bWJlcjtcbiAgYWNjdXJhY3k6IG51bWJlcjtcbn07XG4iLCJpbXBvcnQgdHlwZSB7IE91dGdvaW5nTWVzc2FnZXMgfSBmcm9tIFwiQGFyZHV6L0Nvbm5lY3Rpb25zXCI7XG5pbXBvcnQgeyBCb2R5IH0gZnJvbSBcIi4vQm9keVwiO1xuaW1wb3J0IHsgSW52ZW50b3J5U2xvdHMgfSBmcm9tIFwiLi4vRW51bXNcIjtcblxuQENvbXBvbmVudChcIlBvc2l0aW9uXCIpXG5leHBvcnQgY2xhc3MgV29ybGRQb3NpdGlvbiBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCB4OiBudW1iZXIgPSAxO1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCB5OiBudW1iZXIgPSAxO1xuXG4gIG91dGdvaW5nQXJlYU1lc3NhZ2VzOiBBcnJheTxQYXJ0aWFsPE91dGdvaW5nTWVzc2FnZXM+PiA9IFtdO1xuICBvdXRnb2luZ0FyZWFCdXRNZU1lc3NhZ2VzOiBBcnJheTxQYXJ0aWFsPE91dGdvaW5nTWVzc2FnZXM+PiA9IFtdO1xuXG4gIGVucXVldWVTZW5kVG9BcmVhQnV0TWUoZGF0YTogUGFydGlhbDxPdXRnb2luZ01lc3NhZ2VzPikge1xuICAgIHRoaXMub3V0Z29pbmdBcmVhQnV0TWVNZXNzYWdlcy5wdXNoKGRhdGEpO1xuICB9XG5cbiAgZW5xdWV1ZVNlbmRUb0FyZWEoZGF0YTogUGFydGlhbDxPdXRnb2luZ01lc3NhZ2VzPikge1xuICAgIHRoaXMub3V0Z29pbmdBcmVhTWVzc2FnZXMucHVzaChkYXRhKTtcbiAgfVxuXG4gIHNlbmRIaXQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHRleHQ6IHN0cmluZywgY29sb3I6IG51bWJlcikge1xuICAgIHRoaXMuZW5xdWV1ZVNlbmRUb0FyZWEoeyBIaXQ6IHsgeCwgeSwgdGV4dCwgY29sb3IgfSB9KTtcbiAgfVxuXG4gIHNlbmRXZWFwb25Td2luZyhlbnRpdHk6IEVudGl0eSwgd2VhcG9uU2xvdDogSW52ZW50b3J5U2xvdHMsIHNvdW5kOiBudW1iZXIpIHtcbiAgICB0aGlzLmVucXVldWVTZW5kVG9BcmVhKHtcbiAgICAgIFdlYXBvblN3aW5nOiB7XG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHkudXVpZCxcbiAgICAgICAgd2VhcG9uU2xvdCxcbiAgICAgICAgc291bmQsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgc2VuZFNvdW5kKHg6IG51bWJlciwgeTogbnVtYmVyLCBzb3VuZDogbnVtYmVyKSB7XG4gICAgdGhpcy5lbnF1ZXVlU2VuZFRvQXJlYSh7XG4gICAgICBTb3VuZDoge1xuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBzb3VuZCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICBzZW5kUHJvamVjdGlsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgZGVzdFg6IG51bWJlciwgZGVzdFk6IG51bWJlciwgZ3JhcGhpYzogbnVtYmVyLCBzb3VuZDogbnVtYmVyKSB7XG4gICAgdGhpcy5lbnF1ZXVlU2VuZFRvQXJlYSh7XG4gICAgICBQcm9qZWN0aWxlOiB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGRlc3RYLFxuICAgICAgICBkZXN0WSxcbiAgICAgICAgZ3JhcGhpYyxcbiAgICAgICAgc291bmQsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG5cbmNvbnN0IGVudGl0aWVzV2l0aFBvc2l0aW9uID0gZW5naW5lLmdldENvbXBvbmVudEdyb3VwKFdvcmxkUG9zaXRpb24pO1xuXG5leHBvcnQgZnVuY3Rpb24qIGVudGl0aWVzSW5Qb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXNXaXRoUG9zaXRpb24uZW50aXRpZXMpIHtcbiAgICBjb25zdCBwb3MgPSBlbnRpdHkuZ2V0Q29tcG9uZW50T3JOdWxsKFdvcmxkUG9zaXRpb24pO1xuICAgIGlmIChwb3MgJiYgcG9zLnggPT0geCAmJiBwb3MueSA9PSB5KSB7XG4gICAgICB5aWVsZCBlbnRpdHk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGVudGl0aWVzV2l0aFBvc2l0aW9uQW5kQm9keUFuZFBvc2l0aW9uID0gZW5naW5lLmdldENvbXBvbmVudEdyb3VwKFdvcmxkUG9zaXRpb24sIEJvZHkpO1xuXG5leHBvcnQgZnVuY3Rpb24gZW50aXRpZXNXaXRoQm9keUFuZFBvc2l0aW9uKCkge1xuICByZXR1cm4gZW50aXRpZXNXaXRoUG9zaXRpb25BbmRCb2R5QW5kUG9zaXRpb24uZW50aXRpZXM7XG59XG4iLCJpbXBvcnQgeyBBYmlsaXR5IH0gZnJvbSBcIi4uL0RlY2xhcmVzXCI7XG5cbkBDb21wb25lbnQoXCJTdGF0c1wiKVxuZXhwb3J0IGNsYXNzIENoYXJTdGF0cyBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBtaW5IcDogbnVtYmVyID0gMDtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbWF4SHA6IG51bWJlciA9IDA7XG5cbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbWluTWFuYTogbnVtYmVyID0gMDtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgbWF4TWFuYTogbnVtYmVyID0gMDtcblxuICBtYXhIaXQ6IG51bWJlciA9IDE7XG4gIG1pbkhpdDogbnVtYmVyID0gMTtcblxuICBnZXRBYmlsaXR5TXVsdGlwbGllcihhYmlsaXR5OiBBYmlsaXR5KTogbnVtYmVyIHtcbiAgICAvLyBjb25zdCBtb2RpZmllZCA9IHRoaXMuZWZmZWN0VGltZXIgIT09IDAgPyB0aGlzLm1vZGlmaWVkQWJpbGl0aWVzLmdldChhYmlsaXR5KSB8fCAxIDogMTtcbiAgICAvLyByZXR1cm4gKHRoaXMuYWJpbGl0aWVzLmdldChhYmlsaXR5KSB8fCAwKSArIG1vZGlmaWVkO1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9XG5cbiAgYWRkQWJpbGl0eU1vZGlmaWVyKGFiaWxpdHk6IEFiaWxpdHksIHZhbHVlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpIHtcbiAgICAvLyBUT0RPIHNraWxsc1xuICAgIC8vIGNvbnN0IGN1cnJlbnRBYmlsaXR5ID0gdGhpcy5hYmlsaXRpZXMuZ2V0KGFiaWxpdHkpIHx8IDA7XG4gICAgLy8gY29uc3QgY3VycmVudE1vZGlmaWVkVmFsdWUgPSB0aGlzLm1vZGlmaWVkQWJpbGl0aWVzLmdldChhYmlsaXR5KSB8fCAwO1xuICAgIC8vIHRoaXMuZWZmZWN0VGltZXIgPSBwZXJmb3JtYW5jZS5ub3coKSArIE1hdGgubWF4KGR1cmF0aW9uLCB0aGlzLmVmZmVjdFRpbWVyKTtcbiAgICAvLyB0aGlzLm1vZGlmaWVkQWJpbGl0aWVzLnNldChcbiAgICAvLyBhYmlsaXR5LFxuICAgIC8vIE1hdGgubWluKGN1cnJlbnRBYmlsaXR5ICogMiwgTWF0aC5taW4odmFsdWUgKyBjdXJyZW50TW9kaWZpZWRWYWx1ZSwgTUFYX0FCSUxJVFkpKVxuICAgIC8vICk7XG4gICAgLy8gdGhpcy5zZW5kU3RhdHVzKCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEludmVudG9yeUl0ZW0sIEl0ZW1MaWtlLCBPYmplY3RUeXBlcyB9IGZyb20gXCIuLi9EZWNsYXJlc1wiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcIi4vQ2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBJbnZlbnRvcnlTbG90cywgQ29uc29sZU1lc3NhZ2VzLCBSYWNlIH0gZnJvbSBcIi4uL0VudW1zXCI7XG5cbkBDb21wb25lbnQoXCJJbnZlbnRvcnlcIilcbmV4cG9ydCBjbGFzcyBJbnZlbnRvcnkgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgaXRlbXM6IFJlYWRvbmx5PFJlY29yZDxzdHJpbmcsIFJlYWRvbmx5PEludmVudG9yeUl0ZW0+IHwgbnVsbD4+ID0ge30gYXMgYW55O1xuXG4gIGdldEl0ZW0oc2xvdDogSW52ZW50b3J5U2xvdHMpOiBJbnZlbnRvcnlJdGVtIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNbc2xvdF0gfHwgbnVsbDtcbiAgfVxuXG4gIHNldEl0ZW0oc2xvdDogSW52ZW50b3J5U2xvdHMsIGl0ZW06IEludmVudG9yeUl0ZW0gfCBudWxsKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBzbG90ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICBlcnJvcihcInNsb3Qgd2FzIG5vdCBhIG51bWJlclwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pdGVtcyA9IHsgLi4udGhpcy5pdGVtcywgW3Nsb3RdOiBpdGVtIH07XG4gIH1cblxuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLml0ZW1zID0ge30gYXMgYW55O1xuICB9XG5cbiAgcmVtb3ZlSXRlbUZyb21TbG90KHNsb3Q6IEludmVudG9yeVNsb3RzLCBhbW91bnQ6IG51bWJlcikge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdldEl0ZW0oc2xvdCk7XG5cbiAgICBpZiAoaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uYW1vdW50ID49IDk5OTk5OSkgcmV0dXJuO1xuICAgICAgaXRlbS5hbW91bnQgPSBpdGVtLmFtb3VudCAtIGFtb3VudDtcbiAgICAgIGlmIChpdGVtLmFtb3VudCA8PSAwKSB7XG4gICAgICAgIHRoaXMuc2V0SXRlbShzbG90LCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRJdGVtKGl0ZW06IEl0ZW1MaWtlLCBhbW91bnQ6IG51bWJlcikge1xuICAgIC8vIGRvZXMgdGhlIHVzZXIgYWxyZWFkeSBoYXZlIHRoaXMga2luZCBvZiBpdGVtP1xuICAgIGZvciAobGV0IFtpLCBpbnZlbnRvcnlJdGVtXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLml0ZW1zKSkge1xuICAgICAgaWYgKGludmVudG9yeUl0ZW0gJiYgaW52ZW50b3J5SXRlbS5pdGVtID09PSBpdGVtKSB7XG4gICAgICAgIHRoaXMuc2V0SXRlbSgraSwge1xuICAgICAgICAgIGl0ZW06IGludmVudG9yeUl0ZW0uaXRlbSxcbiAgICAgICAgICBhbW91bnQ6IGludmVudG9yeUl0ZW0uYW1vdW50ICsgYW1vdW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgb3BlblNsb3QgPSBJbnZlbnRvcnlTbG90cy5OT05FO1xuXG4gICAgLy8gZmluZCBhbiBvcGVuIHNsb3RcbiAgICBmb3IgKGxldCBpIGluIEludmVudG9yeVNsb3RzKSB7XG4gICAgICBpZiAoaXNGaW5pdGUoK2kpICYmICF0aGlzLmdldEl0ZW0oK2kpKSB7XG4gICAgICAgIG9wZW5TbG90ID0gK2k7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHRoZXJlIGlzIG5vIHJvb20gZm9yIG5ldyBpdGVtc1xuICAgIGlmIChvcGVuU2xvdCA9PT0gSW52ZW50b3J5U2xvdHMuTk9ORSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2V0SXRlbShvcGVuU2xvdCwgeyBhbW91bnQsIGl0ZW0gfSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gICplbnRyaWVzKCk6IEl0ZXJhYmxlPFtJbnZlbnRvcnlTbG90cywgSW52ZW50b3J5SXRlbV0+IHtcbiAgICBmb3IgKGxldCBpIGluIHRoaXMuaXRlbXMpIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLml0ZW1zWyhpIGFzIGFueSkgYXMgSW52ZW50b3J5U2xvdHNdO1xuICAgICAgaWYgKGl0ZW0pIHlpZWxkIFsraSwgaXRlbV07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5FcXVpcChjaGFyOiBDaGFyYWN0ZXIsIGl0ZW06IEl0ZW1MaWtlLCB0b1Nsb3Q6IEludmVudG9yeVNsb3RzLCBzZW5kTWVzc2FnZXM6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgY29uc3QgaW52ZW50b3J5ID0gY2hhci5nZXRDb21wb25lbnRPck51bGwoSW52ZW50b3J5KTtcblxuICBpZiAoIWludmVudG9yeSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIFRPRE86IElmIEkgaGF2ZSBhIGRvdWJsZSBoYW5kZWQgd2VhcG9uIEkgc3RpbGwgY2FuIGVxdWlwIGEgc2hpZWxkXG4gIGlmIChcImFsbG93ZWRfY2xhc3Nlc1wiIGluIGl0ZW0gJiYgaXRlbS5hbGxvd2VkX2NsYXNzZXMuaW5kZXhPZihjaGFyLmJvZHkuY2hhckNsYXNzKSA9PSAtMSkge1xuICAgIHNlbmRNZXNzYWdlcyAmJiBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShDb25zb2xlTWVzc2FnZXNbXCJZb3VyIGNsYXNzIGNhbm5vdCB1c2UgdGhhdCBpdGVtIVwiXSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGl0ZW0ub2JqZWN0X3R5cGUgPT09IE9iamVjdFR5cGVzLkFybW9yKSB7XG4gICAgaWYgKGl0ZW0uc2hvcnRfcGVvcGxlICE9PSAoY2hhci5ib2R5LnJhY2UgPT09IFJhY2UuRHdhcmYgfHwgY2hhci5ib2R5LnJhY2UgPT09IFJhY2UuR25vbWUpKSB7XG4gICAgICBzZW5kTWVzc2FnZXMgJiYgY2hhci5zZW5kQ29uc29sZU1lc3NhZ2UoQ29uc29sZU1lc3NhZ2VzW1wiWW91ciByYWNlIGNhbm5vdCB1c2UgdGhhdCBpdGVtIVwiXSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKGl0ZW0ub2JqZWN0X3R5cGUgPT09IE9iamVjdFR5cGVzLldlYXBvbikge1xuICAgIGlmIChpdGVtLnR3b19oYW5kZWQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKHRvU2xvdCA9PT0gSW52ZW50b3J5U2xvdHMuTGVmdEhhbmQgJiYgaW52ZW50b3J5LmdldEl0ZW0oSW52ZW50b3J5U2xvdHMuUmlnaHRIYW5kKSkgfHxcbiAgICAgICAgKHRvU2xvdCA9PT0gSW52ZW50b3J5U2xvdHMuUmlnaHRIYW5kICYmIGludmVudG9yeS5nZXRJdGVtKEludmVudG9yeVNsb3RzLkxlZnRIYW5kKSlcbiAgICAgICkge1xuICAgICAgICBzZW5kTWVzc2FnZXMgJiZcbiAgICAgICAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShDb25zb2xlTWVzc2FnZXNbXCJUbyB1c2UgYSB0d28gaGFuZGVkIGl0ZW0geW91IG11c3QgcmVsZWFzZSBib3RoIGhhbmRzIVwiXSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cbiIsIkBDb21wb25lbnQoXCJzdGF0dXNcIilcbmV4cG9ydCBjbGFzcyBDaGFyU3RhdHVzIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkIHBhcmFseXplZDogYm9vbGVhbiA9IGZhbHNlO1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCBpbnZpc2libGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGQgZHVtYjogYm9vbGVhbiA9IGZhbHNlO1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCBibGluZDogYm9vbGVhbiA9IGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgQ2hhclN0YXR1cyB9IGZyb20gXCIuL0NoYXJTdGF0dXNcIjtcblxuQENvbXBvbmVudChcIkludmlzaWJsZVwiKVxuZXhwb3J0IGNsYXNzIEludmlzaWJsZSBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBlbmQgPSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SW52aXNpYmxlKGVudGl0eTogSUVudGl0eSkge1xuICBjb25zdCBpbnYgPSBlbnRpdHkuZ2V0Q29tcG9uZW50T3JDcmVhdGUoSW52aXNpYmxlKTtcbiAgaW52LmVuZCA9IDE1O1xuICBlbnRpdHkuZ2V0Q29tcG9uZW50T3JDcmVhdGUoQ2hhclN0YXR1cykuaW52aXNpYmxlID0gdHJ1ZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0VmlzaWJsZShlbnRpdHk6IElFbnRpdHkpIHtcbiAgZW50aXR5LmdldENvbXBvbmVudE9yQ3JlYXRlKENoYXJTdGF0dXMpLmludmlzaWJsZSA9IGZhbHNlXG4gIHJldHVybiBlbnRpdHkucmVtb3ZlQ29tcG9uZW50KEludmlzaWJsZSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzSW52aXNpYmxlKGVudGl0eTogSUVudGl0eSk6IGJvb2xlYW4ge1xuICByZXR1cm4gZW50aXR5Lmhhc0NvbXBvbmVudChJbnZpc2libGUpO1xufSIsIkBDb21wb25lbnQoXCJmeFwiKVxuZXhwb3J0IGNsYXNzIEZ4IGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIHB1YmxpYyBmeDogbnVtYmVyID0gMDtcblxuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZFxuICBwdWJsaWMgbG9vcHM6IG51bWJlciA9IDA7XG5cbiAgc2V0KGZ4OiBudW1iZXIsIGxvb3BzOiBudW1iZXIpIHtcbiAgICB0aGlzLmZ4ID0gZng7XG4gICAgdGhpcy5sb29wcyA9IGxvb3BzO1xuICB9XG59XG4iLCJpbXBvcnQgeyBzZXRWaXNpYmxlIH0gZnJvbSBcIi4vSW52aXNpYmxlXCI7XG5pbXBvcnQgeyBGeCB9IGZyb20gXCIuL0Z4XCI7XG5cbmV4cG9ydCBjb25zdCBNRURJVEFUSU9OX0ZYID0gWzQsIDUsIDYsIDE2LCAzNF07XG5cbkBDb21wb25lbnQoXCJNZWRpdGF0aW5nXCIpXG5leHBvcnQgY2xhc3MgTWVkaXRhdGluZyB7fVxuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRNZWRpdGF0aW5nKGVudGl0eTogSUVudGl0eSkge1xuICBzZXRWaXNpYmxlKGVudGl0eSk7XG5cbiAgZW50aXR5LmdldENvbXBvbmVudE9yQ3JlYXRlKE1lZGl0YXRpbmcpO1xuICBlbnRpdHkuZ2V0Q29tcG9uZW50T3JDcmVhdGUoRngpLnNldChNRURJVEFUSU9OX0ZYWzJdLCAtMSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BNZWRpdGF0aW5nKGNoYXI6IElFbnRpdHkpIHtcbiAgaWYgKGNoYXIucmVtb3ZlQ29tcG9uZW50KE1lZGl0YXRpbmcpKSB7XG4gICAgY2hhci5yZW1vdmVDb21wb25lbnQoRngpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01lZGl0YXRpbmcoY2hhcjogSUVudGl0eSk6IGJvb2xlYW4ge1xuICByZXR1cm4gY2hhci5oYXNDb21wb25lbnQoTWVkaXRhdGluZyk7XG59XG4iLCJpbXBvcnQgeyBIb3RCYXJTbG90cywgU2tpbGxTbG90cywgSW52ZW50b3J5U2xvdHMgfSBmcm9tIFwiLi4vRW51bXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2tpbGxTbG90KHNsb3Q6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIChzbG90ID49IEhvdEJhclNsb3RzLkhvdEJhcjEgJiYgc2xvdCA8PSBIb3RCYXJTbG90cy5Ib3RCYXI1KSB8fFxuICAgIChzbG90ID49IFNraWxsU2xvdHMuU3BlbGwxICYmIHNsb3QgPD0gU2tpbGxTbG90cy5TcGVsbDExKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FuRHJvcChvcmlnaW5TbG90OiBudW1iZXIsIHRhcmdldFNsb3Q6IG51bWJlcik6IGJvb2xlYW4ge1xuICBpZiAodGFyZ2V0U2xvdCA9PT0gSW52ZW50b3J5U2xvdHMuTk9ORSkgcmV0dXJuIGZhbHNlO1xuICBpZiAob3JpZ2luU2xvdCA9PT0gSW52ZW50b3J5U2xvdHMuTk9ORSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gaXNTa2lsbFNsb3Qob3JpZ2luU2xvdCkgPT09IGlzU2tpbGxTbG90KHRhcmdldFNsb3QpO1xufVxuIiwiaW1wb3J0IHsgU2tpbGwgfSBmcm9tIFwiLi4vRGVjbGFyZXNcIjtcbmltcG9ydCB7IENoYXJTdGF0cyB9IGZyb20gXCIuL1N0YXRzXCI7XG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tIFwiLi9DaGFyYWN0ZXJcIjtcbmltcG9ydCB7IGlzTWVkaXRhdGluZyB9IGZyb20gXCIuL01lZGl0YXRpb25cIjtcbmltcG9ydCB7IGlzU2tpbGxTbG90IH0gZnJvbSBcIi4uL0F0b21pY0hlbHBlcnMvU2xvdHNcIjtcbmltcG9ydCB7IFNraWxsU2xvdHMsIEhvdEJhclNsb3RzIH0gZnJvbSBcIi4uL0VudW1zXCI7XG5cbkBDb21wb25lbnQoXCJTa2lsbHNcIilcbmV4cG9ydCBjbGFzcyBTa2lsbHMgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGRcbiAgc2tpbGxzOiBSZWFkb25seTxSZWNvcmQ8c3RyaW5nLCBTa2lsbCB8IG51bGw+PiA9IHt9IGFzIGFueTtcblxuICBnZXRJdGVtKHNsb3Q6IFNraWxsU2xvdHMgfCBIb3RCYXJTbG90cyk6IFNraWxsIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuc2tpbGxzW3Nsb3RdIHx8IG51bGw7XG4gIH1cblxuICBzZXRJdGVtKHNsb3Q6IFNraWxsU2xvdHMgfCBIb3RCYXJTbG90cywgc2tpbGw6IFNraWxsIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuc2tpbGxzID0geyAuLi50aGlzLnNraWxscywgW3Nsb3RdOiBza2lsbCB9O1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICB9XG5cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5za2lsbHMgPSB7fSBhcyBhbnk7XG4gIH1cblxuICBlbm91Z2hNYW5hRm9yKHNsb3Q6IG51bWJlciwgc3RhdHM6IENoYXJTdGF0cykge1xuICAgIGNvbnN0IGlzU3BlbGwgPSBpc1NraWxsU2xvdChzbG90KTtcblxuICAgIGlmIChpc1NwZWxsKSB7XG4gICAgICBjb25zdCBzcGVsbCA9IHRoaXMuZ2V0SXRlbShzbG90KTtcbiAgICAgIGlmIChzcGVsbCkge1xuICAgICAgICByZXR1cm4gc3RhdHMubWluTWFuYSA+PSBzcGVsbC5yZXF1aXJlZF9tYW5hO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBoYW5kbGVNb3ZlU3BlbGxzKGZyb21TbG90OiBTa2lsbFNsb3RzIHwgSG90QmFyU2xvdHMsIHRvU2xvdDogU2tpbGxTbG90cyB8IEhvdEJhclNsb3RzKSB7XG4gICAgaWYgKGZyb21TbG90ID09PSBTa2lsbFNsb3RzLk5PTkUgfHwgdG9TbG90ID09PSBTa2lsbFNsb3RzLk5PTkUpIHJldHVybjtcblxuICAgIGlmICghaXNTa2lsbFNsb3QoZnJvbVNsb3QpKSByZXR1cm47XG4gICAgaWYgKCFpc1NraWxsU2xvdCh0b1Nsb3QpKSByZXR1cm47XG5cbiAgICBjb25zdCBmcm9tSXRlbSA9IHRoaXMuZ2V0SXRlbShmcm9tU2xvdCk7XG4gICAgY29uc3QgdG9JdGVtID0gdGhpcy5nZXRJdGVtKHRvU2xvdCk7XG5cbiAgICB0aGlzLnNraWxscyA9IHsgLi4udGhpcy5za2lsbHMsIFt0b1Nsb3RdOiBmcm9tSXRlbSwgW2Zyb21TbG90XTogdG9JdGVtIH07XG4gIH1cblxuICAqZW50cmllcygpOiBJdGVyYWJsZTxbU2tpbGxTbG90cyB8IEhvdEJhclNsb3RzLCBTa2lsbF0+IHtcbiAgICBmb3IgKGxldCBpIGluIHRoaXMuc2tpbGxzKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5za2lsbHNbKGkgYXMgYW55KSBhcyBTa2lsbFNsb3RzIHwgSG90QmFyU2xvdHNdO1xuICAgICAgaWYgKGl0ZW0pIHlpZWxkIFsraSwgaXRlbV07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5DYXN0U3BlbGwoY2FzdGVyOiBDaGFyYWN0ZXIsIHNwZWxsOiBTa2lsbCk6IGJvb2xlYW4ge1xuICBpZiAoY2FzdGVyLmJvZHkuZGVhZCkge1xuICAgIGNhc3Rlci5zZW5kQ29uc29sZU1lc3NhZ2UoXCJZb3UgY2FuJ3QgY2FzdCBzcGVsbHMgd2hpbGUgeW91IGFyZSBkZWFkIVwiKTtcbiAgfSBlbHNlIGlmIChpc01lZGl0YXRpbmcoY2FzdGVyKSkge1xuICAgIGNhc3Rlci5zZW5kQ29uc29sZU1lc3NhZ2UoXCJZb3UgY2FuJ3QgY2FzdCBzcGVsbHMgd2hpbGUgeW91IGFyZSBtZWRpdGF0aW5nIVwiKTtcbiAgfSBlbHNlIGlmIChzcGVsbC5yZXF1aXJlZF9tYW5hID4gY2FzdGVyLnN0YXRzLm1pbk1hbmEpIHtcbiAgICBjYXN0ZXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiSW5zdWZmaWNpZW50IG1hbmEhXCIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB0eXBlIHsgQ2hhcmFjdGVyIH0gZnJvbSBcIi4vQ2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBUYXJnZXRUeXBlIH0gZnJvbSBcIi4uL0VudW1zXCI7XG5cbkBDb21wb25lbnQoXCJSZXF1ZXN0ZWRUYXJnZXRcIilcbmV4cG9ydCBjbGFzcyBSZXF1ZXN0ZWRUYXJnZXQgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGQgdHlwZTogVGFyZ2V0VHlwZTtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGQgc2xvdDogbnVtYmVyO1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCByYW5nZTogbnVtYmVyO1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCBkaXN0YW5jZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHR5cGU6IFRhcmdldFR5cGUsIHNsb3Q6IG51bWJlciA9IDAsIHJhbmdlOiBudW1iZXIgPSAxLCBkaXN0YW5jZTogbnVtYmVyID0gMTUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zbG90ID0gc2xvdDtcbiAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxDYXN0aW5nKGNoYXI6IENoYXJhY3Rlcikge1xuICBjaGFyLnJlbW92ZUNvbXBvbmVudChSZXF1ZXN0ZWRUYXJnZXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWVzdFRhcmdldEZvcihjaGFyOiBDaGFyYWN0ZXIsIHR5cGU6IFRhcmdldFR5cGUsIHNsb3Q6IG51bWJlcikge1xuICAvLyBUT0RPOiBhZGQgdmFsaWRhdGlvbnM6IGludGVydmFsLCBza2lsbC9pdGVtIGV4aXN0LlxuICBjaGFyLmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXcgUmVxdWVzdGVkVGFyZ2V0KHR5cGUsIHNsb3QpKTtcbn1cbiIsImltcG9ydCB7IEhlYWRpbmcgfSBmcm9tIFwiLi4vRW51bXNcIjtcblxuQENvbXBvbmVudChcImhlYWRpbmdcIilcbmV4cG9ydCBjbGFzcyBIZWFkaW5nQ29tcG9uZW50IGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGhlYWRpbmc6IEhlYWRpbmcgPSBIZWFkaW5nLlNvdXRoO1xufVxuIiwiaW1wb3J0IHsgREVGQVVMVF9USU1FUlMgfSBmcm9tIFwiLi4vRGVjbGFyZXNcIjtcblxuQENvbXBvbmVudChcInRpbWVyc1wiKVxuZXhwb3J0IGNsYXNzIFRpbWVycyBleHRlbmRzIE9ic2VydmFibGVDb21wb25lbnQge1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCBjYW5BdHRhY2tJbnRlcnZhbDogbnVtYmVyID0gREVGQVVMVF9USU1FUlMuQVRUQUNLO1xuICBAT2JzZXJ2YWJsZUNvbXBvbmVudC5maWVsZCBjYW5UaHJvd1NwZWxsSW50ZXJ2YWw6IG51bWJlciA9XG4gICAgREVGQVVMVF9USU1FUlMuVEhST1dfU1BFTEw7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkIGNhblVzZUl0ZW1JbnRlcnZhbDogbnVtYmVyID1cbiAgICBERUZBVUxUX1RJTUVSUy5VU0VfSVRFTTtcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGQgY2FuVXNlQm93SW50ZXJ2YWw6IG51bWJlciA9IERFRkFVTFRfVElNRVJTLlVTRV9CT1c7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkIGNhbldhbGtJbnRlcnZhbDogbnVtYmVyID0gREVGQVVMVF9USU1FUlMuV0FMSztcbiAgQE9ic2VydmFibGVDb21wb25lbnQuZmllbGQgYXR0YWNrU2tpbGxJbnRlcnZhbDogbnVtYmVyID1cbiAgICBERUZBVUxUX1RJTUVSUy5BVFRBQ0tfU1BFTEw7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkIHNraWxsQXR0YWNrSW50ZXJ2YWw6IG51bWJlciA9XG4gICAgREVGQVVMVF9USU1FUlMuU1BFTExfQVRUQUNLO1xuXG4gIHByaXZhdGUgbm93SW5NcyA9IDA7XG5cbiAgcHJpdmF0ZSBsYXN0QXR0YWNrOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGxhc3RUaHJvd1NwZWxsOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGxhc3RVc2VJdGVtOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGxhc3RVc2VCb3c6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbGFzdFdhbGs6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbGFzdEF0dGFja1NraWxsOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGxhc3RTa2lsbEF0dGFjazogbnVtYmVyID0gMDtcblxuICB1cGRhdGUobm93SW5NczogbnVtYmVyKSB7XG4gICAgdGhpcy5ub3dJbk1zID0gbm93SW5NcztcbiAgfVxuXG4gIGNhblVzZUl0ZW0odXBkYXRlOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhbiA9IHRoaXMubm93SW5NcyAtIHRoaXMubGFzdFVzZUl0ZW0gPj0gdGhpcy5jYW5Vc2VJdGVtSW50ZXJ2YWw7XG4gICAgaWYgKGNhbiAmJiB1cGRhdGUpIHtcbiAgICAgIHRoaXMubGFzdFVzZUl0ZW0gPSB0aGlzLm5vd0luTXM7XG4gICAgfVxuICAgIHJldHVybiBjYW47XG4gIH1cblxuICBjYW5XYWxrKHVwZGF0ZTogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcbiAgICBjb25zdCBjYW4gPSB0aGlzLm5vd0luTXMgLSB0aGlzLmxhc3RXYWxrID49IHRoaXMuY2FuV2Fsa0ludGVydmFsO1xuICAgIGlmIChjYW4gJiYgdXBkYXRlKSB7XG4gICAgICB0aGlzLmxhc3RXYWxrID0gdGhpcy5ub3dJbk1zO1xuICAgIH1cbiAgICByZXR1cm4gY2FuO1xuICB9XG5cbiAgY2FuVXNlQm93KHVwZGF0ZTogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcbiAgICBjb25zdCBjYW4gPSB0aGlzLm5vd0luTXMgLSB0aGlzLmxhc3RVc2VCb3cgPj0gdGhpcy5jYW5Vc2VCb3dJbnRlcnZhbDtcbiAgICBpZiAoY2FuICYmIHVwZGF0ZSkge1xuICAgICAgdGhpcy5sYXN0VXNlQm93ID0gdGhpcy5ub3dJbk1zO1xuICAgIH1cbiAgICByZXR1cm4gY2FuO1xuICB9XG5cbiAgY2FuQXR0YWNrKHVwZGF0ZTogYm9vbGVhbiA9IHRydWUpOiBib29sZWFuIHtcbiAgICBjb25zdCBjYW4gPSB0aGlzLm5vd0luTXMgLSB0aGlzLmxhc3RBdHRhY2sgPj0gdGhpcy5jYW5BdHRhY2tJbnRlcnZhbDtcbiAgICBpZiAoY2FuICYmIHVwZGF0ZSkge1xuICAgICAgdGhpcy5sYXN0QXR0YWNrID0gdGhpcy5ub3dJbk1zO1xuICAgIH1cbiAgICByZXR1cm4gY2FuO1xuICB9XG5cbiAgY2FuU3BlbGwodXBkYXRlOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhbiA9XG4gICAgICB0aGlzLm5vd0luTXMgLSB0aGlzLmxhc3RUaHJvd1NwZWxsID49IHRoaXMuY2FuVGhyb3dTcGVsbEludGVydmFsO1xuICAgIGlmIChjYW4gJiYgdXBkYXRlKSB7XG4gICAgICB0aGlzLmxhc3RUaHJvd1NwZWxsID0gdGhpcy5ub3dJbk1zO1xuICAgIH1cbiAgICByZXR1cm4gY2FuO1xuICB9XG5cbiAgY2FuQXR0YWNrU2tpbGwodXBkYXRlOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmxhc3RBdHRhY2tTa2lsbCA+IHRoaXMubGFzdFRocm93U3BlbGwpIHJldHVybiBmYWxzZTtcblxuICAgIGNvbnN0IGNhbiA9IHRoaXMubm93SW5NcyAtIHRoaXMubGFzdEF0dGFja1NraWxsID49IHRoaXMuYXR0YWNrU2tpbGxJbnRlcnZhbDtcbiAgICBpZiAoY2FuICYmIHVwZGF0ZSkge1xuICAgICAgdGhpcy5sYXN0QXR0YWNrU2tpbGwgPSB0aGlzLm5vd0luTXM7XG4gICAgICB0aGlzLmxhc3RUaHJvd1NwZWxsID0gdGhpcy5ub3dJbk1zO1xuICAgIH1cbiAgICByZXR1cm4gY2FuO1xuICB9XG5cbiAgY2FuU2tpbGxBdHRhY2sodXBkYXRlOiBib29sZWFuID0gdHJ1ZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmxhc3RTa2lsbEF0dGFjayA+IHRoaXMubGFzdEF0dGFjaykgcmV0dXJuIGZhbHNlO1xuXG4gICAgY29uc3QgY2FuID0gdGhpcy5ub3dJbk1zIC0gdGhpcy5sYXN0U2tpbGxBdHRhY2sgPj0gdGhpcy5za2lsbEF0dGFja0ludGVydmFsO1xuICAgIGlmIChjYW4gJiYgdXBkYXRlKSB7XG4gICAgICB0aGlzLmxhc3RTa2lsbEF0dGFjayA9IHRoaXMubm93SW5NcztcbiAgICAgIHRoaXMubGFzdEF0dGFjayA9IHRoaXMubm93SW5NcztcbiAgICB9XG4gICAgcmV0dXJuIGNhbjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQm9keSB9IGZyb20gXCIuL0JvZHlcIjtcbmltcG9ydCB7IEtub3duU291bmRzIH0gZnJvbSBcIi4uL0RlY2xhcmVzXCI7XG5pbXBvcnQgeyBXb3JsZFBvc2l0aW9uIH0gZnJvbSBcIi4vV29ybGRQb3NpdGlvblwiO1xuaW1wb3J0IHsgQ2hhclN0YXRzIH0gZnJvbSBcIi4vU3RhdHNcIjtcbmltcG9ydCB7IENvbm5lY3Rpb24sIHNlbmRNZXNzYWdlT2JzZXJ2YWJsZSB9IGZyb20gXCIuL0Nvbm5lY3Rpb25cIjtcbmltcG9ydCB7IEludmVudG9yeSB9IGZyb20gXCIuL0ludmVudG9yeVwiO1xuaW1wb3J0IHsgU2tpbGxzIH0gZnJvbSBcIi4vU2tpbGxzXCI7XG5pbXBvcnQgeyBzZXRWaXNpYmxlIH0gZnJvbSBcIi4vSW52aXNpYmxlXCI7XG5pbXBvcnQgeyBzdG9wTWVkaXRhdGluZyB9IGZyb20gXCIuL01lZGl0YXRpb25cIjtcbmltcG9ydCB7IGNhbmNlbENhc3RpbmcgfSBmcm9tIFwiLi9SZXF1ZXN0VGFyZ2V0XCI7XG5pbXBvcnQgeyBIZWFkaW5nQ29tcG9uZW50IH0gZnJvbSBcIi4vSGVhZGluZ1wiO1xuaW1wb3J0IHsgRnggfSBmcm9tIFwiLi9GeFwiO1xuaW1wb3J0IHsgVGltZXJzIH0gZnJvbSBcIi4vVGltZXJzXCI7XG5pbXBvcnQgeyBDb25zb2xlTWVzc2FnZXMsIEdlbmRlciB9IGZyb20gXCIuLi9FbnVtc1wiO1xuXG4vLyBvbmx5IHRyaWdnZXJlZCBhZnRlciBhIGNoYXJhY3RlciBpcyBhZGRlZCB0byB0aGUgZW5naW5lLCBtYW51YWxseSBzbyBmYXJcbmV4cG9ydCBjb25zdCBvbk5ld0NoYXJhY3Rlck9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxDaGFyYWN0ZXI+KCk7XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXIgZXh0ZW5kcyBFbnRpdHkge1xuICBnZXQgcG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50T3JDcmVhdGUoV29ybGRQb3NpdGlvbik7XG4gIH1cbiAgZ2V0IGJvZHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50T3JDcmVhdGUoQm9keSk7XG4gIH1cbiAgZ2V0IHN0YXRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudE9yQ3JlYXRlKENoYXJTdGF0cyk7XG4gIH1cbiAgZ2V0IHRpbWVycygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnRPckNyZWF0ZShUaW1lcnMpO1xuICB9XG5cbiAgZ2V0IGNvbm5lY3Rpb24oKTogQ29ubmVjdGlvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudE9yTnVsbChDb25uZWN0aW9uKTtcbiAgfVxuICBnZXQgaW52ZW50b3J5KCk6IEludmVudG9yeSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmdldENvbXBvbmVudE9yTnVsbChJbnZlbnRvcnkpO1xuICB9XG4gIGdldCBza2lsbHMoKTogU2tpbGxzIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50T3JOdWxsKFNraWxscyk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZ2V0Q29tcG9uZW50T3JDcmVhdGUoV29ybGRQb3NpdGlvbik7XG4gICAgdGhpcy5nZXRDb21wb25lbnRPckNyZWF0ZShCb2R5KTtcbiAgICB0aGlzLmdldENvbXBvbmVudE9yQ3JlYXRlKENoYXJTdGF0cyk7XG4gICAgdGhpcy5nZXRDb21wb25lbnRPckNyZWF0ZShIZWFkaW5nQ29tcG9uZW50KTtcbiAgICB0aGlzLmdldENvbXBvbmVudE9yQ3JlYXRlKFRpbWVycyk7XG4gIH1cblxuICBzZW5kU291bmQoc291bmQ6IG51bWJlcikge1xuICAgIHRoaXMucG9zaXRpb24uc2VuZFNvdW5kKHRoaXMucG9zaXRpb24ueCwgdGhpcy5wb3NpdGlvbi55LCBzb3VuZCk7XG4gIH1cblxuICBzYXlNYWdpY1dvcmRzKHNwZWxsOiBzdHJpbmcpIHtcbiAgICB0aGlzLnBvc2l0aW9uLmVucXVldWVTZW5kVG9BcmVhKHtcbiAgICAgIFRhbGs6IHtcbiAgICAgICAgZW50aXR5SWQ6IHRoaXMudXVpZCxcbiAgICAgICAgY29sb3I6IDB4MDBjY2ZmLFxuICAgICAgICBtZXNzYWdlOiBzcGVsbCxcbiAgICAgICAgbmljazogdGhpcy5ib2R5Lm5pY2ssXG4gICAgICAgIGNvbnNvbGU6IGZhbHNlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHRhbGsobWVzc2FnZTogc3RyaW5nLCBjb2xvcjogbnVtYmVyID0gMHhmZmZmZmYpIHtcbiAgICB0aGlzLnBvc2l0aW9uLmVucXVldWVTZW5kVG9BcmVhKHtcbiAgICAgIFRhbGs6IHtcbiAgICAgICAgZW50aXR5SWQ6IHRoaXMudXVpZCxcbiAgICAgICAgY29sb3IsXG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIG5pY2s6IHRoaXMuYm9keS5uaWNrLFxuICAgICAgICBjb25zb2xlOiB0cnVlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIHNlbmRDb25zb2xlTWVzc2FnZShtZXNzYWdlOiBDb25zb2xlTWVzc2FnZXMgfCBzdHJpbmcsIG1hcD86IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pIHtcbiAgICBjb25zdCBjID0gdGhpcy5jb25uZWN0aW9uO1xuXG4gICAgaWYgKGMpIHtcbiAgICAgIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBzZW5kTWVzc2FnZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICBjb25uZWN0aW9uSWRzOiBbYy5jb25uZWN0aW9uSWRdLFxuICAgICAgICAgIGRhdGE6IHsgQ29uc29sZU1lc3NhZ2U6IHsgbWVzc2FnZSwgbWFwIH0gfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZW5kTWVzc2FnZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICBjb25uZWN0aW9uSWRzOiBbYy5jb25uZWN0aW9uSWRdLFxuICAgICAgICAgIGRhdGE6IHsgQ29uc29sZU1lc3NhZ2U6IHsgbWVzc2FnZUlkOiBtZXNzYWdlLCBtYXAgfSB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBub3RpZnlVcGRhdGVkUG9zaXRpb24oKSB7XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbikge1xuICAgICAgc2VuZE1lc3NhZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7XG4gICAgICAgIGNvbm5lY3Rpb25JZHM6IFt0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGlvbklkXSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIFVwZGF0ZVBvc2l0aW9uOiB7XG4gICAgICAgICAgICBlbnRpdHlJZDogdGhpcy51dWlkLFxuICAgICAgICAgICAgeDogdGhpcy5wb3NpdGlvbi54LFxuICAgICAgICAgICAgeTogdGhpcy5wb3NpdGlvbi55LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkaWUoKSB7XG4gICAgaWYgKHRoaXMuYm9keS5kZWFkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYm9keS5nZW5kZXIgPT0gR2VuZGVyLkZlbWFsZSkge1xuICAgICAgdGhpcy5zZW5kU291bmQoS25vd25Tb3VuZHMuRElFX0ZFTUFMRSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2VuZFNvdW5kKEtub3duU291bmRzLkRJRV9NQUxFKTtcbiAgICB9XG5cbiAgICAvLy8gUmVtb3ZlIHRoZSBkaWFsb2dcbiAgICB0aGlzLnRhbGsoXCJcIik7XG5cbiAgICAvLy8gUmVzZXQgc3RhdHNcbiAgICB0aGlzLnN0YXRzLm1pbkhwID0gMDtcbiAgICB0aGlzLnN0YXRzLm1pbk1hbmEgPSAwO1xuXG4gICAgLy8gcmVzZXQgRlhcbiAgICB0aGlzLnJlc2V0RmxhZ3MoKTtcbiAgfVxuXG4gIHJlc2V0RmxhZ3MoKSB7XG4gICAgc2V0VmlzaWJsZSh0aGlzKTtcbiAgICBzdG9wTWVkaXRhdGluZyh0aGlzKTtcbiAgICBjYW5jZWxDYXN0aW5nKHRoaXMpO1xuXG4gICAgdGhpcy5ib2R5Lm1pbWV0aXNtID0gbnVsbDtcblxuICAgIHRoaXMuYm9keS5raWxsKCk7XG4gICAgdGhpcy5yZW1vdmVDb21wb25lbnQoRngpO1xuICB9XG5cbiAgcmVzdWNpdGF0ZShyZXNldDogYm9vbGVhbikge1xuICAgIHRoaXMuYm9keS5yZXN1Y2l0YXRlKCk7XG5cbiAgICB0aGlzLnN0YXRzLm1pbkhwID0gdGhpcy5zdGF0cy5tYXhIcDtcbiAgICB0aGlzLnN0YXRzLm1pbk1hbmEgPSAwO1xuXG4gICAgaWYgKHRoaXMuc3RhdHMubWluSHAgPD0gMCkgdGhpcy5zdGF0cy5taW5IcCA9IDE7XG4gICAgaWYgKHRoaXMuc3RhdHMubWluSHAgPiB0aGlzLnN0YXRzLm1heEhwKSB7XG4gICAgICB0aGlzLnN0YXRzLm1pbkhwID0gdGhpcy5zdGF0cy5tYXhIcDtcbiAgICB9XG5cbiAgICBpZiAocmVzZXQpIHtcbiAgICAgIHRoaXMuc3RhdHMubWluSHAgPSB0aGlzLnN0YXRzLm1heEhwO1xuICAgICAgdGhpcy5zdGF0cy5taW5NYW5hID0gdGhpcy5zdGF0cy5tYXhNYW5hO1xuXG4gICAgICB0aGlzLnJlbW92ZUNvbXBvbmVudChGeCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9DaGFyYWN0ZXJcIjtcblxuQEV2ZW50Q29uc3RydWN0b3IoKVxuZXhwb3J0IGNsYXNzIENoYXJBdHRhY2tzQ2hhciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBhdHRhY2tlcjogQ2hhcmFjdGVyLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWN0aW06IElFbnRpdHksXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2plY3RpbGU6IGJvb2xlYW5cbiAgKSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhckF0dGFja3NFbnRpdHkoYXR0YWNrZXI6IENoYXJhY3RlciwgdmljdGltOiBJRW50aXR5LCBwcm9qZWN0aWxlOiBib29sZWFuKSB7XG4gIGVuZ2luZS5ldmVudE1hbmFnZXIuZmlyZUV2ZW50KG5ldyBDaGFyQXR0YWNrc0NoYXIoYXR0YWNrZXIsIHZpY3RpbSwgcHJvamVjdGlsZSkpO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBFdmVudENvbnN0cnVjdG9yKClcbmV4cG9ydCBjbGFzcyBDaGFyVXNlc1NraWxsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNoYXI6IENoYXJhY3RlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2xvdDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSB4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHk6IG51bWJlclxuICApIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFyVXNlc1NraWxsKGNoYXI6IENoYXJhY3Rlciwgc2xvdDogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgQ2hhclVzZXNTa2lsbChjaGFyLCBzbG90LCB4LCB5KSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQEV2ZW50Q29uc3RydWN0b3IoKVxuZXhwb3J0IGNsYXNzIENoYXJVc2VzSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjaGFyOiBDaGFyYWN0ZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHNsb3Q6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgeD86IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgeT86IG51bWJlclxuICApIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFyVXNlc0l0ZW0oY2hhcjogQ2hhcmFjdGVyLCBzbG90OiBudW1iZXIsIHg/OiBudW1iZXIsIHk/OiBudW1iZXIpIHtcbiAgZW5naW5lLmV2ZW50TWFuYWdlci5maXJlRXZlbnQobmV3IENoYXJVc2VzSXRlbShjaGFyLCBzbG90LCB4LCB5KSk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQEV2ZW50Q29uc3RydWN0b3IoKVxuZXhwb3J0IGNsYXNzIE1vdmVJdGVtcyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjaGFyOiBDaGFyYWN0ZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZyb206IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgdG86IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2VuZE1lc3NhZ2VzOiBib29sZWFuXG4gICkge31cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoYXJNb3ZlSXRlbXMoY2hhcjogQ2hhcmFjdGVyLCBmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIHNlbmRNZXNzYWdlczogYm9vbGVhbikge1xuICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgTW92ZUl0ZW1zKGNoYXIsIGZyb20sIHRvLCBzZW5kTWVzc2FnZXMpKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBFdmVudENvbnN0cnVjdG9yKClcbmV4cG9ydCBjbGFzcyBNb3ZlU2tpbGxzIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNoYXI6IENoYXJhY3RlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZnJvbTogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSB0bzogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBzZW5kTWVzc2FnZXM6IGJvb2xlYW5cbiAgKSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hhck1vdmVTa2lsbHMoY2hhcjogQ2hhcmFjdGVyLCBmcm9tOiBudW1iZXIsIHRvOiBudW1iZXIsIHNlbmRNZXNzYWdlczogYm9vbGVhbikge1xuICBlbmdpbmUuZXZlbnRNYW5hZ2VyLmZpcmVFdmVudChuZXcgTW92ZVNraWxscyhjaGFyLCBmcm9tLCB0bywgc2VuZE1lc3NhZ2VzKSk7XG59XG4iLCJpbXBvcnQgeyBIZWFkaW5nIH0gZnJvbSBcIi4uL0VudW1zXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBoZWFkVG9Qb3MoeDogbnVtYmVyLCB5OiBudW1iZXIsIGhlYWRpbmc6IEhlYWRpbmcpOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH0ge1xuICBzd2l0Y2ggKGhlYWRpbmcpIHtcbiAgICBjYXNlIEhlYWRpbmcuRWFzdDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggKyAxLFxuICAgICAgICB5OiB5LFxuICAgICAgfTtcbiAgICBjYXNlIEhlYWRpbmcuV2VzdDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHggLSAxLFxuICAgICAgICB5OiB5LFxuICAgICAgfTtcbiAgICBjYXNlIEhlYWRpbmcuTm9ydGg6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB4OiB4LFxuICAgICAgICB5OiB5IC0gMSxcbiAgICAgIH07XG4gICAgY2FzZSBIZWFkaW5nLlNvdXRoOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeSArIDEsXG4gICAgICB9O1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB4LFxuICAgIHksXG4gIH07XG59XG4iLCJpbXBvcnQgeyBIZWFkaW5nIH0gZnJvbSBcIi4uL0VudW1zXCI7XG5cbkBDb21wb25lbnQoXCJ3YWxraW5nXCIpXG5leHBvcnQgY2xhc3MgV2Fsa2luZyB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBoZWFkaW5nOiBIZWFkaW5nID0gSGVhZGluZy5Tb3V0aCkge31cblxuICB0YXJnZXQ/OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyIH07XG59XG4iLCJpbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9DaGFyYWN0ZXJcIjtcbmltcG9ydCB7XG4gIFJlcXVlc3RlZFRhcmdldCxcbiAgcmVxdWVzdFRhcmdldEZvcixcbiAgY2FuY2VsQ2FzdGluZyxcbn0gZnJvbSBcIi4uL0NvbXBvbmVudHMvUmVxdWVzdFRhcmdldFwiO1xuaW1wb3J0IHtcbiAgY2hhclVzZXNTa2lsbCxcbiAgY2hhclVzZXNJdGVtLFxuICBjaGFyQXR0YWNrc0VudGl0eSxcbn0gZnJvbSBcIi4uL0V2ZW50cy9DaGFyRXZlbnRzXCI7XG5pbXBvcnQge1xuICBpc01lZGl0YXRpbmcsXG4gIHN0b3BNZWRpdGF0aW5nLFxuICBzdGFydE1lZGl0YXRpbmcsXG59IGZyb20gXCIuLi9Db21wb25lbnRzL01lZGl0YXRpb25cIjtcbmltcG9ydCB7IFNraWxsVGFyZ2V0LCBLbm93blNvdW5kcyB9IGZyb20gXCIuLi9EZWNsYXJlc1wiO1xuaW1wb3J0IHsgaXNTa2lsbFNsb3QgfSBmcm9tIFwiLi4vQXRvbWljSGVscGVycy9TbG90c1wiO1xuaW1wb3J0IHsgaGVhZFRvUG9zIH0gZnJvbSBcIi4uL0F0b21pY0hlbHBlcnMvSGVhZFRvUG9zXCI7XG5pbXBvcnQgeyBXYWxraW5nIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvV2Fsa2luZ1wiO1xuaW1wb3J0IHsgZW50aXRpZXNJblBvc2l0aW9uIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvV29ybGRQb3NpdGlvblwiO1xuaW1wb3J0IHsgSGVhZGluZ0NvbXBvbmVudCB9IGZyb20gXCIuLi9Db21wb25lbnRzL0hlYWRpbmdcIjtcbmltcG9ydCB7IFRhcmdldFR5cGUsIENvbnNvbGVNZXNzYWdlcywgSW52ZW50b3J5U2xvdHMsIEhlYWRpbmcgfSBmcm9tIFwiLi4vRW51bXNcIjtcbmltcG9ydCB7IFRpbWVycyB9IGZyb20gXCIuLi9Db21wb25lbnRzL1RpbWVyc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTWFwQ2xpY2soY2hhcjogQ2hhcmFjdGVyLCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICBjb25zdCByZXF1ZXN0ZWRUYXJnZXQgPSBjaGFyLmdldENvbXBvbmVudE9yTnVsbChSZXF1ZXN0ZWRUYXJnZXQpO1xuICBjb25zdCB0aW1lcnMgPSBjaGFyLmdldENvbXBvbmVudE9yTnVsbChUaW1lcnMpO1xuXG4gIGlmIChyZXF1ZXN0ZWRUYXJnZXQpIHtcbiAgICBjYW5jZWxDYXN0aW5nKGNoYXIpO1xuXG4gICAgY29uc3QgaXNTa2lsbCA9IGlzU2tpbGxTbG90KHJlcXVlc3RlZFRhcmdldC5zbG90KTtcblxuICAgIGlmIChpc1NraWxsKSB7XG4gICAgICAvLyBza2lsbHMgYW5kIHNwZWxsc1xuICAgICAgaWYgKHRpbWVycykge1xuICAgICAgICAvLyBDaGVjayBib3dzIGludGVydmFsXG4gICAgICAgIGlmICghdGltZXJzLmNhblVzZUJvdyhmYWxzZSkpIHJldHVybjtcblxuICAgICAgICAvLyBDaGVjayBIaXQtU3BlbGwgaW50ZXJ2YWxcbiAgICAgICAgaWYgKCF0aW1lcnMuY2FuQXR0YWNrU2tpbGwoKSkge1xuICAgICAgICAgIC8vIENoZWNrIE1hZ2ljIGludGVydmFsXG4gICAgICAgICAgaWYgKCF0aW1lcnMuY2FuU3BlbGwoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjaGFyVXNlc1NraWxsKGNoYXIsIHJlcXVlc3RlZFRhcmdldC5zbG90LCB4LCB5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW52ZW50b3J5IGl0ZW1zXG5cbiAgICAgIGlmICh0aW1lcnMpIHtcbiAgICAgICAgLy8gQ2hlY2sgYXR0YWNrIGludGVydmFsXG4gICAgICAgIGlmICghdGltZXJzLmNhbkF0dGFjayhmYWxzZSkpIHJldHVybjtcbiAgICAgICAgLy8gQ2hlY2sgTWFnaWMgaW50ZXJ2YWxcbiAgICAgICAgaWYgKCF0aW1lcnMuY2FuU3BlbGwoZmFsc2UpKSByZXR1cm47XG4gICAgICAgIC8vIENoZWNrIGJvdydzIGludGVydmFsXG4gICAgICAgIGlmICghdGltZXJzLmNhblVzZUJvdygpKSByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNoYXJVc2VzSXRlbShjaGFyLCByZXF1ZXN0ZWRUYXJnZXQuc2xvdCwgeCwgeSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllc0luUG9zaXRpb24oeCwgeSkpIHtcbiAgICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpIHtcbiAgICAgICAgY2hhci5zZW5kQ29uc29sZU1lc3NhZ2UoYFlvdSBzZWU6ICR7ZW50aXR5LmJvZHkubmlja31gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVVzZVNraWxsKGNoYXI6IENoYXJhY3Rlciwgc2xvdDogbnVtYmVyKSB7XG4gIGlmICghaXNTa2lsbFNsb3Qoc2xvdCkpIHJldHVybjtcblxuICBpZiAoY2hhci5ib2R5LmRlYWQpIHtcbiAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBjYW4ndCBjYXN0IHNwZWxscyB3aGlsZSB5b3UgYXJlIGRlYWQhXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpc01lZGl0YXRpbmcoY2hhcikpIHtcbiAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBjYW4ndCBjYXN0IHNwZWxscyB3aGlsZSB5b3UgYXJlIG1lZGl0YXRpbmchXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG15U2tpbGxzID0gY2hhci5za2lsbHM7XG5cbiAgaWYgKCFteVNraWxscykgcmV0dXJuO1xuICBjb25zdCBza2lsbCA9IG15U2tpbGxzLmdldEl0ZW0oc2xvdCk7XG4gIGlmICghc2tpbGwpIHJldHVybjtcblxuICBjb25zdCB0YXJnZXRUeXBlID1cbiAgICBza2lsbC50YXJnZXQgPT09IFNraWxsVGFyZ2V0LlRlcnJhaW4gPyBUYXJnZXRUeXBlLkZsb29yIDogVGFyZ2V0VHlwZS5DaGFyO1xuXG4gIHJlcXVlc3RUYXJnZXRGb3IoY2hhciwgdGFyZ2V0VHlwZSwgc2xvdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0UG9zaXRpb24oY2hhcjogQ2hhcmFjdGVyKSB7XG4gIGNoYXIubm90aWZ5VXBkYXRlZFBvc2l0aW9uKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVBdHRhY2soY2hhcjogQ2hhcmFjdGVyKSB7XG4gIGlmIChjaGFyLmJvZHkuZGVhZCkge1xuICAgIGNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFxuICAgICAgQ29uc29sZU1lc3NhZ2VzW1wiWW91IGNhbid0IGF0dGFjayBiZWNhdXNlIHlvdSBhcmUgZGVhZCFcIl1cbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIE5vdCBodW50ZXI/IEhpZGluZ1N5c3RlbS5tYWtlVmlzaWJsZShjaGFyKVxuXG4gIGNvbnN0IHsgaGVhZGluZyB9ID0gY2hhci5nZXRDb21wb25lbnRPckNyZWF0ZShIZWFkaW5nQ29tcG9uZW50KTtcblxuICBjb25zdCB7IHgsIHkgfSA9IGhlYWRUb1BvcyhjaGFyLnBvc2l0aW9uLngsIGNoYXIucG9zaXRpb24ueSwgaGVhZGluZyk7XG5cbiAgbGV0IGRpZEF0dGFjayA9IGZhbHNlO1xuXG4gIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllc0luUG9zaXRpb24oeCwgeSkpIHtcbiAgICBpZiAoZW50aXR5IGluc3RhbmNlb2YgQ2hhcmFjdGVyKSB7XG4gICAgICBjaGFyQXR0YWNrc0VudGl0eShjaGFyLCBlbnRpdHksIGZhbHNlKTtcbiAgICAgIGRpZEF0dGFjayA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoIWRpZEF0dGFjaykge1xuICAgIGxldCB3ZWFwb25IYW5kID0gY2hhci5ib2R5LmlzTGVmdEhhbmRXZWFwb25cbiAgICAgID8gSW52ZW50b3J5U2xvdHMuTGVmdEhhbmRcbiAgICAgIDogY2hhci5ib2R5LmlzUmlnaHRIYW5kV2VhcG9uXG4gICAgICA/IEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZFxuICAgICAgOiBJbnZlbnRvcnlTbG90cy5OT05FO1xuXG4gICAgaWYgKHdlYXBvbkhhbmQgIT09IEludmVudG9yeVNsb3RzLk5PTkUpIHtcbiAgICAgIGNoYXIucG9zaXRpb24uc2VuZFdlYXBvblN3aW5nKGNoYXIsIHdlYXBvbkhhbmQsIEtub3duU291bmRzLlNXSU5HKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU1lZGl0YXRlKGNoYXI6IENoYXJhY3Rlcikge1xuICBpZiAoY2hhci5ib2R5LmRlYWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBpZiBpbnZpc2libGUsIG1ha2UgdmlzaWJsZVxuXG4gIGlmIChpc01lZGl0YXRpbmcoY2hhcikpIHtcbiAgICBzdG9wTWVkaXRhdGluZyhjaGFyKTtcbiAgfSBlbHNlIHtcbiAgICBzdGFydE1lZGl0YXRpbmcoY2hhcik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVRhbGsoXG4gIGNoYXI6IENoYXJhY3RlcixcbiAgbWVzc2FnZTogc3RyaW5nLFxuICBjb2xvcjogbnVtYmVyID0gMHhmZmZmZmZcbikge1xuICBjaGFyLnRhbGsobWVzc2FnZSwgY29sb3IpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlU2V0SGVhZGluZyhjaGFyOiBDaGFyYWN0ZXIsIGhlYWRpbmc6IEhlYWRpbmcpIHtcbiAgY2hhci5nZXRDb21wb25lbnRPckNyZWF0ZShIZWFkaW5nQ29tcG9uZW50KS5oZWFkaW5nID0gaGVhZGluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVdhbGsoY2hhcjogQ2hhcmFjdGVyLCBoZWFkaW5nOiBIZWFkaW5nKSB7XG4gIGNoYXIuZ2V0Q29tcG9uZW50T3JDcmVhdGUoSGVhZGluZ0NvbXBvbmVudCkuaGVhZGluZyA9IGhlYWRpbmc7XG4gIGNoYXIuYWRkQ29tcG9uZW50T3JSZXBsYWNlKG5ldyBXYWxraW5nKGhlYWRpbmcpKTtcblxuICAvLyBzdG9wSGlkaW5nKGNoYXIpXG59XG4iLCJpbXBvcnQgeyBDaGFyYWN0ZXJEZXNjcmlwdGlvbiB9IGZyb20gXCIuLi9EZWNsYXJlc1wiO1xuaW1wb3J0IHR5cGUgeyBCYXNpY0FsaWdubWVudCB9IGZyb20gXCJAYXJkdXovQ29ubmVjdGlvbnNcIjtcblxuQENvbXBvbmVudChcIkFyY2hldHlwZXNcIilcbmV4cG9ydCBjbGFzcyBBcmNoZXR5cGVzIGV4dGVuZHMgT2JzZXJ2YWJsZUNvbXBvbmVudCB7XG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFyY2hldHlwZXM6IFJlYWRvbmx5PFJlY29yZDxzdHJpbmcsIFJlYWRvbmx5PENoYXJhY3RlckRlc2NyaXB0aW9uPj4+ID0ge30gYXMgYW55O1xuXG4gIEBPYnNlcnZhYmxlQ29tcG9uZW50LmZpZWxkXG4gIGFsaWdubWVudHM6IFJlYWRvbmx5QXJyYXk8QmFzaWNBbGlnbm1lbnQ+ID0gW107XG5cbiAgZ2V0QXJjaGV0eXBlKGlkOiBzdHJpbmcpOiBDaGFyYWN0ZXJEZXNjcmlwdGlvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmFyY2hldHlwZXNbaWRdIHx8IG51bGw7XG4gIH1cblxuICBzZXRBcmNoZXR5cGUoaXRlbTogQ2hhcmFjdGVyRGVzY3JpcHRpb24pOiB2b2lkIHtcbiAgICBjb25zdCBpZCA9IGl0ZW0uaWQ7XG4gICAgdGhpcy5hcmNoZXR5cGVzID0geyAuLi50aGlzLmFyY2hldHlwZXMsIFtpZF06IGl0ZW0gfTtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuYXJjaGV0eXBlcyA9IHt9IGFzIGFueTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQ29ubmVjdGlvbixcbiAgc2VuZE1lc3NhZ2VPYnNlcnZhYmxlLFxuICBjbG9zZUNvbm5lY3Rpb25PYnNlcnZhYmxlLFxuICBvbk1lc3NhZ2VPYnNlcnZhYmxlLFxuICBvbkRpc2Nvbm5lY3Rpb24sXG59IGZyb20gXCIuLi9Db21wb25lbnRzL0Nvbm5lY3Rpb25cIjtcbmltcG9ydCB0eXBlIHsgSW5jb21pbmdNZXNzYWdlcywgT3V0Z29pbmdNZXNzYWdlcyB9IGZyb20gXCJAYXJkdXovQ29ubmVjdGlvbnNcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuaW1wb3J0IHtcbiAgY2hhclVzZXNJdGVtLFxuICBjaGFyTW92ZUl0ZW1zLFxuICBjaGFyTW92ZVNraWxscyxcbn0gZnJvbSBcIi4uL0V2ZW50cy9DaGFyRXZlbnRzXCI7XG5pbXBvcnQge1xuICBoYW5kbGVNYXBDbGljayxcbiAgaGFuZGxlQXR0YWNrLFxuICBoYW5kbGVVc2VTa2lsbCxcbiAgaGFuZGxlTWVkaXRhdGUsXG4gIGhhbmRsZVRhbGssXG4gIGhhbmRsZVNldEhlYWRpbmcsXG4gIGhhbmRsZVdhbGssXG4gIGhhbmRsZVJlcXVlc3RQb3NpdGlvbixcbn0gZnJvbSBcIi4uL0Z1bmN0aW9ucy9uZXR3b3JrSGFuZGxlcnNcIjtcbmltcG9ydCB7IFNraWxscyB9IGZyb20gXCIuLi9Db21wb25lbnRzL1NraWxsc1wiO1xuaW1wb3J0IHsgSW52ZW50b3J5IH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvSW52ZW50b3J5XCI7XG5pbXBvcnQgeyBDaGFyU3RhdHMgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9TdGF0c1wiO1xuaW1wb3J0IHsgQXJjaGV0eXBlcyB9IGZyb20gXCIuLi9Db21wb25lbnRzL0FyY2hldHlwZVwiO1xuaW1wb3J0IHsgVGltZXJzIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvVGltZXJzXCI7XG5pbXBvcnQgeyBSZXF1ZXN0ZWRUYXJnZXQgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9SZXF1ZXN0VGFyZ2V0XCI7XG5pbXBvcnQgeyBpc1NraWxsU2xvdCB9IGZyb20gXCIuLi9BdG9taWNIZWxwZXJzL1Nsb3RzXCI7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvblN5c3RlbSBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICBoYW5kbGVyTWFwOiB7IFtjb25uZWN0aW9uSWQ6IHN0cmluZ106IENvbm5lY3Rpb24gfSA9IHt9O1xuXG4gIHByaXZhdGUgY29ubmVjdGlvbkFkZGVkID0gKGVudGl0eTogSUVudGl0eSkgPT4ge1xuICAgIHRoaXMudXBkYXRlUGxheWVyU3RhdHMoZW50aXR5KTtcblxuICAgIGNvbnN0IGNvbXBvbmVudCA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoQ29ubmVjdGlvbik7XG5cbiAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgQ29ubmVjdGlvbikge1xuICAgICAgdGhpcy5oYW5kbGVyTWFwW2NvbXBvbmVudC5jb25uZWN0aW9uSWRdID0gY29tcG9uZW50O1xuICAgICAgY29tcG9uZW50LmVudGl0eUlkID0gZW50aXR5LnV1aWQ7XG4gICAgfVxuICB9O1xuICBwcml2YXRlIGNvbm5lY3Rpb25SZW1vdmVkID0gKGVudGl0eTogSUVudGl0eSkgPT4ge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoQ29ubmVjdGlvbik7XG5cbiAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgQ29ubmVjdGlvbikge1xuICAgICAgZGVsZXRlIHRoaXMuaGFuZGxlck1hcFtjb21wb25lbnQuY29ubmVjdGlvbklkXTtcbiAgICB9XG4gIH07XG5cbiAgY29ubmVjdGlvbnMhOiBDb21wb25lbnRHcm91cDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgY29ubmVjdGlvbjogdHlwZW9mIGltcG9ydChcIkBhcmR1ei9Db25uZWN0aW9uc1wiKSkge31cblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoQ29tcG9uZW50QWRkZWQsIHRoaXMsIHRoaXMuY29tcG9uZW50QWRkZWQpO1xuICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoXG4gICAgICBDb21wb25lbnRSZW1vdmVkLFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMuY29tcG9uZW50UmVtb3ZlZFxuICAgICk7XG5cbiAgICB0aGlzLmNvbm5lY3Rpb24ub25NZXNzYWdlLmFkZCgobSkgPT4ge1xuICAgICAgZm9yIChsZXQgaSBpbiBtKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25JZCA9IG1baSBhcyBrZXlvZiBJbmNvbWluZ01lc3NhZ2VzXSEuY29ubmVjdGlvbklkO1xuICAgICAgICBpZiAoY29ubmVjdGlvbklkKSB7XG4gICAgICAgICAgY29uc3QgY29ubiA9IHRoaXMuaGFuZGxlck1hcFtjb25uZWN0aW9uSWRdO1xuICAgICAgICAgIGlmIChjb25uICYmIGNvbm4uZW50aXR5SWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IGVuZ2luZS5lbnRpdGllc1tjb25uLmVudGl0eUlkIV07XG4gICAgICAgICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgICAgICAgIG9uTWVzc2FnZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICAgICAgICBlbnRpdHk6IGVudGl0eSBhcyBFbnRpdHksXG4gICAgICAgICAgICAgICAgZGF0YTogbSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZyhcIlVua25vd24gZW50aXR5IGluIGNvbm5lY3Rpb25cIiwgY29ubmVjdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY29ubmVjdGlvbi5vbkRpc2Nvbm5lY3RlZC5hZGQoKHsgY29ubmVjdGlvbklkIH0pID0+IHtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSB0aGlzLmhhbmRsZXJNYXBbY29ubmVjdGlvbklkXTtcblxuICAgICAgaWYgKGNvbm5lY3Rpb24gJiYgY29ubmVjdGlvbi5lbnRpdHlJZCkge1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBlbmdpbmUuZW50aXRpZXNbY29ubmVjdGlvbi5lbnRpdHlJZCFdO1xuXG4gICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICBlbnRpdHkucmVtb3ZlQ29tcG9uZW50KGNvbm5lY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgb25EaXNjb25uZWN0aW9uLm5vdGlmeU9ic2VydmVycyh7IGVudGl0eSwgY29ubmVjdGlvbiB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNlbmRNZXNzYWdlT2JzZXJ2YWJsZS5hZGQoKGV2dCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmQoZXZ0LmNvbm5lY3Rpb25JZHMsIGV2dC5kYXRhLCBldnQucmVsaWFibGUpO1xuICAgIH0pO1xuXG4gICAgY2xvc2VDb25uZWN0aW9uT2JzZXJ2YWJsZS5hZGQoKGV2dCkgPT4ge1xuICAgICAgdGhpcy5jb25uZWN0aW9uLmRpc2Nvbm5lY3QoZXZ0LmNvbm5lY3Rpb25JZCwgXCJjbG9zZWQgbWFudWFsbHlcIik7XG4gICAgfSk7XG5cbiAgICBvbk1lc3NhZ2VPYnNlcnZhYmxlLmFkZCgoeyBlbnRpdHksIGRhdGEgfSkgPT4ge1xuICAgICAgaWYgKGVudGl0eSBpbnN0YW5jZW9mIENoYXJhY3Rlcikge1xuICAgICAgICBpZiAoZGF0YS5Vc2VTbG90KSB7XG4gICAgICAgICAgaWYgKGlzU2tpbGxTbG90KGRhdGEuVXNlU2xvdC5zbG90KSkge1xuICAgICAgICAgICAgaGFuZGxlVXNlU2tpbGwoZW50aXR5LCBkYXRhLlVzZVNsb3Quc2xvdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoYXJVc2VzSXRlbShlbnRpdHksIGRhdGEuVXNlU2xvdC5zbG90KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5XYWxrKSB7XG4gICAgICAgICAgaGFuZGxlV2FsayhlbnRpdHksIGRhdGEuV2Fsay5oZWFkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLk1vdmVTbG90KSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXNTa2lsbFNsb3QoZGF0YS5Nb3ZlU2xvdC5mcm9tKSA9PSBpc1NraWxsU2xvdChkYXRhLk1vdmVTbG90LnRvKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGlzU2tpbGxTbG90KGRhdGEuTW92ZVNsb3QuZnJvbSkpIHtcbiAgICAgICAgICAgICAgY2hhck1vdmVTa2lsbHMoXG4gICAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICAgIGRhdGEuTW92ZVNsb3QuZnJvbSxcbiAgICAgICAgICAgICAgICBkYXRhLk1vdmVTbG90LnRvLFxuICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGFyTW92ZUl0ZW1zKFxuICAgICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgICBkYXRhLk1vdmVTbG90LmZyb20sXG4gICAgICAgICAgICAgICAgZGF0YS5Nb3ZlU2xvdC50byxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLkNsaWNrTWFwKSB7XG4gICAgICAgICAgaGFuZGxlTWFwQ2xpY2soZW50aXR5LCBkYXRhLkNsaWNrTWFwLngsIGRhdGEuQ2xpY2tNYXAueSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5BdHRhY2spIHtcbiAgICAgICAgICBoYW5kbGVBdHRhY2soZW50aXR5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXRhLlJlcXVlc3RQb3NpdGlvbikge1xuICAgICAgICAgIGhhbmRsZVJlcXVlc3RQb3NpdGlvbihlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuSGlkZSkge1xuICAgICAgICAgIC8vICAgaGFuZGxlSGlkZShlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuTWVkaXRhdGUpIHtcbiAgICAgICAgICBoYW5kbGVNZWRpdGF0ZShlbnRpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRhdGEuVGFsaykge1xuICAgICAgICAgIGhhbmRsZVRhbGsoZW50aXR5LCBkYXRhLlRhbGsudGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGF0YS5TZXRIZWFkaW5nKSB7XG4gICAgICAgICAgaGFuZGxlU2V0SGVhZGluZyhlbnRpdHksIGRhdGEuU2V0SGVhZGluZy5oZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jb25uZWN0aW9ucyA9IGVuZ2luZS5nZXRDb21wb25lbnRHcm91cChcbiAgICAgIHtcbiAgICAgICAgb25BZGRFbnRpdHk6IHRoaXMuY29ubmVjdGlvbkFkZGVkLFxuICAgICAgICBvblJlbW92ZUVudGl0eTogdGhpcy5jb25uZWN0aW9uUmVtb3ZlZCxcbiAgICAgIH0sXG4gICAgICBDb25uZWN0aW9uXG4gICAgKTtcblxuICAgIGxvZyhcIkNvbm5lY3Rpb25TeXN0ZW0gc3RhcnRlZFwiLCB0aGlzLmNvbm5lY3Rpb25zKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy5jb25uZWN0aW9ucy5lbnRpdGllcykge1xuICAgICAgY29uc3QgZGF0YSA9IHRoaXMudXBkYXRlUGxheWVyU3RhdHMoZW50aXR5KTtcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBkYXRhICYmIGVudGl0eS5nZXRDb21wb25lbnQoQ29ubmVjdGlvbik7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBzZW5kTWVzc2FnZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICBjb25uZWN0aW9uSWRzOiBbY29ubmVjdGlvbiEuY29ubmVjdGlvbklkXSxcbiAgICAgICAgICBkYXRhLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVBsYXllclN0YXRzKGVudGl0eTogSUVudGl0eSk6IFBhcnRpYWw8T3V0Z29pbmdNZXNzYWdlcz4gfCBudWxsIHtcbiAgICBsZXQgaGFzQ29udGVudCA9IGZhbHNlO1xuICAgIGNvbnN0IHJldDogUGFydGlhbDxPdXRnb2luZ01lc3NhZ2VzPiA9IHt9O1xuXG4gICAgY29uc3Qgc2tpbGxzID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChTa2lsbHMpO1xuICAgIGNvbnN0IGludiA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoSW52ZW50b3J5KTtcbiAgICBjb25zdCBzdGF0cyA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoQ2hhclN0YXRzKTtcbiAgICBjb25zdCBhcmNoZXR5cGVzID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChBcmNoZXR5cGVzKTtcbiAgICBjb25zdCB0aW1lcnMgPSBlbnRpdHkuZ2V0Q29tcG9uZW50T3JOdWxsKFRpbWVycyk7XG4gICAgY29uc3QgcmVxVGFyZ2V0ID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChSZXF1ZXN0ZWRUYXJnZXQpO1xuXG4gICAgaWYgKHN0YXRzICYmIHN0YXRzLmRpcnR5KSB7XG4gICAgICByZXQuU3RhdHMgPSB7XG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHkudXVpZCxcbiAgICAgICAgbWF4SHA6IHN0YXRzLm1heEhwLFxuICAgICAgICBtaW5IcDogc3RhdHMubWluSHAsXG4gICAgICAgIG1heE1hbmE6IHN0YXRzLm1heE1hbmEsXG4gICAgICAgIG1pbk1hbmE6IHN0YXRzLm1pbk1hbmEsXG4gICAgICB9O1xuICAgICAgc3RhdHMuZGlydHkgPSBmYWxzZTtcbiAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChpbnYgJiYgaW52LmRpcnR5KSB7XG4gICAgICByZXQuSW52ZW50b3J5ID0ge1xuICAgICAgICBpdGVtczogQXJyYXkuZnJvbShpbnYuZW50cmllcygpKS5tYXAoKFtzbG90LCBpdGVtXSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzbG90LFxuICAgICAgICAgICAgYW1vdW50OiBpdGVtLmFtb3VudCxcbiAgICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgICAgZ3JoOiBpdGVtLml0ZW0uZ3JoLFxuICAgICAgICAgICAgICBpZDogaXRlbS5pdGVtLmlkLFxuICAgICAgICAgICAgICBuYW1lOiBpdGVtLml0ZW0ubmFtZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICB9O1xuICAgICAgaW52LmRpcnR5ID0gZmFsc2U7XG4gICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRpbWVycyAmJiB0aW1lcnMuZGlydHkpIHtcbiAgICAgIHJldC5UaW1lcnMgPSB7XG4gICAgICAgIGNhbkF0dGFja0ludGVydmFsOiB0aW1lcnMuY2FuQXR0YWNrSW50ZXJ2YWwsXG4gICAgICAgIGNhblRocm93U3BlbGxJbnRlcnZhbDogdGltZXJzLmNhblRocm93U3BlbGxJbnRlcnZhbCxcbiAgICAgICAgY2FuVXNlQm93SW50ZXJ2YWw6IHRpbWVycy5jYW5Vc2VCb3dJbnRlcnZhbCxcbiAgICAgICAgY2FuVXNlSXRlbUludGVydmFsOiB0aW1lcnMuY2FuVXNlSXRlbUludGVydmFsLFxuICAgICAgfTtcbiAgICAgIHRpbWVycy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHNraWxscyAmJiBza2lsbHMuZGlydHkpIHtcbiAgICAgIHJldC5Ta2lsbHMgPSB7XG4gICAgICAgIHNraWxsczogQXJyYXkuZnJvbShza2lsbHMuZW50cmllcygpKS5tYXAoKFtzbG90LCBza2lsbF0pID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2xvdCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBza2lsbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGdyYXBoaWM6IHNraWxsLmdyYXBoaWMsXG4gICAgICAgICAgICBpZDogc2tpbGwuaWQsXG4gICAgICAgICAgICBuYW1lOiBza2lsbC5uYW1lLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgfTtcbiAgICAgIHNraWxscy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGFyY2hldHlwZXMgJiYgYXJjaGV0eXBlcy5kaXJ0eSkge1xuICAgICAgcmV0LkFyY2hldHlwZXMgPSB7XG4gICAgICAgIGFsaWdubWVudHM6IGFyY2hldHlwZXMuYWxpZ25tZW50cy5tYXAoKCQpID0+ICh7XG4gICAgICAgICAgY29sb3I6ICQuY29sb3IsXG4gICAgICAgICAgaWQ6ICQuaWQsXG4gICAgICAgICAgbmFtZTogJC5uYW1lLFxuICAgICAgICB9KSksXG4gICAgICAgIGFyY2hldHlwZXM6IE9iamVjdC52YWx1ZXMoYXJjaGV0eXBlcy5hcmNoZXR5cGVzKSxcbiAgICAgIH07XG4gICAgICBhcmNoZXR5cGVzLmRpcnR5ID0gZmFsc2U7XG4gICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAocmVxVGFyZ2V0ICYmIHJlcVRhcmdldC5kaXJ0eSkge1xuICAgICAgcmV0LlJlcXVlc3RlZFRhcmdldCA9IHtcbiAgICAgICAgZGlzdGFuY2U6IHJlcVRhcmdldC5kaXN0YW5jZSxcbiAgICAgICAgcmFuZ2U6IHJlcVRhcmdldC5yYW5nZSxcbiAgICAgICAgc2xvdDogcmVxVGFyZ2V0LnNsb3QsXG4gICAgICAgIHR5cGU6IHJlcVRhcmdldC50eXBlLFxuICAgICAgfTtcbiAgICAgIHJlcVRhcmdldC5kaXJ0eSA9IGZhbHNlO1xuICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhc0NvbnRlbnQgPyByZXQgOiBudWxsO1xuICB9XG5cbiAgZGVhY3RpdmF0ZSgpIHtcbiAgICAvLyBub29wXG4gIH1cblxuICBwcml2YXRlIGNvbXBvbmVudEFkZGVkKGV2ZW50OiBDb21wb25lbnRBZGRlZCkge1xuICAgIGlmIChldmVudC5lbnRpdHkuaXNBZGRlZFRvRW5naW5lKCkpIHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGV2ZW50LmVudGl0eS5jb21wb25lbnRzW2V2ZW50LmNvbXBvbmVudE5hbWVdO1xuXG4gICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgQ29ubmVjdGlvbikge1xuICAgICAgICB0aGlzLmhhbmRsZXJNYXBbY29tcG9uZW50LmNvbm5lY3Rpb25JZF0gPSBjb21wb25lbnQ7XG4gICAgICAgIGNvbXBvbmVudC5lbnRpdHlJZCA9IGV2ZW50LmVudGl0eS51dWlkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY29tcG9uZW50UmVtb3ZlZChldmVudDogQ29tcG9uZW50UmVtb3ZlZCkge1xuICAgIGlmIChldmVudC5lbnRpdHkuaXNBZGRlZFRvRW5naW5lKCkpIHtcbiAgICAgIGlmIChldmVudC5jb21wb25lbnQgaW5zdGFuY2VvZiBDb25uZWN0aW9uKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmhhbmRsZXJNYXBbZXZlbnQuY29tcG9uZW50LmNvbm5lY3Rpb25JZF07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBJbnZpc2libGUsIHNldFZpc2libGUgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9JbnZpc2libGVcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuXG5leHBvcnQgY2xhc3MgSW52aXNpYmxlU3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIHByaXZhdGUgY2hhcmFjdGVyc01lZGl0YXRpbmchOiBDb21wb25lbnRHcm91cDtcblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIHRoaXMuY2hhcmFjdGVyc01lZGl0YXRpbmcgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoSW52aXNpYmxlKTtcbiAgICBsb2coXCJJbnZpc2libGVTeXN0ZW0gc3RhcnRlZFwiKTtcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmNoYXJhY3RlcnNNZWRpdGF0aW5nLmVudGl0aWVzLnNsaWNlKCk7XG5cbiAgICBmb3IgKGxldCBjaGFyIG9mIGVudGl0aWVzKSB7XG4gICAgICBjb25zdCBpbnYgPSBjaGFyLmdldENvbXBvbmVudChJbnZpc2libGUpO1xuICAgICAgaW52LmVuZCAtPSBkdDtcbiAgICAgIGlmIChpbnYuZW5kIDw9IDApIHtcbiAgICAgICAgc2V0VmlzaWJsZShjaGFyKTtcbiAgICAgICAgaWYgKGNoYXIgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpIHtcbiAgICAgICAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBhcmUgdmlzaWJsZSBhZ2Fpbi5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENoYXJTdGF0cyB9IGZyb20gXCIuLi9Db21wb25lbnRzL1N0YXRzXCI7XG5pbXBvcnQgeyBzdG9wTWVkaXRhdGluZywgTWVkaXRhdGluZyB9IGZyb20gXCIuLi9Db21wb25lbnRzL01lZGl0YXRpb25cIjtcbmltcG9ydCB7IFdhbGtpbmcgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9XYWxraW5nXCI7XG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9DaGFyYWN0ZXJcIjtcblxuY29uc3QgTUFOQV9SRUNPVkVSWV9GQUNUT1IgPSA1IC8gMTAwOyAvLyA1JVxuXG5leHBvcnQgY2xhc3MgTWVkaXRhdGlvblN5c3RlbSBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICBwcml2YXRlIHRpbWVDb3VudGVyID0gMDtcblxuICBwcml2YXRlIGNoYXJhY3RlcnNNZWRpdGF0aW5nITogQ29tcG9uZW50R3JvdXA7XG5cbiAgcHJpdmF0ZSBvbkFkZCA9IChlbnRpdHk6IElFbnRpdHkpID0+IHtcbiAgICBpZiAoZW50aXR5IGluc3RhbmNlb2YgQ2hhcmFjdGVyKSB7XG4gICAgICBlbnRpdHkuc2VuZENvbnNvbGVNZXNzYWdlKFwiWW91IHN0YXJ0IG1lZGl0YXRpbmcuXCIpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIG9uUmVtb3ZlID0gKGVudGl0eTogSUVudGl0eSkgPT4ge1xuICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpIHtcbiAgICAgIGVudGl0eS5zZW5kQ29uc29sZU1lc3NhZ2UoXCJZb3Ugc3RvcCBtZWRpdGF0aW5nLlwiKTtcbiAgICB9XG4gIH07XG5cbiAgYWN0aXZhdGUoZW5naW5lOiBFbmdpbmUpIHtcbiAgICB0aGlzLmNoYXJhY3RlcnNNZWRpdGF0aW5nID0gZW5naW5lLmdldENvbXBvbmVudEdyb3VwKFxuICAgICAgeyBvbkFkZEVudGl0eTogdGhpcy5vbkFkZCwgb25SZW1vdmVFbnRpdHk6IHRoaXMub25SZW1vdmUgfSxcbiAgICAgIE1lZGl0YXRpbmcsXG4gICAgICBDaGFyU3RhdHNcbiAgICApO1xuICAgIGxvZyhcIk1lZGl0YXRpb25TeXN0ZW0gc3RhcnRlZFwiKTtcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lQ291bnRlciArPSBkdDtcbiAgICBpZiAodGhpcy50aW1lQ291bnRlciA8IDAuMSkgcmV0dXJuO1xuICAgIHRoaXMudGltZUNvdW50ZXIgPSAwO1xuXG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmNoYXJhY3RlcnNNZWRpdGF0aW5nLmVudGl0aWVzLnNsaWNlKCk7XG5cbiAgICBmb3IgKGxldCBjaGFyIG9mIGVudGl0aWVzKSB7XG4gICAgICBjb25zdCBzdGF0cyA9IGNoYXIuZ2V0Q29tcG9uZW50KENoYXJTdGF0cyk7XG5cbiAgICAgIGlmIChjaGFyLmhhc0NvbXBvbmVudChXYWxraW5nKSkge1xuICAgICAgICBzdG9wTWVkaXRhdGluZyhjaGFyKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgMC41KSB7XG4gICAgICAgIHN0YXRzLm1pbk1hbmEgKz0gKHN0YXRzLm1heE1hbmEgKiBNQU5BX1JFQ09WRVJZX0ZBQ1RPUikgfCAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdHMubWluTWFuYSA+PSBzdGF0cy5tYXhNYW5hKSB7XG4gICAgICAgIHN0YXRzLm1pbk1hbmEgPSBzdGF0cy5tYXhNYW5hO1xuICAgICAgICBzdG9wTWVkaXRhdGluZyhjaGFyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENoYXJTdGF0dXMgfSBmcm9tIFwiLi9DaGFyU3RhdHVzXCI7XG5cbkBDb21wb25lbnQoXCJQYXJhbHl6ZWRcIilcbmV4cG9ydCBjbGFzcyBQYXJhbHl6ZWQgZXh0ZW5kcyBPYnNlcnZhYmxlQ29tcG9uZW50IHtcbiAgZW5kID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFBhcmFseXplZChlbnRpdHk6IElFbnRpdHkpIHtcbiAgY29uc3QgaW52ID0gZW50aXR5LmdldENvbXBvbmVudE9yQ3JlYXRlKFBhcmFseXplZCk7XG4gIGludi5lbmQgPSAxNTtcbiAgZW50aXR5LmdldENvbXBvbmVudE9yQ3JlYXRlKENoYXJTdGF0dXMpLnBhcmFseXplZCA9IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRGcmVlKGVudGl0eTogSUVudGl0eSkge1xuICBlbnRpdHkuZ2V0Q29tcG9uZW50T3JDcmVhdGUoQ2hhclN0YXR1cykucGFyYWx5emVkID0gZmFsc2U7XG4gIHJldHVybiBlbnRpdHkucmVtb3ZlQ29tcG9uZW50KFBhcmFseXplZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BhcmFseXplZChlbnRpdHk6IElFbnRpdHkpOiBib29sZWFuIHtcbiAgcmV0dXJuIGVudGl0eS5oYXNDb21wb25lbnQoUGFyYWx5emVkKTtcbn1cbiIsImltcG9ydCB7IHNldEZyZWUsIFBhcmFseXplZCB9IGZyb20gXCIuLi9Db21wb25lbnRzL1BhcmFseXNpc1wiO1xuaW1wb3J0IHsgV2Fsa2luZyB9IGZyb20gXCIuLi9Db21wb25lbnRzL1dhbGtpbmdcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuXG5leHBvcnQgY2xhc3MgUGFyYWx5c2lzU3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIHByaXZhdGUgY2hhcmFjdGVyc01lZGl0YXRpbmchOiBDb21wb25lbnRHcm91cDtcblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIHRoaXMuY2hhcmFjdGVyc01lZGl0YXRpbmcgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoUGFyYWx5emVkKTtcbiAgICBsb2coXCJQYXJhbHlzaXNTeXN0ZW0gc3RhcnRlZFwiKTtcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgZW50aXRpZXMgPSB0aGlzLmNoYXJhY3RlcnNNZWRpdGF0aW5nLmVudGl0aWVzLnNsaWNlKCk7XG5cbiAgICBmb3IgKGxldCBjaGFyIG9mIGVudGl0aWVzKSB7XG4gICAgICBjb25zdCBpbnYgPSBjaGFyLmdldENvbXBvbmVudChQYXJhbHl6ZWQpO1xuXG4gICAgICBjaGFyLnJlbW92ZUNvbXBvbmVudChXYWxraW5nKTtcblxuICAgICAgaW52LmVuZCAtPSBkdDtcbiAgICAgIGlmIChpbnYuZW5kIDw9IDApIHtcbiAgICAgICAgc2V0RnJlZShjaGFyKTtcbiAgICAgICAgaWYgKGNoYXIgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpIHtcbiAgICAgICAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSByZWNvdmVyZWQgeW91ciBtb2JpbGl0eS5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIFNraWxsLFxuICBJdGVtTGlrZSxcbiAgT2JqZWN0VHlwZXMsXG4gIFBvdGlvblR5cGUsXG4gIENsYXNzTW9kaWZpZXJSZWNvcmQsXG4gIFJhY2VNb2RpZmllclJlY29yZCxcbiAgQ2FsY3VsYXRlZFJlY29yZCxcbn0gZnJvbSBcIi4vRGVjbGFyZXNcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuL0NvbXBvbmVudHMvQ2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBDaGFyQ2xhc3MsIFJhY2UsIEludmVudG9yeVNsb3RzIH0gZnJvbSBcIi4vRW51bXNcIjtcblxuY29uc3QgY2xhc3NNb2RpZmllcjogTWFwPG51bWJlciwgQ2xhc3NNb2RpZmllclJlY29yZD4gPSBuZXcgTWFwKCk7XG5jb25zdCByYWNlTW9kaWZpZXI6IE1hcDxudW1iZXIsIFJhY2VNb2RpZmllclJlY29yZD4gPSBuZXcgTWFwKCk7XG5jb25zdCBjYWxjdWxhdGVkQmFsYW5jZTogQ2FsY3VsYXRlZFJlY29yZFtdID0gW107XG5cbmNvbnN0IGRlZmF1bHRDbGFzc01vZGlmaWVyOiBDbGFzc01vZGlmaWVyUmVjb3JkID0ge1xuICBhZ2lsaXR5OiAxLFxuICBkZXh0ZXJpdHk6IDEsXG4gIG1lbGVlX2RleDogMSxcbiAgbWVsZWVfZG1nOiAxLFxuICByYW5nZV9kZXg6IDEsXG4gIHJhbmdlX2RtZzogMSxcbiAgc2hpZWxkOiAxLFxuICB2aXRhbGl0eTogMSxcbiAgd2lsbDogMSxcbn07XG5cbmNvbnN0IGRlZmF1bHRSYWNlTW9kaWZpZXI6IFJhY2VNb2RpZmllclJlY29yZCA9IHtcbiAgYWdpbGl0eTogMSxcbiAgZGV4dGVyaXR5OiAxLFxuICB2aXRhbGl0eTogMSxcbiAgd2lsbDogMSxcbiAgc3RyZW5ndGg6IDEsXG59O1xuXG5jb25zdCBiYXNlQ2FsY3VsYXRlZDogQ2FsY3VsYXRlZFJlY29yZCA9IHtcbiAgYWNjdXJhY3k6IDEsXG4gIGNsYXNzOiAxLFxuICBldmFzaW9uOiAxLFxuICBoZWFsdGhfcG9pbnRzOiAyMDAsXG4gIHJhY2U6IDEsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xhc3NNb2RpZmllcihjaGFyQ2xhc3M6IENoYXJDbGFzcyk6IENsYXNzTW9kaWZpZXJSZWNvcmQge1xuICByZXR1cm4gY2xhc3NNb2RpZmllci5nZXQoY2hhckNsYXNzKSB8fCBkZWZhdWx0Q2xhc3NNb2RpZmllcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhY2VNb2RpZmllcihyYWNlOiBSYWNlKTogUmFjZU1vZGlmaWVyUmVjb3JkIHtcbiAgcmV0dXJuIHJhY2VNb2RpZmllci5nZXQocmFjZSkgfHwgZGVmYXVsdFJhY2VNb2RpZmllcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDYWxjdWxhdGVkQmFsYW5jZShjaGFyQ2xhc3M6IENoYXJDbGFzcywgcmFjZTogUmFjZSk6IENhbGN1bGF0ZWRSZWNvcmQge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbGN1bGF0ZWRCYWxhbmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYmFsYW5jZSA9IGNhbGN1bGF0ZWRCYWxhbmNlW2ldO1xuICAgIGlmIChiYWxhbmNlLmNsYXNzID09PSBjaGFyQ2xhc3MgJiYgYmFsYW5jZS5yYWNlID09PSByYWNlKSB7XG4gICAgICByZXR1cm4gYmFsYW5jZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJhc2VDYWxjdWxhdGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlckV2YXNpb24odXNlcjogQ2hhcmFjdGVyKTogbnVtYmVyIHtcbiAgLy8gVE9ETzogdGhpcyBjYW4gYmUgZmFzdGVyXG4gIHJldHVybiAoXG4gICAgZmluZENhbGN1bGF0ZWRCYWxhbmNlKHVzZXIuYm9keS5jaGFyQ2xhc3MsIHVzZXIuYm9keS5yYWNlKS5ldmFzaW9uICogdXNlci5zdGF0cy5nZXRBYmlsaXR5TXVsdGlwbGllcihcImFnaWxpdHlcIilcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZXJBY2N1cmFjeSh1c2VyOiBDaGFyYWN0ZXIpOiBudW1iZXIge1xuICAvLyBUT0RPOiB0aGlzIGNhbiBiZSBmYXN0ZXJcbiAgcmV0dXJuIChcbiAgICBmaW5kQ2FsY3VsYXRlZEJhbGFuY2UodXNlci5ib2R5LmNoYXJDbGFzcywgdXNlci5ib2R5LnJhY2UpLmFjY3VyYWN5ICogdXNlci5zdGF0cy5nZXRBYmlsaXR5TXVsdGlwbGllcihcImRleHRlcml0eVwiKVxuICApO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTcGVsbChza2lsbDogU2tpbGwpOiBTa2lsbCB7XG4gIHNraWxsLm1ha2VzX2ludmlzaWJsZSA9ICEhc2tpbGwubWFrZXNfaW52aXNpYmxlO1xuICBza2lsbC5tYWtlc19wYXJhbGl6ZWQgPSAhIXNraWxsLm1ha2VzX3BhcmFsaXplZDtcbiAgc2tpbGwubWFrZXNfc3RpbGwgPSAhIXNraWxsLm1ha2VzX3N0aWxsO1xuICBza2lsbC5yZW1vdmVzX3BhcmFseXNpcyA9ICEhc2tpbGwucmVtb3Zlc19wYXJhbHlzaXM7XG4gIHNraWxsLnJlbW92ZXNfZHVtYiA9ICEhc2tpbGwucmVtb3Zlc19kdW1iO1xuICBza2lsbC5yZW1vdmVzX2ludmlzaWJpbGl0eSA9ICEhc2tpbGwucmVtb3Zlc19pbnZpc2liaWxpdHk7XG4gIHNraWxsLmhlYWxzX3BvaXNvbiA9ICEhc2tpbGwuaGVhbHNfcG9pc29uO1xuICBza2lsbC5tYWtlc19wb2lzb24gPSAhIXNraWxsLm1ha2VzX3BvaXNvbjtcbiAgc2tpbGwucmVzdXNjaXRhdGVzID0gISFza2lsbC5yZXN1c2NpdGF0ZXM7XG4gIHNraWxsLm1ha2VzX2JsaW5kID0gISFza2lsbC5tYWtlc19ibGluZDtcbiAgc2tpbGwubWFrZXNfZHVtYiA9ICEhc2tpbGwubWFrZXNfZHVtYjtcbiAgc2tpbGwuc3VtbW9ucyA9ICEhc2tpbGwuc3VtbW9ucztcblxuICByZXR1cm4gc2tpbGw7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkU2tpbGxzKGpzb246IGFueVtdLCByZXQ6IE1hcDxudW1iZXIsIFNraWxsPik6IFByb21pc2U8dm9pZD4ge1xuICBmb3IgKGxldCBza2lsbCBvZiBqc29uKSB7XG4gICAgaWYgKHJldC5oYXMoc2tpbGwuaWQpKSB7XG4gICAgICBlcnJvcihgRHVwbGljYXRlZCBzcGVsbCBJRDogJHtza2lsbC5pZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0LnNldChza2lsbC5pZCwgbm9ybWFsaXplU3BlbGwoc2tpbGwpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbjogYm9vbGVhbiwgbWVzc2FnZTogc3RyaW5nLCBpdGVtOiBhbnkpOiBhc3NlcnRzIGNvbmRpdGlvbiB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgbG9nKGl0ZW0pO1xuICAgIHRocm93IE9iamVjdC5hc3NpZ24obmV3IEVycm9yKG1lc3NhZ2UpLCB7IGl0ZW0gfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0TnVtYmVyPFQsIGsgZXh0ZW5kcyBrZXlvZiBUPihpdGVtOiBULCBrZXk6IGspIHtcbiAgaXRlbVtrZXldID0gKChpdGVtW2tleV0gYXMgYW55KSB8fCAwKSBhcyBhbnk7XG4gIGFzc2VydChpc0Zpbml0ZShpdGVtW2tleV0gYXMgYW55KSwga2V5ICsgXCIgaXMgZmluaXRlXCIsIGl0ZW0pO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVJdGVtKGl0ZW06IEl0ZW1MaWtlKSB7XG4gIGFzc2VydCghIWl0ZW0uaWQsIFwiaWQgaXMgcmVxdWlyZWRcIiwgaXRlbSk7XG4gIGFzc2VydCghIWl0ZW0ubmFtZSwgXCJuYW1lIGlzIHJlcXVpcmVkXCIsIGl0ZW0pO1xuXG4gIGFzc2VydCghIWl0ZW0ub2JqZWN0X3R5cGUsIFwib2JqZWN0X3R5cGUgaXMgbWlzc2luZ1wiLCBpdGVtKTtcbiAgYXNzZXJ0KCEhT2JqZWN0VHlwZXNbaXRlbS5vYmplY3RfdHlwZV0sIFwib2JqZWN0X3R5cGUgaXMgbm90IGluIHRoZSBlbnVtXCIsIGl0ZW0pO1xuICBpdGVtLmdyYWJhYmxlID0gISFpdGVtLmdyYWJhYmxlO1xuXG4gIC8vIGl0ZW0ucG9pc29ucyA9ICEhaXRlbS5wb2lzb25zO1xuICAvLyBpdGVtLnN0YWJzID0gISFpdGVtLnN0YWJzO1xuXG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcInByaWNlXCIpO1xuICAvLyBhc3NlcnROdW1iZXIoaXRlbSwgXCJncmhcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcInByaWNlXCIpO1xuICAvLyBhc3NlcnROdW1iZXIoaXRlbSwgXCJhbmltYXRpb25cIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcIm1heF9oaXRcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcIm1pbl9oaXRcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcImR1cmF0aW9uXCIpO1xuICAvLyBhc3NlcnROdW1iZXIoaXRlbSwgXCJtYXhfbW9kaWZpZXJcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcIm1pbl9tb2RpZmllclwiKTtcbiAgLy8gYXNzZXJ0TnVtYmVyKGl0ZW0sIFwibWF4X2RlZmVuc2VcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcIm1pbl9kZWZlbnNlXCIpO1xuICAvLyBhc3NlcnROdW1iZXIoaXRlbSwgXCJzcGVsbFwiKTtcbiAgLy8gYXNzZXJ0TnVtYmVyKGl0ZW0sIFwic3RhZmZfcG93ZXJcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcInN0YWZmX2RhbWFnZV9ib251c1wiKTtcbiAgLy8gYXNzZXJ0TnVtYmVyKGl0ZW0sIFwicG90aW9uX3R5cGVcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcIm1pbl9tYWdpY2FsX2RlZmVuc2VcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcIm1heF9tYWdpY2FsX2RlZmVuc2VcIik7XG4gIC8vIGFzc2VydE51bWJlcihpdGVtLCBcInJlaW5mb3JjZW1lbnRcIik7XG5cbiAgaWYgKFwic291bmRcIiBpbiBpdGVtKSB7XG4gICAgYXNzZXJ0KGl0ZW0uc291bmQgaW5zdGFuY2VvZiBBcnJheSwgXCJzb3VuZCBpcyBhcnJheVwiLCBpdGVtKTtcbiAgICBhc3NlcnQoXG4gICAgICBpdGVtLnNvdW5kIS5ldmVyeSgoJCkgPT4gaXNGaW5pdGUoJCkpLFxuICAgICAgXCJzb3VuZCBpcyBhcnJheSBvZiBudW1iZXJzXCIsXG4gICAgICBpdGVtXG4gICAgKTtcbiAgfVxuXG4gIGlmIChcImFsbG93ZWRfY2xhc3Nlc1wiIGluIGl0ZW0pIHtcbiAgICBhc3NlcnQoaXRlbS5hbGxvd2VkX2NsYXNzZXMgaW5zdGFuY2VvZiBBcnJheSwgXCJhbGxvd2VkX2NsYXNzZXMgaXMgYXJyYXlcIiwgaXRlbSk7XG4gICAgYXNzZXJ0KFxuICAgICAgaXRlbS5hbGxvd2VkX2NsYXNzZXMuZXZlcnkoKCQpID0+IGlzRmluaXRlKCQpKSxcbiAgICAgIFwiYWxsb3dlZF9jbGFzc2VzIGlzIGFycmF5IG9mIG51bWJlcnNcIixcbiAgICAgIGl0ZW1cbiAgICApO1xuICAgIGFzc2VydChcbiAgICAgIGl0ZW0uYWxsb3dlZF9jbGFzc2VzLmV2ZXJ5KCgkKSA9PiAhIUNoYXJDbGFzc1skXSksXG4gICAgICBcImFsbG93ZWRfY2xhc3NlcyBhcmUgdmFsaWQgY2xhc3Nlc1wiLFxuICAgICAgaXRlbVxuICAgICk7XG4gIH1cblxuICBpZiAoaXRlbS5vYmplY3RfdHlwZSA9PT0gT2JqZWN0VHlwZXMuUG90aW9uKSB7XG4gICAgYXNzZXJ0KCEhUG90aW9uVHlwZVtpdGVtLnBvdGlvbl90eXBlXSwgXCJwb3Rpb25fdHlwZSBpcyBub3QgaW4gdGhlIGVudW1cIiwgaXRlbSk7XG4gIH1cblxuICBpZiAoaXRlbS5vYmplY3RfdHlwZSA9PT0gT2JqZWN0VHlwZXMuQXJtb3IpIHtcbiAgICBpdGVtLnNob3J0X3Blb3BsZSA9ICEhaXRlbS5zaG9ydF9wZW9wbGU7XG4gICAgYXNzZXJ0TnVtYmVyKGl0ZW0sIFwiYW5pbWF0aW9uXCIpO1xuICB9XG5cbiAgaWYgKGl0ZW0ub2JqZWN0X3R5cGUgPT09IE9iamVjdFR5cGVzLldlYXBvbikge1xuICAgIGl0ZW0udHdvX2hhbmRlZCA9ICEhaXRlbS50d29faGFuZGVkO1xuICAgIGl0ZW0ucHJvamVjdGlsZSA9ICEhaXRlbS5wcm9qZWN0aWxlO1xuICAgIGFzc2VydE51bWJlcihpdGVtLCBcInJlaW5mb3JjZW1lbnRcIik7XG4gIH1cblxuICByZXR1cm4gaXRlbTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRJdGVtcyhqc29uOiBhbnlbXSwgcmV0OiBNYXA8bnVtYmVyLCBJdGVtTGlrZT4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgZm9yIChsZXQgaXRlbSBvZiBqc29uKSB7XG4gICAgaWYgKHJldC5oYXMoaXRlbS5pZCkpIHtcbiAgICAgIGVycm9yKGBEdXBsaWNhdGVkIGl0ZW0gSUQ6ICR7aXRlbS5pZH1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0LnNldChpdGVtLmlkLCBub3JtYWxpemVJdGVtKGl0ZW0pKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVxdWlwYWJsZVNsb3RzRm9ySXRlbShpdGVtOiBJdGVtTGlrZSk6IFNldDxJbnZlbnRvcnlTbG90cz4ge1xuICBjb25zdCByZXQ6IFNldDxJbnZlbnRvcnlTbG90cz4gPSBuZXcgU2V0KCk7XG5cbiAgaWYgKGl0ZW0pIHtcbiAgICBzd2l0Y2ggKGl0ZW0ub2JqZWN0X3R5cGUpIHtcbiAgICAgIGNhc2UgT2JqZWN0VHlwZXMuQXJtb3I6XG4gICAgICAgIHJldC5hZGQoSW52ZW50b3J5U2xvdHMuQXJtb3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT2JqZWN0VHlwZXMuSGVsbWV0OlxuICAgICAgICByZXQuYWRkKEludmVudG9yeVNsb3RzLkhlYWQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT2JqZWN0VHlwZXMuUmluZzpcbiAgICAgICAgcmV0LmFkZChJbnZlbnRvcnlTbG90cy5SaW5nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIE9iamVjdFR5cGVzLkluc3RydW1lbnQ6XG4gICAgICBjYXNlIE9iamVjdFR5cGVzLkFycm93czpcbiAgICAgICAgcmV0LmFkZChJbnZlbnRvcnlTbG90cy5BY2Nlc3NvcnkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgT2JqZWN0VHlwZXMuUG90aW9uOlxuICAgICAgICByZXQuYWRkKEludmVudG9yeVNsb3RzLkJlbHQxKTtcbiAgICAgICAgcmV0LmFkZChJbnZlbnRvcnlTbG90cy5CZWx0Mik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3RUeXBlcy5TaGllbGQ6XG4gICAgICAgIC8vIHJldC5hZGQoSW52ZW50b3J5U2xvdHMuTGVmdEhhbmQpO1xuICAgICAgICByZXQuYWRkKEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBPYmplY3RUeXBlcy5XZWFwb246XG4gICAgICAgIHJldC5hZGQoSW52ZW50b3J5U2xvdHMuUmlnaHRIYW5kKTtcbiAgICAgICAgcmV0LmFkZChJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBsZXQgc2tpbGxzOiBNYXA8bnVtYmVyLCBTa2lsbD4gPSBuZXcgTWFwKCk7XG5leHBvcnQgbGV0IGl0ZW1zOiBNYXA8bnVtYmVyLCBJdGVtTGlrZT4gPSBuZXcgTWFwKCk7XG5cbmZ1bmN0aW9uIGxvYWRDbGFzc01vZGlmaWVycyhtb2RpZmllcnM6IGFueVtdKSB7XG4gIGZvciAobGV0IG1vZGlmaWVyIG9mIG1vZGlmaWVycykge1xuICAgIGNsYXNzTW9kaWZpZXIuc2V0KG1vZGlmaWVyLmNsYXNzLCBtb2RpZmllcik7XG4gIH1cbn1cbmZ1bmN0aW9uIGxvYWRSYWNlTW9kaWZpZXJzKG1vZGlmaWVyczogYW55W10pIHtcbiAgZm9yIChsZXQgbW9kaWZpZXIgb2YgbW9kaWZpZXJzKSB7XG4gICAgcmFjZU1vZGlmaWVyLnNldChtb2RpZmllci5yYWNlLCBtb2RpZmllcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gbG9hZEhlYWx0aE1vZGlmaWVycyhtb2RpZmllcnM6IENhbGN1bGF0ZWRSZWNvcmRbXSkge1xuICBjYWxjdWxhdGVkQmFsYW5jZS5sZW5ndGggPSAwO1xuICBjYWxjdWxhdGVkQmFsYW5jZS5wdXNoKC4uLm1vZGlmaWVycyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQmFsYW5jZSgpIHtcbiAgY29uc3QgZW52ID0gYXdhaXQgaW1wb3J0KFwiQGFyZHV6L0Vudmlyb25tZW50XCIpO1xuICBjb25zdCBiYWxhbmNlID0gYXdhaXQgZW52LmdldEJhbGFuY2UoKTtcblxuICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgbG9hZFNraWxscyhiYWxhbmNlLnNwZWxscywgc2tpbGxzKSxcbiAgICBsb2FkSXRlbXMoYmFsYW5jZS5pdGVtcywgaXRlbXMpLFxuICAgIGxvYWRDbGFzc01vZGlmaWVycyhiYWxhbmNlLmJhbGFuY2VfY2xhc3MpLFxuICAgIGxvYWRSYWNlTW9kaWZpZXJzKGJhbGFuY2UuYmFsYW5jZV9yYWNlKSxcbiAgICBsb2FkSGVhbHRoTW9kaWZpZXJzKGJhbGFuY2UuY2FsY3VsYXRlZF9iYWxhbmNlKSxcbiAgICAvLyBUT0RPOiBsb2FkIHRpbWVyc1xuICBdKTtcbn1cbiIsIlxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludGVnZXIobWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21GbG9hdChtaW46IG51bWJlciwgbWF4OiBudW1iZXIpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3RhbmNlKHgxOiBudW1iZXIsIHkxOiBudW1iZXIsIHgyOiBudW1iZXIsIHkyOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpO1xufVxuIiwiQENvbXBvbmVudChcImF1dG9tYXRpY0VxdWlwXCIpXG5leHBvcnQgY2xhc3MgQXV0b21hdGljRXF1aXAge31cbiIsImltcG9ydCB7IEdlbmRlciwgUmFjZSB9IGZyb20gXCIuLi9FbnVtc1wiO1xuaW1wb3J0IHsgZ2V0UmFuZG9tSW50ZWdlciB9IGZyb20gXCIuL051bWJlcnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5ha2VkQm9keShnZW5kZXI6IEdlbmRlciwgcmFjZTogUmFjZSk6IG51bWJlciB7XG4gIGlmIChnZW5kZXIgPT09IEdlbmRlci5NYWxlKSB7XG4gICAgc3dpdGNoIChyYWNlKSB7XG4gICAgICBjYXNlIFJhY2UuSHVtYW46XG4gICAgICAgIHJldHVybiAyMTtcbiAgICAgIGNhc2UgUmFjZS5Ecm93OlxuICAgICAgICByZXR1cm4gMzI7XG4gICAgICBjYXNlIFJhY2UuRWxmOlxuICAgICAgICByZXR1cm4gMjEwO1xuICAgICAgY2FzZSBSYWNlLkdub21lOlxuICAgICAgICByZXR1cm4gMjIyO1xuICAgICAgY2FzZSBSYWNlLkR3YXJmOlxuICAgICAgICByZXR1cm4gNTM7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAocmFjZSkge1xuICAgICAgY2FzZSBSYWNlLkh1bWFuOlxuICAgICAgICByZXR1cm4gMzk7XG4gICAgICBjYXNlIFJhY2UuRHJvdzpcbiAgICAgICAgcmV0dXJuIDQwO1xuICAgICAgY2FzZSBSYWNlLkVsZjpcbiAgICAgICAgcmV0dXJuIDI1OTtcbiAgICAgIGNhc2UgUmFjZS5Hbm9tZTpcbiAgICAgICAgcmV0dXJuIDI2MDtcbiAgICAgIGNhc2UgUmFjZS5Ed2FyZjpcbiAgICAgICAgcmV0dXJuIDYwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gMjE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRIZWFkKGdlbmRlcjogR2VuZGVyLCByYWNlOiBSYWNlKTogbnVtYmVyIHtcbiAgaWYgKGdlbmRlciA9PT0gR2VuZGVyLk1hbGUpIHtcbiAgICBzd2l0Y2ggKHJhY2UpIHtcbiAgICAgIGNhc2UgUmFjZS5IdW1hbjpcbiAgICAgICAgcmV0dXJuIGdldFJhbmRvbUludGVnZXIoMSwgNDApO1xuICAgICAgY2FzZSBSYWNlLkRyb3c6XG4gICAgICAgIHJldHVybiBnZXRSYW5kb21JbnRlZ2VyKDIwMCwgMjEwKTtcbiAgICAgIGNhc2UgUmFjZS5FbGY6XG4gICAgICAgIHJldHVybiBnZXRSYW5kb21JbnRlZ2VyKDEwMSwgMTEyKTtcbiAgICAgIGNhc2UgUmFjZS5Hbm9tZTpcbiAgICAgICAgcmV0dXJuIGdldFJhbmRvbUludGVnZXIoNDAxLCA0MDYpO1xuICAgICAgY2FzZSBSYWNlLkR3YXJmOlxuICAgICAgICByZXR1cm4gZ2V0UmFuZG9tSW50ZWdlcigzMDAsIDMwNik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHN3aXRjaCAocmFjZSkge1xuICAgICAgY2FzZSBSYWNlLkh1bWFuOlxuICAgICAgICByZXR1cm4gZ2V0UmFuZG9tSW50ZWdlcig3MCwgNzkpO1xuICAgICAgY2FzZSBSYWNlLkRyb3c6XG4gICAgICAgIHJldHVybiBnZXRSYW5kb21JbnRlZ2VyKDI3MCwgMjc4KTtcbiAgICAgIGNhc2UgUmFjZS5FbGY6XG4gICAgICAgIHJldHVybiBnZXRSYW5kb21JbnRlZ2VyKDE3MCwgMTc4KTtcbiAgICAgIGNhc2UgUmFjZS5Hbm9tZTpcbiAgICAgICAgcmV0dXJuIGdldFJhbmRvbUludGVnZXIoMzcwLCAzNzIpO1xuICAgICAgY2FzZSBSYWNlLkR3YXJmOlxuICAgICAgICByZXR1cm4gZ2V0UmFuZG9tSW50ZWdlcig0NzAsIDQ3Nik7XG4gICAgfVxuICB9XG4gIHJldHVybiAxO1xufVxuIiwiaW1wb3J0IHtcbiAgT2JqZWN0VHlwZXMsXG4gIEtub3duU291bmRzLFxuICBQb3Rpb25UeXBlLFxuICBXZWFwb25JdGVtLFxuICBIZWxtZXRJdGVtLFxuICBBcm1vckl0ZW0sXG59IGZyb20gXCIuLi9EZWNsYXJlc1wiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvQ2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBnZXRFcXVpcGFibGVTbG90c0Zvckl0ZW0gfSBmcm9tIFwiLi4vQmFsYW5jZVwiO1xuaW1wb3J0IHsgSW52ZW50b3J5LCBjYW5FcXVpcCB9IGZyb20gXCIuLi9Db21wb25lbnRzL0ludmVudG9yeVwiO1xuaW1wb3J0IHtcbiAgQ2hhclVzZXNJdGVtLFxuICBNb3ZlSXRlbXMsXG4gIGNoYXJBdHRhY2tzRW50aXR5LFxufSBmcm9tIFwiLi4vRXZlbnRzL0NoYXJFdmVudHNcIjtcbmltcG9ydCB7IGlzTWVkaXRhdGluZyB9IGZyb20gXCIuLi9Db21wb25lbnRzL01lZGl0YXRpb25cIjtcbmltcG9ydCB7IHJlcXVlc3RUYXJnZXRGb3IgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9SZXF1ZXN0VGFyZ2V0XCI7XG5pbXBvcnQgeyBnZXRSYW5kb21GbG9hdCwgZ2V0UmFuZG9tSW50ZWdlciB9IGZyb20gXCIuLi9BdG9taWNIZWxwZXJzL051bWJlcnNcIjtcbmltcG9ydCB7IGVudGl0aWVzSW5Qb3NpdGlvbiB9IGZyb20gXCIuLi9Db21wb25lbnRzL1dvcmxkUG9zaXRpb25cIjtcbmltcG9ydCB7IFRpbWVycyB9IGZyb20gXCIuLi9Db21wb25lbnRzL1RpbWVyc1wiO1xuaW1wb3J0IHsgQXV0b21hdGljRXF1aXAgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9BdXRvbWF0aWNFcXVpcFwiO1xuaW1wb3J0IHsgQ29uc29sZU1lc3NhZ2VzLCBJbnZlbnRvcnlTbG90cywgVGFyZ2V0VHlwZSB9IGZyb20gXCIuLi9FbnVtc1wiO1xuaW1wb3J0IHsgZ2V0TmFrZWRCb2R5IH0gZnJvbSBcIi4uL0F0b21pY0hlbHBlcnMvQm9keUhlbHBlcnNcIjtcblxuY29uc3QgTUFOQV9SRUNPVkVSWV9GQUNUT1IgPSA1IC8gMTAwO1xuXG5leHBvcnQgY2xhc3MgSW52ZW50b3J5U3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIGFjdGl2ZSA9IGZhbHNlO1xuXG4gIGF1dG9tYXRpY0VxdWlwID0gZW5naW5lLmdldENvbXBvbmVudEdyb3VwKEF1dG9tYXRpY0VxdWlwKTtcblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoQ2hhclVzZXNJdGVtLCB0aGlzLCB0aGlzLnVzZUl0ZW0pO1xuICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoTW92ZUl0ZW1zLCB0aGlzLCB0aGlzLmhhbmRsZU1vdmVJdGVtcyk7XG4gICAgbG9nKFwiSW52ZW50b3J5U3lzdGVtIHN0YXJ0ZWRcIik7XG4gIH1cblxuICBwcml2YXRlIHVzZUl0ZW0oZXZlbnQ6IENoYXJVc2VzSXRlbSkge1xuICAgIGNvbnN0IHsgY2hhciwgc2xvdCwgeCwgeSB9ID0gZXZlbnQ7XG5cbiAgICBjb25zdCBpbnZlbnRvcnkgPSBjaGFyLmdldENvbXBvbmVudE9yTnVsbChJbnZlbnRvcnkpO1xuICAgIGlmICghaW52ZW50b3J5KSByZXR1cm47XG4gICAgY29uc3QgaW52U2xvdCA9IGludmVudG9yeS5nZXRJdGVtKHNsb3QpO1xuXG4gICAgY29uc3QgdGltZXJzID0gY2hhci5nZXRDb21wb25lbnRPck51bGwoVGltZXJzKTtcblxuICAgIGlmICghaW52U2xvdCkge1xuICAgICAgbG9nKFwiY2FuY2VsIFVTRSwgZW1wdHkgc2xvdFwiLCBJbnZlbnRvcnlTbG90c1tzbG90XSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRpbWVycykge1xuICAgICAgaWYgKGludlNsb3QuaXRlbS5vYmplY3RfdHlwZSA9PSBPYmplY3RUeXBlcy5XZWFwb24pIHtcbiAgICAgICAgaWYgKCF0aW1lcnMuY2FuVXNlSXRlbSghaW52U2xvdC5pdGVtLnByb2plY3RpbGUpKSB7XG4gICAgICAgICAgbG9nKFwiY2FuY2VsIFVTRSBkdWUgdG8gdGltZXJcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXRpbWVycy5jYW5Vc2VJdGVtKCkpIHtcbiAgICAgICAgICBsb2coXCJjYW5jZWwgVVNFIGR1ZSB0byB0aW1lclwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNNZWRpdGF0aW5nKGNoYXIpKSB7XG4gICAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcbiAgICAgICAgQ29uc29sZU1lc3NhZ2VzW1wiWW91IGNhbid0IHVzZSBpdGVtcyB3aGlsZSB5b3UgYXJlIG1lZGl0YXRpbmchXCJdXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGJvZHkgPSBjaGFyLmJvZHk7XG5cbiAgICBpZiAoYm9keS5kZWFkKSB7XG4gICAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcbiAgICAgICAgQ29uc29sZU1lc3NhZ2VzW1wiWW91IGNhbid0IHVzZSBpdGVtcyB3aGlsZSB5b3UgYXJlIGRlYWQhXCJdXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGlzVGFyZ2V0aW5nRmxvb3IgPVxuICAgICAgdHlwZW9mIHggIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHkgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICBzd2l0Y2ggKGludlNsb3QuaXRlbS5vYmplY3RfdHlwZSkge1xuICAgICAgY2FzZSBPYmplY3RUeXBlcy5XZWFwb246IHtcbiAgICAgICAgaWYgKGludlNsb3QuaXRlbS5wcm9qZWN0aWxlKSB7XG4gICAgICAgICAgaWYgKGlzVGFyZ2V0aW5nRmxvb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGFycm93U2xvdCA9IGludmVudG9yeS5nZXRJdGVtKEludmVudG9yeVNsb3RzLkFjY2Vzc29yeSk7XG5cbiAgICAgICAgICAgIGlmICghYXJyb3dTbG90IHx8IGFycm93U2xvdC5hbW91bnQgPD0gMCkge1xuICAgICAgICAgICAgICBjaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcbiAgICAgICAgICAgICAgICBDb25zb2xlTWVzc2FnZXNbXCJUaGVyZSBhcmUgbm8gZXF1aXBwZWQgcHJvamVjdGlsZSFcIl1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllc0luUG9zaXRpb24oeCEsIHkhKSkge1xuICAgICAgICAgICAgICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkuYm9keS5kZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgIENvbnNvbGVNZXNzYWdlc1tcIllvdSBjYW4ndCBhdHRhY2sgZGVhZCBwbGF5ZXJzIVwiXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGNoYXJBdHRhY2tzRW50aXR5KGNoYXIsIGVudGl0eSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY2hhci5wb3NpdGlvbi5zZW5kUHJvamVjdGlsZShcbiAgICAgICAgICAgICAgICBjaGFyLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgY2hhci5wb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgIHghLFxuICAgICAgICAgICAgICAgIHkhLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgS25vd25Tb3VuZHMuU1dJTkdcbiAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICBpbnZlbnRvcnkucmVtb3ZlSXRlbUZyb21TbG90KEludmVudG9yeVNsb3RzLkFjY2Vzc29yeSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2xvdCAhPT0gSW52ZW50b3J5U2xvdHMuTGVmdEhhbmQgJiZcbiAgICAgICAgICAgICAgc2xvdCAhPT0gSW52ZW50b3J5U2xvdHMuUmlnaHRIYW5kXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY2hhci5zZW5kQ29uc29sZU1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgQ29uc29sZU1lc3NhZ2VzW1xuICAgICAgICAgICAgICAgICAgXCJZb3UgbmVlZCB0byBlcXVpcCB5b3VyIHdlYXBvbiBiZWZvcmUgdXNpbmcgaXQhXCJcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RUYXJnZXRGb3IoY2hhciwgVGFyZ2V0VHlwZS5DaGFyLCBzbG90KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhci5zZW5kQ29uc29sZU1lc3NhZ2UoXG4gICAgICAgICAgICBDb25zb2xlTWVzc2FnZXNbXCJZb3UgY2FuJ3QgdXNlIHRoYXQgd2VhcG9uIHRoYXQgd2F5IVwiXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgT2JqZWN0VHlwZXMuUG90aW9uOiB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gY2hhci5zdGF0cztcblxuICAgICAgICBpZiAodGltZXJzKSB7XG4gICAgICAgICAgaWYgKCF0aW1lcnMuY2FuQXR0YWNrKGZhbHNlKSkge1xuICAgICAgICAgICAgLy8gXCLCoURlYmVzIGVzcGVyYXIgdW5vcyBtb21lbnRvcyBwYXJhIHRvbWFyIG90cmEgcG9jaW9uIVwiXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChpbnZTbG90Lml0ZW0ucG90aW9uX3R5cGUpIHtcbiAgICAgICAgICBjYXNlIFBvdGlvblR5cGUuQWdpbGl0eToge1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBpdGVtXG4gICAgICAgICAgICAvLyBUT0RPXG4gICAgICAgICAgICAvLyBjaGFyLmFkZEFiaWxpdHlNb2RpZmllcihcbiAgICAgICAgICAgIC8vICAgXCJhZ2lsaXR5XCIsIC8vIFRPRE8gc2tpbGxzXG4gICAgICAgICAgICAvLyAgIGdldFJhbmRvbUZsb2F0KGl0ZW0ubWluX21vZGlmaWVyLCBpdGVtLm1heF9tb2RpZmllciksXG4gICAgICAgICAgICAvLyAgIGl0ZW0uZHVyYXRpb25cbiAgICAgICAgICAgIC8vICk7XG5cbiAgICAgICAgICAgIGludmVudG9yeS5yZW1vdmVJdGVtRnJvbVNsb3Qoc2xvdCwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBQb3Rpb25UeXBlLlN0cmVuZ2h0OiB7XG4gICAgICAgICAgICAvLyB1c2UgdGhlIGl0ZW1cbiAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgICAgIC8vIGNoYXIuYWRkQWJpbGl0eU1vZGlmaWVyKFxuICAgICAgICAgICAgLy8gICBcInN0cmVuZ3RoXCIsIC8vIFRPRE8gc2tpbGxzXG4gICAgICAgICAgICAvLyAgIGdldFJhbmRvbUZsb2F0KGl0ZW0ubWluX21vZGlmaWVyLCBpdGVtLm1heF9tb2RpZmllciksXG4gICAgICAgICAgICAvLyAgIGl0ZW0uZHVyYXRpb25cbiAgICAgICAgICAgIC8vICk7XG4gICAgICAgICAgICBpbnZlbnRvcnkucmVtb3ZlSXRlbUZyb21TbG90KHNsb3QsIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgUG90aW9uVHlwZS5IUDoge1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBpdGVtXG4gICAgICAgICAgICBzdGF0cy5taW5IcCA9XG4gICAgICAgICAgICAgIHN0YXRzLm1pbkhwICtcbiAgICAgICAgICAgICAgc3RhdHMubWF4SHAgKlxuICAgICAgICAgICAgICAgIGdldFJhbmRvbUZsb2F0KFxuICAgICAgICAgICAgICAgICAgaW52U2xvdC5pdGVtLm1pbl9tb2RpZmllcixcbiAgICAgICAgICAgICAgICAgIGludlNsb3QuaXRlbS5tYXhfbW9kaWZpZXJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgc3RhdHMubWluSHAgPSBNYXRoLm1pbihzdGF0cy5taW5IcCwgc3RhdHMubWF4SHApIHwgMDtcbiAgICAgICAgICAgIGludmVudG9yeS5yZW1vdmVJdGVtRnJvbVNsb3Qoc2xvdCwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBQb3Rpb25UeXBlLk1hbmE6IHtcbiAgICAgICAgICAgIC8vIHVzZSB0aGUgaXRlbVxuICAgICAgICAgICAgc3RhdHMubWluTWFuYSA9XG4gICAgICAgICAgICAgIHN0YXRzLm1pbk1hbmEgKyBzdGF0cy5tYXhNYW5hICogTUFOQV9SRUNPVkVSWV9GQUNUT1I7XG4gICAgICAgICAgICBzdGF0cy5taW5NYW5hID0gTWF0aC5taW4oc3RhdHMubWluTWFuYSwgc3RhdHMubWF4TWFuYSkgfCAwO1xuICAgICAgICAgICAgaW52ZW50b3J5LnJlbW92ZUl0ZW1Gcm9tU2xvdChzbG90LCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFBvdGlvblR5cGUuUG9pc29uOiB7XG4gICAgICAgICAgICAvLyB1c2UgdGhlIGl0ZW1cbiAgICAgICAgICAgIC8vIFRPRE9cbiAgICAgICAgICAgIC8vIGlmIChjaGFyLnBvaXNvbmVkVGltZXIpIHtcbiAgICAgICAgICAgIC8vICAgY2hhci5wb2lzb25lZFRpbWVyID0gMDtcbiAgICAgICAgICAgIC8vICAgY2hhci5zZW5kU3RhdHVzKCk7XG4gICAgICAgICAgICAvLyAgIGNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKENvbnNvbGVNZXNzYWdlc1tcIllvdSd2ZSBiZWVuIGN1cmVkIG9mIHBvaXNvbmluZyFcIl0pO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgaW52ZW50b3J5LnJlbW92ZUl0ZW1Gcm9tU2xvdChzbG90LCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFBvdGlvblR5cGUuU3VpY2lkZToge1xuICAgICAgICAgICAgLy8gdXNlIHRoZSBpdGVtXG4gICAgICAgICAgICBjaGFyLmRpZSgpO1xuICAgICAgICAgICAgaW52ZW50b3J5LnJlbW92ZUl0ZW1Gcm9tU2xvdChzbG90LCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNvdW5kXG4gICAgICAgIGlmIChpbnZTbG90Lml0ZW0uc291bmQgJiYgaW52U2xvdC5pdGVtLnNvdW5kLmxlbmd0aCkge1xuICAgICAgICAgIGNoYXIuc2VuZFNvdW5kKFxuICAgICAgICAgICAgaW52U2xvdC5pdGVtLnNvdW5kW1xuICAgICAgICAgICAgICBnZXRSYW5kb21JbnRlZ2VyKDAsIGludlNsb3QuaXRlbS5zb3VuZC5sZW5ndGggLSAxKVxuICAgICAgICAgICAgXVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhci5zZW5kU291bmQoS25vd25Tb3VuZHMuRFJJTkspO1xuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaW5kSXRlbShcbiAgICBjaGFyOiBDaGFyYWN0ZXIsXG4gICAgaW52ZW50b3J5OiBJbnZlbnRvcnksXG4gICAgdG9TbG90OiBJbnZlbnRvcnlTbG90c1xuICApIHtcbiAgICBpZiAoIWludmVudG9yeS5nZXRJdGVtKHRvU2xvdCkpIHtcbiAgICAgIGZvciAobGV0IFtzbG90LCBpdGVtXSBvZiBpbnZlbnRvcnkuZW50cmllcygpKSB7XG4gICAgICAgIGl0ZW0gJiZcbiAgICAgICAgICBpdGVtLml0ZW0gJiZcbiAgICAgICAgICB0aGlzLmhhbmRsZU1vdmVJdGVtcyhuZXcgTW92ZUl0ZW1zKGNoYXIsIHNsb3QsIHRvU2xvdCwgZmFsc2UpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU1vdmVJdGVtcyhldmVudDogTW92ZUl0ZW1zKSB7XG4gICAgY29uc3QgeyBjaGFyLCBmcm9tLCB0bywgc2VuZE1lc3NhZ2VzIH0gPSBldmVudDtcblxuICAgIGNvbnN0IGludmVudG9yeSA9IGNoYXIuZ2V0Q29tcG9uZW50T3JOdWxsKEludmVudG9yeSk7XG5cbiAgICBpZiAoIWludmVudG9yeSkgcmV0dXJuO1xuXG4gICAgaWYgKGZyb20gPT09IHRvKSByZXR1cm47XG4gICAgaWYgKGZyb20gPT09IEludmVudG9yeVNsb3RzLk5PTkUgfHwgdG8gPT09IEludmVudG9yeVNsb3RzLk5PTkUpIHJldHVybjtcblxuICAgIGNvbnN0IGZyb21JdGVtID0gaW52ZW50b3J5LmdldEl0ZW0oZnJvbSk7XG4gICAgY29uc3QgdG9JdGVtID0gaW52ZW50b3J5LmdldEl0ZW0odG8pO1xuXG4gICAgLy8gVE9ETzogY2hlY2sgbWF4IGludiBzbG90XG4gICAgaWYgKFxuICAgICAgZnJvbUl0ZW0gJiZcbiAgICAgIHRvSXRlbSAmJlxuICAgICAgZnJvbSA+IEludmVudG9yeVNsb3RzLlNsb3QxNiAmJlxuICAgICAgdG8gPD0gSW52ZW50b3J5U2xvdHMuU2xvdDE2XG4gICAgKSB7XG4gICAgICB0aGlzLmhhbmRsZU1vdmVJdGVtcyhuZXcgTW92ZUl0ZW1zKGNoYXIsIHRvLCBmcm9tLCBzZW5kTWVzc2FnZXMpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyA0eDQgaW52ZW50b3J5XG4gICAgaWYgKGZyb20gPCBJbnZlbnRvcnlTbG90cy5TbG90MTYgJiYgdG8gPCBJbnZlbnRvcnlTbG90cy5TbG90MTYpIHtcbiAgICAgIHRoaXMubW92ZUl0ZW1zKGNoYXIsIGZyb20sIHRvKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBzd2FwIGJlbHQgaXRlbXNcbiAgICBpZiAoXG4gICAgICAoZnJvbSA9PT0gSW52ZW50b3J5U2xvdHMuQmVsdDEgJiYgdG8gPT09IEludmVudG9yeVNsb3RzLkJlbHQyKSB8fFxuICAgICAgKHRvID09PSBJbnZlbnRvcnlTbG90cy5CZWx0MSAmJiBmcm9tID09PSBJbnZlbnRvcnlTbG90cy5CZWx0MilcbiAgICApIHtcbiAgICAgIHRoaXMubW92ZUl0ZW1zKGNoYXIsIGZyb20sIHRvKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB0cnlpbmcgdG8gZXF1aXAgYW4gaXRlbVxuICAgIGlmIChmcm9tSXRlbSAmJiB0byA+IEludmVudG9yeVNsb3RzLlNsb3QxNikge1xuICAgICAgY29uc3QgcG9zc2libGVTbG90cyA9IGdldEVxdWlwYWJsZVNsb3RzRm9ySXRlbShmcm9tSXRlbS5pdGVtKTtcbiAgICAgIGlmIChcbiAgICAgICAgcG9zc2libGVTbG90cy5oYXModG8pICYmXG4gICAgICAgIGNhbkVxdWlwKGNoYXIsIGZyb21JdGVtLml0ZW0sIHRvLCBzZW5kTWVzc2FnZXMpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5tb3ZlSXRlbXMoY2hhciwgZnJvbSwgdG8pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHRyeWluZyB0byB1bmVxdWlwIHRvIGVtcHR5IHBvc2l0aW9uXG4gICAgaWYgKFxuICAgICAgZnJvbUl0ZW0gJiZcbiAgICAgICF0b0l0ZW0gJiZcbiAgICAgIGZyb20gPiBJbnZlbnRvcnlTbG90cy5TbG90MTYgJiZcbiAgICAgIHRvIDw9IEludmVudG9yeVNsb3RzLlNsb3QxNlxuICAgICkge1xuICAgICAgdGhpcy5tb3ZlSXRlbXMoY2hhciwgZnJvbSwgdG8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxvZyhcImhhbmRsZSBtb3ZlIGZhaWxlZFwiLCBJbnZlbnRvcnlTbG90c1tmcm9tXSwgSW52ZW50b3J5U2xvdHNbdG9dKTtcbiAgfVxuXG4gIHJlZnJlc2hHcmFwaGljcyhjaGFyOiBDaGFyYWN0ZXIpIHtcbiAgICBjb25zdCBpbnZlbnRvcnkgPSBjaGFyLmludmVudG9yeTtcbiAgICBpZiAoIWludmVudG9yeSkgcmV0dXJuO1xuICAgIGNvbnN0IGJvZHkgPSBjaGFyLmJvZHk7XG5cbiAgICBjb25zdCBsZWZ0SGFuZEl0ZW0gPSBpbnZlbnRvcnkuZ2V0SXRlbShJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZCk7XG4gICAgYm9keS5pc0xlZnRIYW5kV2VhcG9uID1cbiAgICAgIChsZWZ0SGFuZEl0ZW0gJiYgbGVmdEhhbmRJdGVtLml0ZW0ub2JqZWN0X3R5cGUgPT09IE9iamVjdFR5cGVzLldlYXBvbikgfHxcbiAgICAgIGZhbHNlO1xuICAgIGJvZHkubGVmdEhhbmQgPVxuICAgICAgKGxlZnRIYW5kSXRlbSAmJiAobGVmdEhhbmRJdGVtLml0ZW0gYXMgV2VhcG9uSXRlbSkuYW5pbWF0aW9uKSB8fCAwO1xuXG4gICAgY29uc3QgcmlnaHRIYW5kSXRlbSA9IGludmVudG9yeS5nZXRJdGVtKEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZCk7XG4gICAgYm9keS5pc1JpZ2h0SGFuZFdlYXBvbiA9XG4gICAgICAocmlnaHRIYW5kSXRlbSAmJlxuICAgICAgICByaWdodEhhbmRJdGVtLml0ZW0ub2JqZWN0X3R5cGUgPT09IE9iamVjdFR5cGVzLldlYXBvbikgfHxcbiAgICAgIGZhbHNlO1xuICAgIGJvZHkucmlnaHRIYW5kID1cbiAgICAgIChyaWdodEhhbmRJdGVtICYmIChyaWdodEhhbmRJdGVtLml0ZW0gYXMgV2VhcG9uSXRlbSkuYW5pbWF0aW9uKSB8fCAwO1xuXG4gICAgY29uc3QgaGVsbWV0SXRlbSA9IGludmVudG9yeS5nZXRJdGVtKEludmVudG9yeVNsb3RzLkhlYWQpO1xuICAgIGJvZHkuaGVsbWV0ID1cbiAgICAgIChoZWxtZXRJdGVtICYmIChoZWxtZXRJdGVtLml0ZW0gYXMgSGVsbWV0SXRlbSkuYW5pbWF0aW9uKSB8fCAwO1xuXG4gICAgY29uc3QgYm9keUl0ZW0gPSBpbnZlbnRvcnkuZ2V0SXRlbShJbnZlbnRvcnlTbG90cy5Bcm1vcik7XG4gICAgYm9keS5ib2R5ID1cbiAgICAgIChib2R5SXRlbSAmJiAoYm9keUl0ZW0uaXRlbSBhcyBBcm1vckl0ZW0pLmFuaW1hdGlvbikgfHxcbiAgICAgIGdldE5ha2VkQm9keShib2R5LmdlbmRlciwgYm9keS5yYWNlKTtcbiAgfVxuXG4gIHByaXZhdGUgbW92ZUl0ZW1zKFxuICAgIGNoYXI6IENoYXJhY3RlcixcbiAgICBmcm9tU2xvdDogSW52ZW50b3J5U2xvdHMsXG4gICAgdG9TbG90OiBJbnZlbnRvcnlTbG90c1xuICApIHtcbiAgICBjb25zdCBpbnZlbnRvcnkgPSBjaGFyLmdldENvbXBvbmVudE9yTnVsbChJbnZlbnRvcnkpO1xuXG4gICAgaWYgKCFpbnZlbnRvcnkpIHJldHVybjtcblxuICAgIGlmIChmcm9tU2xvdCA9PT0gSW52ZW50b3J5U2xvdHMuTk9ORSB8fCB0b1Nsb3QgPT09IEludmVudG9yeVNsb3RzLk5PTkUpXG4gICAgICByZXR1cm47XG4gICAgLy8gVE9ETzogY2hlY2sgbWF4IGludiBzbG90XG5cbiAgICBjb25zdCBmcm9tSXRlbSA9IGludmVudG9yeS5nZXRJdGVtKGZyb21TbG90KTtcbiAgICBjb25zdCB0b0l0ZW0gPSBpbnZlbnRvcnkuZ2V0SXRlbSh0b1Nsb3QpO1xuXG4gICAgaWYgKHRvSXRlbSkge1xuICAgICAgaW52ZW50b3J5LnNldEl0ZW0oZnJvbVNsb3QsIHRvSXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmVudG9yeS5zZXRJdGVtKGZyb21TbG90LCBudWxsKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0b1Nsb3QgPT09IEludmVudG9yeVNsb3RzLkxlZnRIYW5kIHx8XG4gICAgICB0b1Nsb3QgPT09IEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZFxuICAgICkge1xuICAgICAgaWYgKGZyb21JdGVtICYmIGZyb21JdGVtLml0ZW0ub2JqZWN0X3R5cGUgPT09IE9iamVjdFR5cGVzLldlYXBvbikge1xuICAgICAgICBjaGFyLnNlbmRTb3VuZChLbm93blNvdW5kcy5FUVVJUF9XRUFQT04pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcm9tSXRlbSkge1xuICAgICAgaW52ZW50b3J5LnNldEl0ZW0odG9TbG90LCBmcm9tSXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGludmVudG9yeS5zZXRJdGVtKHRvU2xvdCwgbnVsbCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWZyZXNoR3JhcGhpY3MoY2hhcik7XG4gIH1cblxuICBwcml2YXRlIGJhc2VFcXVpcG1lbnQoY2hhcjogQ2hhcmFjdGVyKSB7XG4gICAgY29uc3QgaW52ID0gY2hhci5nZXRDb21wb25lbnRPck51bGwoSW52ZW50b3J5KTtcblxuICAgIGlmICghaW52KSByZXR1cm47XG4gICAgLy8gZmluZHMgc3VpdGFibGUgaXRlbXMgdG8gbWF4IHRoZSBlcXVpcGVkIHNldFxuICAgIHRoaXMuZmluZEl0ZW0oY2hhciwgaW52LCBJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZCk7XG4gICAgdGhpcy5maW5kSXRlbShjaGFyLCBpbnYsIEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZCk7XG4gICAgdGhpcy5maW5kSXRlbShjaGFyLCBpbnYsIEludmVudG9yeVNsb3RzLkFybW9yKTtcbiAgICB0aGlzLmZpbmRJdGVtKGNoYXIsIGludiwgSW52ZW50b3J5U2xvdHMuQWNjZXNzb3J5KTtcbiAgICB0aGlzLmZpbmRJdGVtKGNoYXIsIGludiwgSW52ZW50b3J5U2xvdHMuUmluZyk7XG4gICAgdGhpcy5maW5kSXRlbShjaGFyLCBpbnYsIEludmVudG9yeVNsb3RzLkhlYWQpO1xuICAgIHRoaXMuZmluZEl0ZW0oY2hhciwgaW52LCBJbnZlbnRvcnlTbG90cy5CZWx0MSk7XG4gICAgdGhpcy5maW5kSXRlbShjaGFyLCBpbnYsIEludmVudG9yeVNsb3RzLkJlbHQyKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy5hdXRvbWF0aWNFcXVpcC5lbnRpdGllcy5zbGljZSgpKSB7XG4gICAgICB0aGlzLmJhc2VFcXVpcG1lbnQoZW50aXR5IGFzIENoYXJhY3Rlcik7XG4gICAgICB0aGlzLnJlZnJlc2hHcmFwaGljcyhlbnRpdHkgYXMgQ2hhcmFjdGVyKTtcbiAgICAgIGVudGl0eS5yZW1vdmVDb21wb25lbnQoQXV0b21hdGljRXF1aXApO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgV2VhcG9uSXRlbSwgT2JqZWN0VHlwZXMgfSBmcm9tIFwiLi4vRGVjbGFyZXNcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuaW1wb3J0IHsgQXJjaGV0eXBlcyB9IGZyb20gXCIuLi9Db21wb25lbnRzL0FyY2hldHlwZVwiO1xuaW1wb3J0IHsgSW52ZW50b3J5IH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvSW52ZW50b3J5XCI7XG5pbXBvcnQgeyBTa2lsbHMgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Ta2lsbHNcIjtcbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Cb2R5XCI7XG5pbXBvcnQgeyBDaGFyU3RhdHMgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9TdGF0c1wiO1xuaW1wb3J0IHsgaXNTa2lsbFNsb3QgfSBmcm9tIFwiLi4vQXRvbWljSGVscGVycy9TbG90c1wiO1xuaW1wb3J0IHsgSW52ZW50b3J5U2xvdHMgfSBmcm9tIFwiLi4vRW51bXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYXJXZWFwb24oY2hhcjogSUVudGl0eSkge1xuICBjb25zdCBib2R5ID0gY2hhci5nZXRDb21wb25lbnRPck51bGwoQm9keSk7XG4gIGNvbnN0IGludmVudG9yeSA9IGNoYXIuZ2V0Q29tcG9uZW50T3JOdWxsKEludmVudG9yeSk7XG5cbiAgaWYgKCFib2R5KSByZXR1cm4gbnVsbDtcbiAgaWYgKCFpbnZlbnRvcnkpIHJldHVybiBudWxsO1xuXG4gIGxldCBsZWZ0T3JSaWdodDpcbiAgICB8IEludmVudG9yeVNsb3RzLk5PTkVcbiAgICB8IEludmVudG9yeVNsb3RzLkxlZnRIYW5kXG4gICAgfCBJbnZlbnRvcnlTbG90cy5SaWdodEhhbmQgPSBJbnZlbnRvcnlTbG90cy5OT05FO1xuXG4gIGlmIChib2R5LmlzTGVmdEhhbmRXZWFwb24gJiYgYm9keS5pc1JpZ2h0SGFuZFdlYXBvbikge1xuICAgIGxlZnRPclJpZ2h0ID1cbiAgICAgIE1hdGgucmFuZG9tKCkgPiAwLjUgPyBJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZCA6IEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZDtcbiAgfSBlbHNlIGlmIChib2R5LmlzTGVmdEhhbmRXZWFwb24pIHtcbiAgICBsZWZ0T3JSaWdodCA9IEludmVudG9yeVNsb3RzLkxlZnRIYW5kO1xuICB9IGVsc2UgaWYgKGJvZHkuaXNSaWdodEhhbmRXZWFwb24pIHtcbiAgICBsZWZ0T3JSaWdodCA9IEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZDtcbiAgfVxuXG4gIGNvbnN0IHdlYXBvbiA9IGludmVudG9yeS5nZXRJdGVtKGxlZnRPclJpZ2h0KTtcblxuICBpZiAobGVmdE9yUmlnaHQgIT09IEludmVudG9yeVNsb3RzLk5PTkUgJiYgd2VhcG9uKSB7XG4gICAgcmV0dXJuIHdlYXBvbi5pdGVtIGFzIFdlYXBvbkl0ZW07XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYXJTaGllbGQoY2hhcjogSUVudGl0eSkge1xuICBjb25zdCBib2R5ID0gY2hhci5nZXRDb21wb25lbnRPck51bGwoQm9keSk7XG4gIGNvbnN0IGludmVudG9yeSA9IGNoYXIuZ2V0Q29tcG9uZW50T3JOdWxsKEludmVudG9yeSk7XG5cbiAgaWYgKCFib2R5KSByZXR1cm4gbnVsbDtcbiAgaWYgKCFpbnZlbnRvcnkpIHJldHVybiBudWxsO1xuXG4gIGxldCBsZWZ0T3JSaWdodDpcbiAgICB8IEludmVudG9yeVNsb3RzLk5PTkVcbiAgICB8IEludmVudG9yeVNsb3RzLkxlZnRIYW5kXG4gICAgfCBJbnZlbnRvcnlTbG90cy5SaWdodEhhbmQgPSBJbnZlbnRvcnlTbG90cy5OT05FO1xuXG4gIGlmIChib2R5LmlzTGVmdEhhbmRXZWFwb24gJiYgYm9keS5pc1JpZ2h0SGFuZFdlYXBvbikge1xuICAgIGxlZnRPclJpZ2h0ID0gSW52ZW50b3J5U2xvdHMuTk9ORTtcbiAgfSBlbHNlIGlmIChib2R5LmlzTGVmdEhhbmRXZWFwb24pIHtcbiAgICBsZWZ0T3JSaWdodCA9IEludmVudG9yeVNsb3RzLlJpZ2h0SGFuZDtcbiAgfSBlbHNlIGlmIChib2R5LmlzUmlnaHRIYW5kV2VhcG9uKSB7XG4gICAgbGVmdE9yUmlnaHQgPSBJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZDtcbiAgfVxuXG4gIGNvbnN0IHNoaWVsZCA9IGludmVudG9yeS5nZXRJdGVtKGxlZnRPclJpZ2h0KTtcblxuICBpZiAoXG4gICAgbGVmdE9yUmlnaHQgIT09IEludmVudG9yeVNsb3RzLk5PTkUgJiZcbiAgICBzaGllbGQgJiZcbiAgICBzaGllbGQuaXRlbS5vYmplY3RfdHlwZSA9PT0gT2JqZWN0VHlwZXMuU2hpZWxkXG4gICkge1xuICAgIHJldHVybiBzaGllbGQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRDaGFyYWN0ZXJGcm9tQXJjaGV0eXBlKGNoYXI6IElFbnRpdHksIGlkOiBzdHJpbmcpIHtcbiAgY29uc3QgYXJjaCA9IGNoYXIuZ2V0Q29tcG9uZW50T3JOdWxsKEFyY2hldHlwZXMpO1xuXG4gIGlmICghYXJjaCkgcmV0dXJuO1xuXG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gYXJjaC5nZXRBcmNoZXR5cGUoaWQpO1xuXG4gIGlmICghZGVzY3JpcHRpb24pIHJldHVybjtcblxuICBjb25zdCBpbnYgPSBjaGFyLmdldENvbXBvbmVudE9yQ3JlYXRlKEludmVudG9yeSk7XG4gIGNvbnN0IHNraWxscyA9IGNoYXIuZ2V0Q29tcG9uZW50T3JDcmVhdGUoU2tpbGxzKTtcbiAgY29uc3QgYm9keSA9IGNoYXIuZ2V0Q29tcG9uZW50T3JDcmVhdGUoQm9keSk7XG4gIGNvbnN0IHN0YXRzID0gY2hhci5nZXRDb21wb25lbnRPckNyZWF0ZShDaGFyU3RhdHMpO1xuXG4gIGlmIChjaGFyIGluc3RhbmNlb2YgQ2hhcmFjdGVyKSB7XG4gICAgY2hhci5yZXNldEZsYWdzKCk7XG4gICAgY2hhci5kaWUoKTtcbiAgfVxuXG4gIGJvZHkubmljayA9IGRlc2NyaXB0aW9uLm5pY2sgfHwgYm9keS5uaWNrIHx8IFwiQ2hhcmFjdGVyXCI7XG4gIGJvZHkuY2hhckNsYXNzID0gZGVzY3JpcHRpb24uY2hhckNsYXNzO1xuICBib2R5LmhlYWQgPSBkZXNjcmlwdGlvbi5oZWFkO1xuICBib2R5LnJhY2UgPSBkZXNjcmlwdGlvbi5yYWNlO1xuICBib2R5LmNoYXJDbGFzcyA9IGRlc2NyaXB0aW9uLmNoYXJDbGFzcztcbiAgYm9keS5ib2R5ID0gZGVzY3JpcHRpb24uYm9keTtcbiAgYm9keS5nZW5kZXIgPSBkZXNjcmlwdGlvbi5nZW5kZXI7XG5cbiAgc3RhdHMubWluSHAgPSBkZXNjcmlwdGlvbi5taW5IcDtcbiAgc3RhdHMubWF4SHAgPSBkZXNjcmlwdGlvbi5tYXhIcDtcbiAgc3RhdHMubWluTWFuYSA9IGRlc2NyaXB0aW9uLm1pbk1hbmE7XG4gIHN0YXRzLm1heE1hbmEgPSBkZXNjcmlwdGlvbi5tYXhNYW5hO1xuICBpbnYuY2xlYXIoKTtcbiAgLy8gU2V0IHRoZSBuZXcgaW52ZW50b3J5XG4gIGNvbnN0IGludlNsb3RzOiBudW1iZXJbXSA9IFtdO1xuICBkZXNjcmlwdGlvbi5pbnZlbnRvcnkuZm9yRWFjaCgoJCkgPT4ge1xuICAgIC8vIFRPRE86IHZhbGlkYXRlIHNsb3RcbiAgICBpZiAoIWlzU2tpbGxTbG90KCQuc2xvdCkpIHtcbiAgICAgIGludi5zZXRJdGVtKCQuc2xvdCwgeyAuLi4kIH0pO1xuICAgICAgaW52U2xvdHMucHVzaCgkLnNsb3QpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2V0IHRoZSBuZXcgaW52ZW50b3J5XG4gIGNvbnN0IHNwZWxsU2xvdHM6IG51bWJlcltdID0gW107XG4gIGRlc2NyaXB0aW9uLnNraWxscy5mb3JFYWNoKCgkKSA9PiB7XG4gICAgLy8gVE9ETzogdmFsaWRhdGUgc2xvdFxuICAgIGlmIChpc1NraWxsU2xvdCgkLnNsb3QpKSB7XG4gICAgICBza2lsbHMuc2V0SXRlbSgkLnNsb3QsICQuc2tpbGwpO1xuICAgICAgc3BlbGxTbG90cy5wdXNoKCQuc2xvdCk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuaW1wb3J0IHsgc3RvcE1lZGl0YXRpbmcgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9NZWRpdGF0aW9uXCI7XG5pbXBvcnQgeyBDb25zb2xlTWVzc2FnZXMgfSBmcm9tIFwiLi4vRW51bXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmREYW1hZ2UoXG4gIGF0dGFja2VyOiBDaGFyYWN0ZXIsXG4gIHZpY3RpbTogQ2hhcmFjdGVyLFxuICBkYW1hZ2U6IG51bWJlclxuKSB7XG4gIGRhbWFnZSA9IGRhbWFnZSB8IDA7XG5cbiAgYXR0YWNrZXIuc2VuZENvbnNvbGVNZXNzYWdlKFxuICAgIENvbnNvbGVNZXNzYWdlc1tcIllvdSBoaXR0ZWQge3tjaGFyfX0gYnkge3tkYW1hZ2V9fVwiXSxcbiAgICB7XG4gICAgICBjaGFyOiB2aWN0aW0uYm9keS5uaWNrLFxuICAgICAgZGFtYWdlOiBkYW1hZ2UudG9TdHJpbmcoKSxcbiAgICB9XG4gICk7XG5cbiAgdmljdGltLnNlbmRDb25zb2xlTWVzc2FnZShcbiAgICBDb25zb2xlTWVzc2FnZXNbXCJ7e2NoYXJ9fSBkYW1hZ2VkIHlvdSBieSB7e2RhbWFnZX19IHBvaW50c1wiXSxcbiAgICB7XG4gICAgICBjaGFyOiBhdHRhY2tlci5ib2R5Lm5pY2ssXG4gICAgICBkYW1hZ2U6IGRhbWFnZS50b1N0cmluZygpLFxuICAgIH1cbiAgKTtcblxuICB2aWN0aW0uc3RhdHMubWluSHAgPSBNYXRoLnJvdW5kKHZpY3RpbS5zdGF0cy5taW5IcCAtIGRhbWFnZSk7XG5cbiAgYXR0YWNrZXIucG9zaXRpb24uc2VuZEhpdChcbiAgICB2aWN0aW0ucG9zaXRpb24ueCxcbiAgICB2aWN0aW0ucG9zaXRpb24ueSxcbiAgICBkYW1hZ2UudG9TdHJpbmcoKSxcbiAgICAweGYzMjEyMVxuICApO1xuXG4gIHN0b3BNZWRpdGF0aW5nKHZpY3RpbSk7XG5cbiAgaWYgKHZpY3RpbS5zdGF0cy5taW5IcCA8PSAwKSB7XG4gICAgdmljdGltLnN0YXRzLm1pbkhwID0gMDtcbiAgICB2aWN0aW0uZGllKCk7XG5cbiAgICBhdHRhY2tlci5zZW5kQ29uc29sZU1lc3NhZ2UoQ29uc29sZU1lc3NhZ2VzW1wiWW91IGtpbGxlZCB7e2NoYXJ9fSFcIl0sIHtcbiAgICAgIGNoYXI6IHZpY3RpbS5ib2R5Lm5pY2ssXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIFdlYXBvbkl0ZW0sXG4gIEtub3duU291bmRzLFxuICBTaGVsZEl0ZW0sXG4gIE9iamVjdFR5cGVzLFxuICBBYmlsaXR5LFxufSBmcm9tIFwiLi4vRGVjbGFyZXNcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuLi9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuaW1wb3J0IHsgZ2V0Q2hhclNoaWVsZCwgZ2V0Q2hhcldlYXBvbiB9IGZyb20gXCIuLi9GdW5jdGlvbnMvSGVscGVyc1wiO1xuaW1wb3J0IHtcbiAgZ2V0Q2xhc3NNb2RpZmllcixcbiAgZ2V0UmFjZU1vZGlmaWVyLFxuICB1c2VyRXZhc2lvbixcbiAgdXNlckFjY3VyYWN5LFxufSBmcm9tIFwiLi4vQmFsYW5jZVwiO1xuaW1wb3J0IHsgc2VuZERhbWFnZSB9IGZyb20gXCIuLi9GdW5jdGlvbnMvY29tYmF0SGVscGVyc1wiO1xuaW1wb3J0IHsgQ2hhckF0dGFja3NDaGFyIH0gZnJvbSBcIi4uL0V2ZW50cy9DaGFyRXZlbnRzXCI7XG5pbXBvcnQgeyBnZXRSYW5kb21JbnRlZ2VyLCBnZXRSYW5kb21GbG9hdCB9IGZyb20gXCIuLi9BdG9taWNIZWxwZXJzL051bWJlcnNcIjtcbmltcG9ydCB7IEZ4IH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvRnhcIjtcbmltcG9ydCB7IEludmVudG9yeVNsb3RzLCBDb25zb2xlTWVzc2FnZXMgfSBmcm9tIFwiLi4vRW51bXNcIjtcblxuY29uc3QgSElUX0NIQU5DRV9CQVNFID0gNTA7XG5jb25zdCBCTE9PRF9GWCA9IDE0O1xuXG5leHBvcnQgY2xhc3MgQ29tYmF0U3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIGFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGFjdGl2YXRlKGVuZ2luZTogRW5naW5lKSB7XG4gICAgZW5naW5lLmV2ZW50TWFuYWdlci5hZGRMaXN0ZW5lcihcbiAgICAgIENoYXJBdHRhY2tzQ2hhcixcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLmNoYXJBdHRhY2tzQ2hhclxuICAgICk7XG4gICAgbG9nKFwiQ29tYmF0U3lzdGVtIHN0YXJ0ZWRcIik7XG4gIH1cblxuICBwcml2YXRlIGNoYXJJbXBhY3RzQ2hhcihcbiAgICB3ZWFwb246IFdlYXBvbkl0ZW0gfCBudWxsLFxuICAgIGF0dGFja2VyOiBDaGFyYWN0ZXIsXG4gICAgdmljdGltOiBDaGFyYWN0ZXJcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc2hpZWxkID0gZ2V0Q2hhclNoaWVsZCh2aWN0aW0pO1xuICAgIGNvbnN0IHZpY3RpbU1vZGlmaWVycyA9IGdldENsYXNzTW9kaWZpZXIodmljdGltLmJvZHkuY2hhckNsYXNzKTtcbiAgICBjb25zdCBhdHRhY2tlck1vZGlmaWVycyA9IGdldENsYXNzTW9kaWZpZXIoYXR0YWNrZXIuYm9keS5jaGFyQ2xhc3MpO1xuXG4gICAgbGV0IHN1Y2Nlc3NDaGFuY2VzID0gMDtcbiAgICBsZXQgdmljdGltRXZhc2lvbiA9IHVzZXJFdmFzaW9uKHZpY3RpbSk7XG4gICAgbGV0IGF0dGFja2VyRGV4dGVyaXR5ID0gdXNlckFjY3VyYWN5KGF0dGFja2VyKTtcblxuICAgIGlmIChzaGllbGQpIHtcbiAgICAgIHZpY3RpbUV2YXNpb24gKz0gdmljdGltTW9kaWZpZXJzLnNoaWVsZDtcbiAgICB9XG5cbiAgICBpZiAod2VhcG9uKSB7XG4gICAgICBpZiAod2VhcG9uLnByb2plY3RpbGUpIHtcbiAgICAgICAgYXR0YWNrZXJEZXh0ZXJpdHkgKz0gYXR0YWNrZXJNb2RpZmllcnMucmFuZ2VfZGV4O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXR0YWNrZXJEZXh0ZXJpdHkgKz0gYXR0YWNrZXJNb2RpZmllcnMubWVsZWVfZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIHN1Y2Nlc3NDaGFuY2VzID0gSElUX0NIQU5DRV9CQVNFICogKGF0dGFja2VyRGV4dGVyaXR5IC8gdmljdGltRXZhc2lvbik7XG5cbiAgICBpZiAoZ2V0UmFuZG9tSW50ZWdlcigxLCAxMDApID4gc3VjY2Vzc0NoYW5jZXMpIHtcbiAgICAgIGF0dGFja2VyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBtaXNzIHRoZSBoaXRcIik7XG5cbiAgICAgIGlmICh3ZWFwb24pIHtcbiAgICAgICAgYXR0YWNrZXIucG9zaXRpb24uc2VuZFdlYXBvblN3aW5nKFxuICAgICAgICAgIGF0dGFja2VyLFxuICAgICAgICAgIGF0dGFja2VyLmJvZHkuaXNMZWZ0SGFuZFdlYXBvblxuICAgICAgICAgICAgPyBJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZFxuICAgICAgICAgICAgOiBJbnZlbnRvcnlTbG90cy5SaWdodEhhbmQsXG4gICAgICAgICAgS25vd25Tb3VuZHMuU1dJTkdcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF0dGFja2VyLnBvc2l0aW9uLnNlbmRXZWFwb25Td2luZyhcbiAgICAgICAgICBhdHRhY2tlcixcbiAgICAgICAgICBJbnZlbnRvcnlTbG90cy5OT05FLFxuICAgICAgICAgIEtub3duU291bmRzLlNXSU5HXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHNoaWVsZCkge1xuICAgICAgY29uc3Qgc2hpZWxkQ2hhbmNlcyA9XG4gICAgICAgIEhJVF9DSEFOQ0VfQkFTRSAqXG4gICAgICAgIHZpY3RpbU1vZGlmaWVycy5zaGllbGQgKlxuICAgICAgICAoc2hpZWxkLml0ZW0gYXMgU2hlbGRJdGVtKS5tYXhfbW9kaWZpZXI7XG5cbiAgICAgIGlmIChnZXRSYW5kb21JbnRlZ2VyKDEsIDEwMCkgPiBzaGllbGRDaGFuY2VzKSB7XG4gICAgICAgIC8vICdTZSByZWNoYXpvIGVsIGF0YXF1ZSBjb24gZWwgZXNjdWRvXG4gICAgICAgIGF0dGFja2VyLnNlbmRDb25zb2xlTWVzc2FnZShcIlRoZSBhdHRhY2sgd2FzIHJlamVjdGVkIHdpdGggYSBzaGllbGRcIik7XG4gICAgICAgIGF0dGFja2VyLnBvc2l0aW9uLnNlbmRXZWFwb25Td2luZyhcbiAgICAgICAgICB2aWN0aW0sXG4gICAgICAgICAgdmljdGltLmJvZHkuaXNMZWZ0SGFuZFdlYXBvblxuICAgICAgICAgICAgPyBJbnZlbnRvcnlTbG90cy5SaWdodEhhbmRcbiAgICAgICAgICAgIDogSW52ZW50b3J5U2xvdHMuTGVmdEhhbmQsXG4gICAgICAgICAgS25vd25Tb3VuZHMuU0hJRUxEXG4gICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3ZWFwb24gJiYgd2VhcG9uLnByb2plY3RpbGUpIHtcbiAgICAgICAgYXR0YWNrZXIucG9zaXRpb24uc2VuZFdlYXBvblN3aW5nKFxuICAgICAgICAgIGF0dGFja2VyLFxuICAgICAgICAgIGF0dGFja2VyLmJvZHkuaXNMZWZ0SGFuZFdlYXBvblxuICAgICAgICAgICAgPyBJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZFxuICAgICAgICAgICAgOiBJbnZlbnRvcnlTbG90cy5SaWdodEhhbmQsXG4gICAgICAgICAgS25vd25Tb3VuZHMuSU1QQUNUMlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmICh3ZWFwb24pIHtcbiAgICAgICAgYXR0YWNrZXIucG9zaXRpb24uc2VuZFdlYXBvblN3aW5nKFxuICAgICAgICAgIGF0dGFja2VyLFxuICAgICAgICAgIGF0dGFja2VyLmJvZHkuaXNMZWZ0SGFuZFdlYXBvblxuICAgICAgICAgICAgPyBJbnZlbnRvcnlTbG90cy5MZWZ0SGFuZFxuICAgICAgICAgICAgOiBJbnZlbnRvcnlTbG90cy5SaWdodEhhbmQsXG4gICAgICAgICAgS25vd25Tb3VuZHMuSU1QQUNUXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhdHRhY2tlci5wb3NpdGlvbi5zZW5kV2VhcG9uU3dpbmcoXG4gICAgICAgICAgdmljdGltLFxuICAgICAgICAgIEludmVudG9yeVNsb3RzLk5PTkUsXG4gICAgICAgICAgS25vd25Tb3VuZHMuSU1QQUNUXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHZpY3RpbS5nZXRDb21wb25lbnRPckNyZWF0ZShGeCkuc2V0KEJMT09EX0ZYLCAxKTtcblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjaGFyQXR0YWNrc0NoYXIoZXZlbnQ6IENoYXJBdHRhY2tzQ2hhcikge1xuICAgIGNvbnN0IHsgYXR0YWNrZXIsIHZpY3RpbSwgcHJvamVjdGlsZSB9ID0gZXZlbnQ7XG5cbiAgICBpZiAoYXR0YWNrZXIgPT09IHZpY3RpbSkge1xuICAgICAgYXR0YWNrZXIuc2VuZENvbnNvbGVNZXNzYWdlKFxuICAgICAgICBDb25zb2xlTWVzc2FnZXNbXCJZb3UgY2FuJ3QgYXR0YWNrIHlvdXJzZWxmIVwiXVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoYXR0YWNrZXIuYm9keS5kZWFkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCEodmljdGltIGluc3RhbmNlb2YgQ2hhcmFjdGVyKSkge1xuICAgICAgYXR0YWNrZXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiWW91IGNhbiBvbmx5IGF0dGFjayBjaGFyYWN0ZXJzIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodmljdGltLmJvZHkuZGVhZCkge1xuICAgICAgYXR0YWNrZXIuc2VuZENvbnNvbGVNZXNzYWdlKFxuICAgICAgICBDb25zb2xlTWVzc2FnZXNbXCJZb3UgY2FuJ3QgYXR0YWNrIGRlYWQgY2hhcmFjdGVycyFcIl1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGltZXJzID0gYXR0YWNrZXIudGltZXJzO1xuXG4gICAgaWYgKCF0aW1lcnMuY2FuVXNlQm93KGZhbHNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aW1lcnMuY2FuU2tpbGxBdHRhY2soKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFRPRE86IGNoZWNrIGRpc3RhbmNlXG4gICAgLy8gVE9ETzogY2hlY2sgaW50ZXJ2YWxcblxuICAgIGxldCBhYnNvcmJlZERhbWFnZSA9IDA7XG5cbiAgICBjb25zdCB3ZWFwb24gPSBnZXRDaGFyV2VhcG9uKGF0dGFja2VyKTtcblxuICAgIGlmICh3ZWFwb24gJiYgd2VhcG9uLnByb2plY3RpbGUgIT0gcHJvamVjdGlsZSkge1xuICAgICAgYXR0YWNrZXIuc2VuZENvbnNvbGVNZXNzYWdlKFxuICAgICAgICBDb25zb2xlTWVzc2FnZXNbXCJZb3UgY2FuJ3QgdXNlIHRoYXQgd2VhcG9uIHRoYXQgd2F5IVwiXVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuY2hhckltcGFjdHNDaGFyKHdlYXBvbiwgYXR0YWNrZXIsIHZpY3RpbSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZGFtYWdlID0gdGhpcy5jYWxjdWxhdGVEYW1hZ2Uod2VhcG9uLCBhdHRhY2tlciwgdmljdGltKTtcbiAgICBjb25zdCByZXNpc3QgPSAoZGFtYWdlLndlYXBvbiAmJiBkYW1hZ2Uud2VhcG9uLnJlaW5mb3JjZW1lbnQpIHx8IDA7XG5cbiAgICBjb25zdCBwYXJ0T2ZCb2R5ID0gZ2V0UmFuZG9tSW50ZWdlcigxLCA2KTsgLy8gMSA9PSBoZWFkXG5cbiAgICBpZiAocGFydE9mQm9keSA9PT0gMSAvKmhlYWQqLykge1xuICAgICAgY29uc3QgaGVsbWV0ID1cbiAgICAgICAgdmljdGltLmludmVudG9yeSAmJiB2aWN0aW0uaW52ZW50b3J5LmdldEl0ZW0oSW52ZW50b3J5U2xvdHMuSGVhZCk7XG5cbiAgICAgIGlmIChoZWxtZXQgJiYgaGVsbWV0Lml0ZW0ub2JqZWN0X3R5cGUgPT0gT2JqZWN0VHlwZXMuSGVsbWV0KSB7XG4gICAgICAgIGFic29yYmVkRGFtYWdlID0gZ2V0UmFuZG9tRmxvYXQoXG4gICAgICAgICAgaGVsbWV0Lml0ZW0ubWluX2RlZmVuc2UsXG4gICAgICAgICAgaGVsbWV0Lml0ZW0ubWF4X2RlZmVuc2VcbiAgICAgICAgKTtcbiAgICAgICAgYWJzb3JiZWREYW1hZ2UgPSBhYnNvcmJlZERhbWFnZSAtIHJlc2lzdDtcbiAgICAgICAgZGFtYWdlLmRhbWFnZSA9IGRhbWFnZS5kYW1hZ2UgLSBhYnNvcmJlZERhbWFnZTtcblxuICAgICAgICBpZiAoZGFtYWdlLmRhbWFnZSA8IDEpIGRhbWFnZS5kYW1hZ2UgPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBhcm1vciA9XG4gICAgICAgIHZpY3RpbS5pbnZlbnRvcnkgJiYgdmljdGltLmludmVudG9yeS5nZXRJdGVtKEludmVudG9yeVNsb3RzLkFybW9yKTtcblxuICAgICAgY29uc3Qgc2hpZWxkID0gZ2V0Q2hhclNoaWVsZCh2aWN0aW0pO1xuXG4gICAgICBpZiAoYXJtb3IgJiYgYXJtb3IuaXRlbS5vYmplY3RfdHlwZSA9PSBPYmplY3RUeXBlcy5Bcm1vcikge1xuICAgICAgICBpZiAoc2hpZWxkICYmIHNoaWVsZC5pdGVtLm9iamVjdF90eXBlID09IE9iamVjdFR5cGVzLlNoaWVsZCkge1xuICAgICAgICAgIGFic29yYmVkRGFtYWdlID0gZ2V0UmFuZG9tRmxvYXQoXG4gICAgICAgICAgICBhcm1vci5pdGVtLm1pbl9kZWZlbnNlICsgc2hpZWxkLml0ZW0ubWluX2RlZmVuc2UsXG4gICAgICAgICAgICBhcm1vci5pdGVtLm1heF9kZWZlbnNlICsgc2hpZWxkLml0ZW0ubWF4X2RlZmVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFic29yYmVkRGFtYWdlID0gZ2V0UmFuZG9tRmxvYXQoXG4gICAgICAgICAgICBhcm1vci5pdGVtLm1pbl9kZWZlbnNlLFxuICAgICAgICAgICAgYXJtb3IuaXRlbS5tYXhfZGVmZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBhYnNvcmJlZERhbWFnZSA9IGFic29yYmVkRGFtYWdlIC0gcmVzaXN0O1xuICAgICAgICBkYW1hZ2UuZGFtYWdlID0gZGFtYWdlLmRhbWFnZSAtIGFic29yYmVkRGFtYWdlO1xuXG4gICAgICAgIGlmIChkYW1hZ2UuZGFtYWdlIDwgMSkgZGFtYWdlLmRhbWFnZSA9IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZGFtYWdlLmRhbWFnZSA9IGRhbWFnZS5kYW1hZ2UgfCAwO1xuXG4gICAgLy8gVE9ETzogc2VuZCB0aGUgY29uc29sZSBtZXNzYWdlcyB0byBib3RoIHBhcnRpZXNcbiAgICBzZW5kRGFtYWdlKGF0dGFja2VyLCB2aWN0aW0sIGRhbWFnZS5kYW1hZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVEYW1hZ2UoXG4gICAgd2VhcG9uOiBXZWFwb25JdGVtIHwgbnVsbCxcbiAgICBhdHRhY2tlcjogQ2hhcmFjdGVyLFxuICAgIHZpY3RpbTogQ2hhcmFjdGVyXG4gICkge1xuICAgIGNvbnN0IGF0dGFja2VyQ2xhc3NNb2RpZmllcnMgPSBnZXRDbGFzc01vZGlmaWVyKGF0dGFja2VyLmJvZHkuY2hhckNsYXNzKTtcbiAgICBjb25zdCBhdHRhY2tlclJhY2VNb2RpZmllcnMgPSBnZXRSYWNlTW9kaWZpZXIoYXR0YWNrZXIuYm9keS5yYWNlKTtcblxuICAgIGxldCB3ZWFwb25UeXBlTW9kaWZpZXIgPSAwO1xuICAgIGxldCB3ZWFwb25EYW1hZ2UgPSAwO1xuXG4gICAgLy8gZGFnZ2VyPWRleCwgd3Jlc3RsaW5nPXN0clxuICAgIGxldCB0eXBlTW9kaWZpZXI6IEFiaWxpdHkgPSBcImRleHRlcml0eVwiO1xuXG4gICAgaWYgKCF3ZWFwb24pIHtcbiAgICAgIHR5cGVNb2RpZmllciA9IFwic3RyZW5ndGhcIjtcbiAgICAgIHdlYXBvblR5cGVNb2RpZmllciA9IGF0dGFja2VyQ2xhc3NNb2RpZmllcnMubWVsZWVfZG1nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlTW9kaWZpZXIgPSBcImRleHRlcml0eVwiO1xuICAgICAgaWYgKHdlYXBvbi5wcm9qZWN0aWxlKSB7XG4gICAgICAgIHdlYXBvblR5cGVNb2RpZmllciA9IGF0dGFja2VyQ2xhc3NNb2RpZmllcnMucmFuZ2VfZG1nO1xuXG4gICAgICAgIHdlYXBvbkRhbWFnZSA9IGdldFJhbmRvbUZsb2F0KHdlYXBvbi5taW5faGl0LCB3ZWFwb24ubWF4X2hpdCk7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdGlsZSA9XG4gICAgICAgICAgYXR0YWNrZXIuaW52ZW50b3J5ICYmXG4gICAgICAgICAgYXR0YWNrZXIuaW52ZW50b3J5LmdldEl0ZW0oSW52ZW50b3J5U2xvdHMuQWNjZXNzb3J5KTtcblxuICAgICAgICBpZiAocHJvamVjdGlsZSAmJiBwcm9qZWN0aWxlLml0ZW0ub2JqZWN0X3R5cGUgPT09IE9iamVjdFR5cGVzLkFycm93cykge1xuICAgICAgICAgIHdlYXBvbkRhbWFnZSA9XG4gICAgICAgICAgICB3ZWFwb25EYW1hZ2UgK1xuICAgICAgICAgICAgZ2V0UmFuZG9tRmxvYXQocHJvamVjdGlsZS5pdGVtLm1pbl9oaXQsIHByb2plY3RpbGUuaXRlbS5tYXhfaGl0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2VhcG9uVHlwZU1vZGlmaWVyID0gYXR0YWNrZXJDbGFzc01vZGlmaWVycy5tZWxlZV9kbWc7XG4gICAgICAgIHdlYXBvbkRhbWFnZSA9IGdldFJhbmRvbUZsb2F0KHdlYXBvbi5taW5faGl0LCB3ZWFwb24ubWF4X2hpdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWJpbGl0eU1vZGlmaWVyID1cbiAgICAgIGF0dGFja2VyUmFjZU1vZGlmaWVyc1t0eXBlTW9kaWZpZXJdICpcbiAgICAgIGF0dGFja2VyLnN0YXRzLmdldEFiaWxpdHlNdWx0aXBsaWVyKHR5cGVNb2RpZmllcik7XG5cbiAgICAvLyBjb25zdCB0bXBEYW1hZ2UgPSBnZXRSYW5kb21JbnRlZ2VyKGF0dGFja2VyLm1pbkhpdCwgYXR0YWNrZXIubWF4SGl0KTtcbiAgICAvLyBUT0RPIHNraWxsc1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRhbWFnZTogKDEwICogYWJpbGl0eU1vZGlmaWVyICogd2VhcG9uRGFtYWdlICogd2VhcG9uVHlwZU1vZGlmaWVyKSB8IDAsXG4gICAgICB3ZWFwb24sXG4gICAgfTtcbiAgfVxufVxuIiwiY29uc3QgTUlNRVRJU01fRFVSQVRJT04gPSAxNTtcblxuQENvbXBvbmVudChcIm1pbWV0aXNtXCIpXG5leHBvcnQgY2xhc3MgTWltZXRpc20ge1xuICB0aW1lciA9IE1JTUVUSVNNX0RVUkFUSU9OO1xuXG4gIHJlc3RhcnQoKSB7XG4gICAgdGhpcy50aW1lciA9IE1JTUVUSVNNX0RVUkFUSU9OO1xuICB9XG59XG4iLCJpbXBvcnQgeyBTa2lsbCwgU2tpbGxUYXJnZXQsIE9iamVjdFR5cGVzIH0gZnJvbSBcIi4uL0RlY2xhcmVzXCI7XG5pbXBvcnQgeyBnZXRDaGFyV2VhcG9uIH0gZnJvbSBcIi4uL0Z1bmN0aW9ucy9IZWxwZXJzXCI7XG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9DaGFyYWN0ZXJcIjtcbmltcG9ydCB7IHNlbmREYW1hZ2UgfSBmcm9tIFwiLi4vRnVuY3Rpb25zL2NvbWJhdEhlbHBlcnNcIjtcbmltcG9ydCB7IFNraWxscywgY2FuQ2FzdFNwZWxsIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvU2tpbGxzXCI7XG5pbXBvcnQgeyBzdG9wTWVkaXRhdGluZywgaXNNZWRpdGF0aW5nIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvTWVkaXRhdGlvblwiO1xuaW1wb3J0IHsgc2V0SW52aXNpYmxlLCBzZXRWaXNpYmxlIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvSW52aXNpYmxlXCI7XG5pbXBvcnQgeyBzZXRQYXJhbHl6ZWQsIHNldEZyZWUgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9QYXJhbHlzaXNcIjtcbmltcG9ydCB7IENoYXJVc2VzU2tpbGwgfSBmcm9tIFwiLi4vRXZlbnRzL0NoYXJFdmVudHNcIjtcbmltcG9ydCB7IGdldFJhbmRvbUludGVnZXIgfSBmcm9tIFwiLi4vQXRvbWljSGVscGVycy9OdW1iZXJzXCI7XG5pbXBvcnQgeyBlbnRpdGllc0luUG9zaXRpb24gfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Xb3JsZFBvc2l0aW9uXCI7XG5pbXBvcnQgeyBGeCB9IGZyb20gXCIuLi9Db21wb25lbnRzL0Z4XCI7XG5pbXBvcnQgeyBNaW1ldGlzbSB9IGZyb20gXCIuLi9Db21wb25lbnRzL01pbWV0aXNtXCI7XG5pbXBvcnQgeyBJbnZlbnRvcnlTbG90cywgQ2hhckNsYXNzIH0gZnJvbSBcIi4uL0VudW1zXCI7XG5cbmV4cG9ydCBjbGFzcyBTa2lsbFN5c3RlbSBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIGVuZ2luZS5ldmVudE1hbmFnZXIuYWRkTGlzdGVuZXIoQ2hhclVzZXNTa2lsbCwgdGhpcywgdGhpcy51c2VTa2lsbCk7XG4gICAgbG9nKFwiU2tpbGxTeXN0ZW0gc3RhcnRlZFwiKTtcbiAgfVxuXG4gIHByaXZhdGUgdXNlU2tpbGwoZXZlbnQ6IENoYXJVc2VzU2tpbGwpIHtcbiAgICBjb25zdCB7IGNoYXIsIHNsb3QsIHgsIHkgfSA9IGV2ZW50O1xuXG4gICAgY29uc3Qgc2tpbGxzID0gY2hhci5nZXRDb21wb25lbnRPck51bGwoU2tpbGxzKTtcblxuICAgIGlmIChpc01lZGl0YXRpbmcoY2hhcikpIHJldHVybjtcblxuICAgIGlmIChza2lsbHMpIHtcbiAgICAgIGNvbnN0IHNwZWxsID0gc2tpbGxzLmdldEl0ZW0oc2xvdCk7XG5cbiAgICAgIGlmIChzcGVsbCkge1xuICAgICAgICBpZiAoY2FuQ2FzdFNwZWxsKGNoYXIsIHNwZWxsKSkge1xuICAgICAgICAgIGlmIChzcGVsbC50YXJnZXQgPT09IFNraWxsVGFyZ2V0LlRlcnJhaW4pIHtcbiAgICAgICAgICAgIHRoaXMuZG9UZXJyYWluU3BlbGwoY2hhciwgeCwgeSwgc3BlbGwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlkQXR0YWNrID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllc0luUG9zaXRpb24oeCwgeSkpIHtcbiAgICAgICAgICAgICAgaWYgKGVudGl0eSBpbnN0YW5jZW9mIENoYXJhY3Rlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZG9DaGFyYWN0ZXJTcGVsbChjaGFyLCBlbnRpdHksIHNwZWxsKTtcbiAgICAgICAgICAgICAgICBkaWRBdHRhY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZGlkQXR0YWNrKSB7XG4gICAgICAgICAgICAgIGNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiSW52YWxpZCB0YXJnZXQhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc3BlbGxDYXN0ZXJFZmZlY3QoY2FzdGVyOiBDaGFyYWN0ZXIsIHNwZWxsOiBTa2lsbCkge1xuICAgIGNvbnN0IHN0YXRzID0gY2FzdGVyLnN0YXRzO1xuXG4gICAgc3RhdHMubWluTWFuYSA9IE1hdGgubWF4KHN0YXRzLm1pbk1hbmEgLSBzcGVsbC5yZXF1aXJlZF9tYW5hLCAwKSB8IDA7XG5cbiAgICBjYXN0ZXIuc2F5TWFnaWNXb3JkcyhzcGVsbC5zcGVsbCk7XG4gICAgY2FzdGVyLnNlbmRTb3VuZChzcGVsbC5zb3VuZCk7XG4gIH1cblxuICBwcml2YXRlIGRvVGVycmFpblNwZWxsKFxuICAgIGNhc3RlcjogQ2hhcmFjdGVyLFxuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXIsXG4gICAgc3BlbGw6IFNraWxsXG4gICkge1xuICAgIGlmICghY2FuQ2FzdFNwZWxsKGNhc3Rlciwgc3BlbGwpKSByZXR1cm47XG5cbiAgICB0aGlzLnNwZWxsQ2FzdGVyRWZmZWN0KGNhc3Rlciwgc3BlbGwpO1xuICB9XG5cbiAgcHJpdmF0ZSBkb0NoYXJhY3RlclNwZWxsKFxuICAgIGNhc3RlckNoYXI6IENoYXJhY3RlcixcbiAgICB2aWN0aW1DaGFyOiBDaGFyYWN0ZXIsXG4gICAgc3BlbGw6IFNraWxsXG4gICkge1xuICAgIGlmICghY2FuQ2FzdFNwZWxsKGNhc3RlckNoYXIsIHNwZWxsKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgcmVxdWlyZXNBbGl2ZVRhcmdldCA9ICFzcGVsbC5yZXN1c2NpdGF0ZXM7XG4gICAgY29uc3QgaXNBdHRhY2tTcGVsbCA9XG4gICAgICBzcGVsbC5pbmNyZWFzZV9ocCA9PSAtMSB8fFxuICAgICAgc3BlbGwuaW5jcmVhc2VfbWFuYSA9PSAtMSB8fFxuICAgICAgc3BlbGwubWFrZXNfcGFyYWxpemVkIHx8XG4gICAgICBzcGVsbC5tYWtlc19zdGlsbCB8fFxuICAgICAgc3BlbGwubWFrZXNfcG9pc29uIHx8XG4gICAgICBzcGVsbC5tYWtlc19kdW1iO1xuXG4gICAgaWYgKHZpY3RpbUNoYXIuYm9keS5kZWFkICYmIHJlcXVpcmVzQWxpdmVUYXJnZXQpIHtcbiAgICAgIGNhc3RlckNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiVGhlIHRhcmdldCBpcyBkZWFkIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNBdHRhY2tTcGVsbCAmJiBjYXN0ZXJDaGFyID09PSB2aWN0aW1DaGFyKSB7XG4gICAgICBjYXN0ZXJDaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBjYW4ndCBhdHRhY2sgeW91cnNlbGYhXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2aWN0aW1DaGFyLmJvZHkuZGVhZCAmJiBzcGVsbC5yZXN1c2NpdGF0ZXMpIHtcbiAgICAgIHZpY3RpbUNoYXIucmVzdWNpdGF0ZShmYWxzZSk7XG4gICAgICB2aWN0aW1DaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcInt7Y2FzdGVyfX0gcmVzdWNpdGF0ZWQgeW91IVwiLCB7XG4gICAgICAgIGNhc3RlcjogY2FzdGVyQ2hhci5ib2R5Lm5pY2ssXG4gICAgICB9KTtcbiAgICAgIGNhc3RlckNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiWW91IHJlc3VjaXRhdGVkIHt7dmljdGltfX0hXCIsIHtcbiAgICAgICAgdmljdGltOiB2aWN0aW1DaGFyLmJvZHkubmljayxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzcGVsbC5tYWtlc19pbnZpc2libGUpIHtcbiAgICAgIHNldEludmlzaWJsZSh2aWN0aW1DaGFyKTtcblxuICAgICAgdmljdGltQ2hhci5zZW5kQ29uc29sZU1lc3NhZ2UoXCJ7e2Nhc3Rlcn19IG1hZGUgeW91IGludmlzaWJsZSFcIiwge1xuICAgICAgICBjYXN0ZXI6IGNhc3RlckNoYXIuYm9keS5uaWNrLFxuICAgICAgfSk7XG4gICAgICBjYXN0ZXJDaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBtYWRlIHt7dmljdGltfX0gaW52aXNpYmxlIVwiLCB7XG4gICAgICAgIHZpY3RpbTogdmljdGltQ2hhci5ib2R5Lm5pY2ssXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoc3BlbGwubWFrZXNfcGFyYWxpemVkIHx8IHNwZWxsLm1ha2VzX3N0aWxsKSB7XG4gICAgICBzZXRQYXJhbHl6ZWQodmljdGltQ2hhcik7XG4gICAgICB2aWN0aW1DaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcInt7Y2FzdGVyfX0gcGFyYWx5emVkIHlvdSFcIiwge1xuICAgICAgICBjYXN0ZXI6IGNhc3RlckNoYXIuYm9keS5uaWNrLFxuICAgICAgfSk7XG4gICAgICBjYXN0ZXJDaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBwYXJhbHl6ZWQge3t2aWN0aW19fSFcIiwge1xuICAgICAgICB2aWN0aW06IHZpY3RpbUNoYXIuYm9keS5uaWNrLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gaWYgKHNwZWxsLm1ha2VzX2JsaW5kICYmIHZpY3RpbS4gIT0gMCkge1xuICAgIC8vICAgdmljdGltLnBvaXNvbmVkVGltZXIgPSAtMTtcbiAgICAvLyB9XG5cbiAgICBpZiAoc3BlbGwucmVtb3Zlc19wYXJhbHlzaXMpIHtcbiAgICAgIGlmIChzZXRGcmVlKHZpY3RpbUNoYXIpKSB7XG4gICAgICAgIHZpY3RpbUNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwie3tjYXN0ZXJ9fSByZW1vdmVkIHlvdXIgcGFyYWx5c2lzIVwiLCB7XG4gICAgICAgICAgY2FzdGVyOiBjYXN0ZXJDaGFyLmJvZHkubmljayxcbiAgICAgICAgfSk7XG4gICAgICAgIGNhc3RlckNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiWW91IHJlbW92ZWQge3t2aWN0aW19fSBwYXJhbHlzaXMhXCIsIHtcbiAgICAgICAgICB2aWN0aW06IHZpY3RpbUNoYXIuYm9keS5uaWNrLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3BlbGwucmVtb3Zlc19pbnZpc2liaWxpdHkpIHtcbiAgICAgIGlmIChzZXRWaXNpYmxlKHZpY3RpbUNoYXIpKSB7XG4gICAgICAgIHZpY3RpbUNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwie3tjYXN0ZXJ9fSByZW1vdmVkIHlvdXIgaW52aXNpYmlsaXR5IVwiLCB7XG4gICAgICAgICAgY2FzdGVyOiBjYXN0ZXJDaGFyLmJvZHkubmljayxcbiAgICAgICAgfSk7XG4gICAgICAgIGNhc3RlckNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiWW91IG1hZGUge3t2aWN0aW19fSB2aXNpYmxlIVwiLCB7XG4gICAgICAgICAgdmljdGltOiB2aWN0aW1DaGFyLmJvZHkubmljayxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNwZWxsLmluY3JlYXNlX2hwID09IDEpIHtcbiAgICAgIGNvbnN0IGQgPSBnZXRSYW5kb21JbnRlZ2VyKHNwZWxsLm1pbl9ocCwgc3BlbGwubWF4X2hwKTtcbiAgICAgIHZpY3RpbUNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwie3tjYXN0ZXJ9fSBoZWFsZWQgeW91IGJ5IHtkfSBwb2ludHMhXCIsIHtcbiAgICAgICAgZDogZC50b1N0cmluZygpLFxuICAgICAgICBjYXN0ZXI6IGNhc3RlckNoYXIuYm9keS5uaWNrLFxuICAgICAgfSk7XG4gICAgICBjYXN0ZXJDaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcIllvdSBoZWFsZWQge3t2aWN0aW19fSFcIiwge1xuICAgICAgICB2aWN0aW06IHZpY3RpbUNoYXIuYm9keS5uaWNrLFxuICAgICAgfSk7XG4gICAgICB2aWN0aW1DaGFyLnN0YXRzLm1pbkhwID0gTWF0aC5taW4oXG4gICAgICAgIHZpY3RpbUNoYXIuc3RhdHMubWluSHAgKyBkLFxuICAgICAgICB2aWN0aW1DaGFyLnN0YXRzLm1heEhwXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoc3BlbGwuaW5jcmVhc2VfaHAgPT0gLTEpIHtcbiAgICAgIGNvbnN0IGNhc3RlckludmVudG9yeSA9IGNhc3RlckNoYXIuaW52ZW50b3J5O1xuICAgICAgY29uc3QgdmljdGltSW52ZW50b3J5ID0gdmljdGltQ2hhci5pbnZlbnRvcnk7XG5cbiAgICAgIGNvbnN0IGNhc3RlclJpbmcgPVxuICAgICAgICBjYXN0ZXJJbnZlbnRvcnkgJiYgY2FzdGVySW52ZW50b3J5LmdldEl0ZW0oSW52ZW50b3J5U2xvdHMuUmluZyk7XG4gICAgICBjb25zdCB2aWN0aW1SaW5nID1cbiAgICAgICAgdmljdGltSW52ZW50b3J5ICYmIHZpY3RpbUludmVudG9yeS5nZXRJdGVtKEludmVudG9yeVNsb3RzLlJpbmcpO1xuICAgICAgY29uc3QgdmljdGltSGVsbWV0ID1cbiAgICAgICAgdmljdGltSW52ZW50b3J5ICYmIHZpY3RpbUludmVudG9yeS5nZXRJdGVtKEludmVudG9yeVNsb3RzLkhlYWQpO1xuXG4gICAgICBsZXQgZGFtYWdlID0gZ2V0UmFuZG9tSW50ZWdlcihzcGVsbC5taW5faHAsIHNwZWxsLm1heF9ocCk7XG5cbiAgICAgIGlmIChjYXN0ZXJDaGFyLmJvZHkuY2hhckNsYXNzID09PSBDaGFyQ2xhc3MuTWFnZSkge1xuICAgICAgICBjb25zdCB3ZWFwb24gPSBnZXRDaGFyV2VhcG9uKGNhc3RlckNoYXIpO1xuICAgICAgICBpZiAod2VhcG9uKSB7XG4gICAgICAgICAgZGFtYWdlICo9IDEgKyB3ZWFwb24uc3RhZmZfZGFtYWdlX2JvbnVzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjYXN0ZXJSaW5nICYmIGNhc3RlclJpbmcuaXRlbS5vYmplY3RfdHlwZSA9PSBPYmplY3RUeXBlcy5SaW5nKSB7XG4gICAgICAgIGRhbWFnZSAqPSAxICsgY2FzdGVyUmluZy5pdGVtLnN0YWZmX2RhbWFnZV9ib251cztcbiAgICAgIH1cblxuICAgICAgaWYgKHZpY3RpbVJpbmcgJiYgdmljdGltUmluZy5pdGVtLm9iamVjdF90eXBlID09IE9iamVjdFR5cGVzLlJpbmcpIHtcbiAgICAgICAgZGFtYWdlIC09XG4gICAgICAgICAgZGFtYWdlICpcbiAgICAgICAgICBnZXRSYW5kb21JbnRlZ2VyKFxuICAgICAgICAgICAgdmljdGltUmluZy5pdGVtLm1pbl9tYWdpY2FsX2RlZmVuc2UsXG4gICAgICAgICAgICB2aWN0aW1SaW5nLml0ZW0ubWF4X21hZ2ljYWxfZGVmZW5zZVxuICAgICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2aWN0aW1IZWxtZXQgJiYgdmljdGltSGVsbWV0Lml0ZW0ub2JqZWN0X3R5cGUgPT0gT2JqZWN0VHlwZXMuSGVsbWV0KSB7XG4gICAgICAgIGRhbWFnZSAtPVxuICAgICAgICAgIGRhbWFnZSAqXG4gICAgICAgICAgZ2V0UmFuZG9tSW50ZWdlcihcbiAgICAgICAgICAgIHZpY3RpbUhlbG1ldC5pdGVtLm1pbl9tYWdpY2FsX2RlZmVuc2UsXG4gICAgICAgICAgICB2aWN0aW1IZWxtZXQuaXRlbS5tYXhfbWFnaWNhbF9kZWZlbnNlXG4gICAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgZGFtYWdlID0gTWF0aC5tYXgoZGFtYWdlLCAwKTtcblxuICAgICAgc2VuZERhbWFnZShjYXN0ZXJDaGFyLCB2aWN0aW1DaGFyLCBkYW1hZ2UpO1xuICAgIH1cblxuICAgIGlmIChzcGVsbC5pbmNyZWFzZV9tYW5hID09IDEpIHtcbiAgICAgIGNvbnN0IGQgPSBnZXRSYW5kb21JbnRlZ2VyKHNwZWxsLm1pbl9tYW5hLCBzcGVsbC5tYXhfbWFuYSk7XG4gICAgICB2aWN0aW1DaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcbiAgICAgICAgXCJ7e2Nhc3Rlcn19IGluY3JlYXNlZCB5b3VyIG1hbmEgYnkge2R9IHBvaW50cyFcIixcbiAgICAgICAgeyBkOiBkLnRvU3RyaW5nKCkgfVxuICAgICAgKTtcbiAgICAgIHZpY3RpbUNoYXIuc3RhdHMubWluTWFuYSA9IE1hdGgubWluKFxuICAgICAgICB2aWN0aW1DaGFyLnN0YXRzLm1pbk1hbmEgKyBkLFxuICAgICAgICB2aWN0aW1DaGFyLnN0YXRzLm1heE1hbmFcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChzcGVsbC5pbmNyZWFzZV9tYW5hID09IC0xKSB7XG4gICAgICBjb25zdCBkID0gZ2V0UmFuZG9tSW50ZWdlcihzcGVsbC5taW5fbWFuYSwgc3BlbGwubWF4X21hbmEpO1xuICAgICAgdmljdGltQ2hhci5zZW5kQ29uc29sZU1lc3NhZ2UoXCJ7e2Nhc3Rlcn19IHRvb2sge2R9IG1hbmEgZnJvbSB5b3UhXCIsIHtcbiAgICAgICAgZDogZC50b1N0cmluZygpLFxuICAgICAgfSk7XG4gICAgICB2aWN0aW1DaGFyLnN0YXRzLm1pbk1hbmEgPSBNYXRoLm1heCh2aWN0aW1DaGFyLnN0YXRzLm1pbk1hbmEgLSBkLCAwKTtcbiAgICB9XG5cbiAgICBzdG9wTWVkaXRhdGluZyh2aWN0aW1DaGFyKTtcblxuICAgIGlmIChzcGVsbC5taW1ldGlzbSkge1xuICAgICAgY2FzdGVyQ2hhci5ib2R5Lm1pbWV0aXNtID0gdmljdGltQ2hhci5ib2R5O1xuICAgICAgY2FzdGVyQ2hhci5nZXRDb21wb25lbnRPckNyZWF0ZShNaW1ldGlzbSkucmVzdGFydCgpO1xuICAgICAgdmljdGltQ2hhci5zZW5kQ29uc29sZU1lc3NhZ2UoXCJ7e2Nhc3Rlcn19IG1pbWV0aXplZCB3aXRoIHlvdSFcIiwge1xuICAgICAgICBjYXN0ZXI6IGNhc3RlckNoYXIuYm9keS5uaWNrLFxuICAgICAgfSk7XG4gICAgICBjYXN0ZXJDaGFyLnNlbmRDb25zb2xlTWVzc2FnZShcbiAgICAgICAgXCJZb3Ugc3RvbGUgdGhlIGFwYXJpZW5jZSBmcm9tIHt7dmljdGltfX0hXCIsXG4gICAgICAgIHsgdmljdGltOiB2aWN0aW1DaGFyLmJvZHkubmljayB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuc3BlbGxDYXN0ZXJFZmZlY3QoY2FzdGVyQ2hhciwgc3BlbGwpO1xuXG4gICAgaWYgKHNwZWxsLmZ4KSB7XG4gICAgICB2aWN0aW1DaGFyLmdldENvbXBvbmVudE9yQ3JlYXRlKEZ4KS5zZXQoc3BlbGwuZngsIDEpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIE1hcEJsb2NrIHtcbiAgYmxvY2tlZDogbnVtYmVyID0gMDtcbn1cblxuQENvbXBvbmVudChcIm1hcERhdGFcIilcbmV4cG9ydCBjbGFzcyBNYXBEYXRhIHtcbiAgd2lkdGg6IG51bWJlciA9IDYgKiA0O1xuICBoZWlnaHQ6IG51bWJlciA9IDQgKiA0O1xuICBibG9ja3M6IE1hcEJsb2NrW11bXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBtYXBJZDogc3RyaW5nKSB7XG4gICAgaWYgKCFtYXBJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIE1hcERhdGEgd2l0aG91dCBhIG1hcElkXCIpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWQoKSB7XG4gICAgLy8gdGhpcy5zaGFIYXNoID0gbWFwLmdldEhhc2goKTtcbiAgICB0aGlzLmJsb2NrcyA9IFtdO1xuICAgIC8vIHRoaXMud2lkdGggPSBtYXAuZ2V0V2lkdGgoKTtcbiAgICAvLyAvLyB0aGlzLmhlaWdodCA9IG1hcC5nZXRIZWlnaHQoKTtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMud2lkdGg7IHgrKykge1xuICAgICAgdmFyIHJvdzogTWFwQmxvY2tbXSA9IFtdO1xuICAgICAgdGhpcy5ibG9ja3MucHVzaChyb3cpO1xuICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gbmV3IE1hcEJsb2NrKCk7XG4gICAgICAgIGJsb2NrLmJsb2NrZWQgPSAwOyAvLyAxIHwgMiB8IDQgfCA4OyAvLyBibG9jayBhbGwgZGlyZWN0aW9uc1xuICAgICAgICByb3cucHVzaChibG9jayk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGNvbnN0IHRpbGVzID0gbWFwLmdldFRpbGVzTGlzdCgpO1xuICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgdGlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAvLyAgIGNvbnN0IHRpbGUgPSB0aWxlc1tpXTtcbiAgICAvLyAgIGNvbnN0IGJsb2NrID0gdGhpcy5ibG9ja3NbdGlsZS5nZXRYKCldW3RpbGUuZ2V0WSgpXTtcbiAgICAvLyAgIGJsb2NrLmJsb2NrZWQgPSB0aWxlLmdldEJsb2NrZWQoKTtcbiAgICAvLyB9XG4gIH1cblxuICBpc1dhbGthYmxlVGlsZSh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGJsb2NrID0gdGhpcy5nZXRCbG9jayh4LCB5KTtcbiAgICBpZiAoYmxvY2spIHtcbiAgICAgIGlmIChibG9jay5ibG9ja2VkID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBnZXRCbG9jayh4OiBudW1iZXIsIHk6IG51bWJlcik6IE1hcEJsb2NrIHwgbnVsbCB7XG4gICAgaWYgKCF0aGlzLmJsb2Nrc1t4XSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKCF0aGlzLmJsb2Nrc1t4XVt5XSkgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2tzW3hdW3ldO1xuICB9XG5cbiAgKmZpbmRXYWxrYWJsZVRpbGUoKSB7XG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLndpZHRoOyB4KyspIHtcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5oZWlnaHQ7IHkrKykge1xuICAgICAgICBpZiAodGhpcy5pc1dhbGthYmxlVGlsZSh4LCB5KSkge1xuICAgICAgICAgIHlpZWxkIHsgeCwgeSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgKmZpbmRSZXZlcnNlV2Fsa2FibGVUaWxlKCkge1xuICAgIGZvciAobGV0IHggPSB0aGlzLndpZHRoOyB4ID49IDA7IHgtLSkge1xuICAgICAgZm9yIChsZXQgeSA9IHRoaXMuaGVpZ2h0OyB5ID49IDA7IHktLSkge1xuICAgICAgICBpZiAodGhpcy5pc1dhbGthYmxlVGlsZSh4LCB5KSkge1xuICAgICAgICAgIHlpZWxkIHsgeCwgeSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb25uZWN0aW9uLCBzZW5kTWVzc2FnZU9ic2VydmFibGUgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Db25uZWN0aW9uXCI7XG5pbXBvcnQgdHlwZSB7IE91dGdvaW5nTWVzc2FnZXMgfSBmcm9tIFwiQGFyZHV6L0Nvbm5lY3Rpb25zXCI7XG5pbXBvcnQgeyBXb3JsZFBvc2l0aW9uIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvV29ybGRQb3NpdGlvblwiO1xuaW1wb3J0IHsgQm9keSwgREVBRF9IRUFELCBERUFEX0JPRFkgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Cb2R5XCI7XG5pbXBvcnQgeyBNYXBEYXRhIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvTWFwRGF0YVwiO1xuaW1wb3J0IHsgSGVhZGluZ0NvbXBvbmVudCB9IGZyb20gXCIuLi9Db21wb25lbnRzL0hlYWRpbmdcIjtcbmltcG9ydCB7IEZ4IH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvRnhcIjtcbmltcG9ydCB7IENoYXJTdGF0dXMgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9DaGFyU3RhdHVzXCI7XG5cbmV4cG9ydCBjbGFzcyBHYW1lTWFwU3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIHByaXZhdGUgbWFwRW50aXRpZXMhOiBDb21wb25lbnRHcm91cDtcbiAgbWFwRW50aXRpZXNXaXRoRWZmZWN0ITogQ29tcG9uZW50R3JvdXA7XG4gIHByaXZhdGUgY29ubmVjdGVkRW50aXRpZXMhOiBDb21wb25lbnRHcm91cDtcblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgcHJpdmF0ZSBhZGRFbnRpdHlXaXRoRnggPSAoZW50aXR5OiBJRW50aXR5KSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFdvcmxkUG9zaXRpb24pO1xuICAgIGNvbnN0IGZ4ID0gZW50aXR5LmdldENvbXBvbmVudChGeCk7XG4gICAgdGhpcy5zZW5kVG9BcmVhKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIFtcbiAgICAgIHsgRng6IHsgZW50aXR5SWQ6IGVudGl0eS51dWlkLCBmeDogZnguZngsIGxvb3BzOiBmeC5sb29wcyB9IH0sXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSByZW1vdmVFbnRpdHlXaXRoRnggPSAoZW50aXR5OiBJRW50aXR5KSA9PiB7XG4gICAgY29uc3QgcG9zaXRpb24gPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFdvcmxkUG9zaXRpb24pO1xuICAgIHRoaXMuc2VuZFRvQXJlYShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBbXG4gICAgICB7IEZ4OiB7IGVudGl0eUlkOiBlbnRpdHkudXVpZCwgZng6IDAsIGxvb3BzOiAwIH0gfSxcbiAgICBdKTtcbiAgfTtcblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIHRoaXMubWFwRW50aXRpZXMgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoV29ybGRQb3NpdGlvbik7XG4gICAgdGhpcy5tYXBFbnRpdGllc1dpdGhFZmZlY3QgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoXG4gICAgICB7XG4gICAgICAgIG9uQWRkRW50aXR5OiB0aGlzLmFkZEVudGl0eVdpdGhGeCxcbiAgICAgICAgb25SZW1vdmVFbnRpdHk6IHRoaXMucmVtb3ZlRW50aXR5V2l0aEZ4LFxuICAgICAgfSxcbiAgICAgIFdvcmxkUG9zaXRpb24sXG4gICAgICBGeFxuICAgICk7XG4gICAgdGhpcy5jb25uZWN0ZWRFbnRpdGllcyA9IGVuZ2luZS5nZXRDb21wb25lbnRHcm91cChcbiAgICAgIFdvcmxkUG9zaXRpb24sXG4gICAgICBDb25uZWN0aW9uXG4gICAgKTtcblxuICAgIGxvZyhcIkdhbWVNYXBTeXN0ZW0gc3RhcnRlZFwiKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBmb3IgKGxldCB7IGVudGl0eSwgcG9zaXRpb24gfSBvZiB0aGlzLmVudGl0aWVzKCkpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLnByZXNlbnRFbnRpdHkoZW50aXR5LCBmYWxzZSk7XG5cbiAgICAgIGlmIChwb3NpdGlvbi5vdXRnb2luZ0FyZWFCdXRNZU1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBjb25uID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChDb25uZWN0aW9uKTtcbiAgICAgICAgaWYgKGNvbm4pIHtcbiAgICAgICAgICB0aGlzLnNlbmRUb0FyZWFCdXQoXG4gICAgICAgICAgICBwb3NpdGlvbi54LFxuICAgICAgICAgICAgcG9zaXRpb24ueSxcbiAgICAgICAgICAgIHBvc2l0aW9uLm91dGdvaW5nQXJlYUJ1dE1lTWVzc2FnZXMsXG4gICAgICAgICAgICBjb25uLmNvbm5lY3Rpb25JZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZW5kVG9BcmVhKFxuICAgICAgICAgICAgcG9zaXRpb24ueCxcbiAgICAgICAgICAgIHBvc2l0aW9uLnksXG4gICAgICAgICAgICBwb3NpdGlvbi5vdXRnb2luZ0FyZWFCdXRNZU1lc3NhZ2VzXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwb3NpdGlvbi5vdXRnb2luZ0FyZWFCdXRNZU1lc3NhZ2VzLmxlbmd0aCA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRoaXMuc2VuZFRvQXJlYShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBbXG4gICAgICAgICAgZGF0YSxcbiAgICAgICAgICAuLi5wb3NpdGlvbi5vdXRnb2luZ0FyZWFNZXNzYWdlcyxcbiAgICAgICAgXSk7XG4gICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uLm91dGdvaW5nQXJlYU1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlbmRUb0FyZWEocG9zaXRpb24ueCwgcG9zaXRpb24ueSwgcG9zaXRpb24ub3V0Z29pbmdBcmVhTWVzc2FnZXMpO1xuICAgICAgfVxuXG4gICAgICBwb3NpdGlvbi5vdXRnb2luZ0FyZWFNZXNzYWdlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGxvYWQobWFwSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IG5ld01hcERhdGEgPSBuZXcgTWFwRGF0YShtYXBJZCk7XG5cbiAgICBhd2FpdCBuZXdNYXBEYXRhLmxvYWQoKTtcblxuICAgIGVuZ2luZS5yb290RW50aXR5LmFkZENvbXBvbmVudE9yUmVwbGFjZShuZXdNYXBEYXRhKTtcbiAgfVxuXG4gIHByaXZhdGUgKmVudGl0aWVzKCkge1xuICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLm1hcEVudGl0aWVzLmVudGl0aWVzKSB7XG4gICAgICB5aWVsZCB7XG4gICAgICAgIGVudGl0eSxcbiAgICAgICAgcG9zaXRpb246IGVudGl0eS5nZXRDb21wb25lbnQoV29ybGRQb3NpdGlvbiksXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJlc2VudEVudGl0eShcbiAgICBlbnRpdHk6IElFbnRpdHksXG4gICAgZm9yY2U6IHRydWVcbiAgKTogUGFydGlhbDxPdXRnb2luZ01lc3NhZ2VzPjtcbiAgcHJpdmF0ZSBwcmVzZW50RW50aXR5KFxuICAgIGVudGl0eTogSUVudGl0eSxcbiAgICBmb3JjZTogZmFsc2VcbiAgKTogUGFydGlhbDxPdXRnb2luZ01lc3NhZ2VzPiB8IG51bGw7XG4gIHByaXZhdGUgcHJlc2VudEVudGl0eShcbiAgICBlbnRpdHk6IElFbnRpdHksXG4gICAgZm9yY2UgPSBmYWxzZVxuICApOiBQYXJ0aWFsPE91dGdvaW5nTWVzc2FnZXM+IHwgbnVsbCB7XG4gICAgbGV0IGhhc0NvbnRlbnQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHBvc2l0aW9uID0gZW50aXR5LmdldENvbXBvbmVudChXb3JsZFBvc2l0aW9uKTtcbiAgICBjb25zdCBib2R5ID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChCb2R5KTtcbiAgICBjb25zdCBoZWFkaW5nID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChIZWFkaW5nQ29tcG9uZW50KTtcbiAgICBjb25zdCBmeCA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoRngpO1xuICAgIGNvbnN0IHN0YXR1cyA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoQ2hhclN0YXR1cyk7XG5cbiAgICBjb25zdCByZXQ6IFBhcnRpYWw8T3V0Z29pbmdNZXNzYWdlcz4gPSB7fTtcblxuICAgIGlmIChib2R5ICYmIChmb3JjZSB8fCBib2R5LmRpcnR5KSkge1xuICAgICAgaWYgKGJvZHkuZGVhZCkge1xuICAgICAgICByZXQuU2V0Qm9keSA9IHtcbiAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LnV1aWQsXG4gICAgICAgICAgYm9keTogREVBRF9CT0RZLFxuICAgICAgICAgIGNvbG9yOiBib2R5LmNvbG9yLFxuICAgICAgICAgIGRlYWQ6IGJvZHkuZGVhZCxcbiAgICAgICAgICBoZWFkOiBERUFEX0hFQUQsXG4gICAgICAgICAgaGVsbWV0OiAwLFxuICAgICAgICAgIGlzTGVmdEhhbmRXZWFwb246IGJvZHkuaXNMZWZ0SGFuZFdlYXBvbixcbiAgICAgICAgICBpc1JpZ2h0SGFuZFdlYXBvbjogYm9keS5pc1JpZ2h0SGFuZFdlYXBvbixcbiAgICAgICAgICBsZWZ0SGFuZDogMCxcbiAgICAgICAgICBuaWNrOiBib2R5Lm5pY2ssXG4gICAgICAgICAgcmlnaHRIYW5kOiAwLFxuICAgICAgICAgIHNwZWVkOiBib2R5LnNwZWVkICogMS41LFxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0LlNldEJvZHkgPSB7XG4gICAgICAgICAgZW50aXR5SWQ6IGVudGl0eS51dWlkLFxuICAgICAgICAgIGJvZHk6IGJvZHkuYm9keSxcbiAgICAgICAgICBjb2xvcjogYm9keS5jb2xvcixcbiAgICAgICAgICBkZWFkOiBib2R5LmRlYWQsXG4gICAgICAgICAgaGVhZDogYm9keS5oZWFkLFxuICAgICAgICAgIGhlbG1ldDogYm9keS5oZWxtZXQsXG4gICAgICAgICAgaXNMZWZ0SGFuZFdlYXBvbjogYm9keS5pc0xlZnRIYW5kV2VhcG9uLFxuICAgICAgICAgIGlzUmlnaHRIYW5kV2VhcG9uOiBib2R5LmlzUmlnaHRIYW5kV2VhcG9uLFxuICAgICAgICAgIGxlZnRIYW5kOiBib2R5LmxlZnRIYW5kLFxuICAgICAgICAgIG5pY2s6IGJvZHkubmljayxcbiAgICAgICAgICByaWdodEhhbmQ6IGJvZHkucmlnaHRIYW5kLFxuICAgICAgICAgIHNwZWVkOiBib2R5LnNwZWVkLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JjZSkgYm9keS5kaXJ0eSA9IGZhbHNlO1xuICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uICYmIChmb3JjZSB8fCBwb3NpdGlvbi5kaXJ0eSkpIHtcbiAgICAgIHJldC5VcGRhdGVQb3NpdGlvbiA9IHtcbiAgICAgICAgZW50aXR5SWQ6IGVudGl0eS51dWlkLFxuICAgICAgICB4OiBwb3NpdGlvbi54LFxuICAgICAgICB5OiBwb3NpdGlvbi55LFxuICAgICAgfTtcbiAgICAgIGlmICghZm9yY2UpIHBvc2l0aW9uLmRpcnR5ID0gZmFsc2U7XG4gICAgICBoYXNDb250ZW50ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoaGVhZGluZyAmJiAoZm9yY2UgfHwgaGVhZGluZy5kaXJ0eSkpIHtcbiAgICAgIHJldC5TZXRIZWFkaW5nID0geyBlbnRpdHlJZDogZW50aXR5LnV1aWQsIGhlYWRpbmc6IGhlYWRpbmcuaGVhZGluZyB9O1xuICAgICAgaWYgKCFmb3JjZSkgaGVhZGluZy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGZ4ICYmIChmb3JjZSB8fCBmeC5kaXJ0eSkpIHtcbiAgICAgIHJldC5GeCA9IHsgZW50aXR5SWQ6IGVudGl0eS51dWlkLCBmeDogZnguZngsIGxvb3BzOiBmeC5sb29wcyB9O1xuICAgICAgaWYgKCFmb3JjZSkgZnguZGlydHkgPSBmYWxzZTtcbiAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChzdGF0dXMgJiYgKGZvcmNlIHx8IHN0YXR1cy5kaXJ0eSkpIHtcbiAgICAgIHJldC5TdGF0dXMgPSB7XG4gICAgICAgIGVudGl0eUlkOiBlbnRpdHkudXVpZCxcbiAgICAgICAgcGFyYWx5emVkOiBzdGF0dXMucGFyYWx5emVkLFxuICAgICAgICBpbnZpc2libGU6IHN0YXR1cy5pbnZpc2libGUsXG4gICAgICAgIGR1bWI6IHN0YXR1cy5kdW1iLFxuICAgICAgICBibGluZDogc3RhdHVzLmJsaW5kLFxuICAgICAgfTtcbiAgICAgIGlmICghZm9yY2UpIHN0YXR1cy5kaXJ0eSA9IGZhbHNlO1xuICAgICAgaGFzQ29udGVudCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhhc0NvbnRlbnQgPyByZXQgOiBudWxsO1xuICB9XG5cbiAgb25BZGRFbnRpdHkoZW50aXR5OiBFbnRpdHkpIHtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGVudGl0eS5nZXRDb21wb25lbnRPckNyZWF0ZShXb3JsZFBvc2l0aW9uKTtcbiAgICBjb25zdCBtYXAgPSBlbmdpbmUucm9vdEVudGl0eS5nZXRDb21wb25lbnRPck51bGwoTWFwRGF0YSk7XG5cbiAgICBpZiAoIW1hcCkge1xuICAgICAgZXJyb3IoXCJNYXAgZGF0YSBub3QgcHJlc2VudCBpbiByb290RW50aXR5XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgeCwgeSB9ID0gcG9zaXRpb247XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoQ29ubmVjdGlvbik7XG5cbiAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgY29uc3QgeyBjb25uZWN0aW9uSWQgfSA9IGNvbm5lY3Rpb247XG4gICAgICAvLyB0ZWxsIHRoZSB1c2VyIHdoaWNoIGNoYXJhY3RlciB0aGV5IGNvbnRyb2xcbiAgICAgIHNlbmRNZXNzYWdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe1xuICAgICAgICBjb25uZWN0aW9uSWRzOiBbY29ubmVjdGlvbklkXSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIExvYWRNYXA6IHsgbWFwOiBtYXAubWFwSWQgfSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBzZW5kIGFsbCB0aGUgZW50aXRpZXMgaW4gdGhlIG1hcCB0byB0aGUgcGxheWVyXG4gICAgICBmb3IgKHZhciBwIG9mIHRoaXMubWFwRW50aXRpZXMuZW50aXRpZXMpIHtcbiAgICAgICAgc2VuZE1lc3NhZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7XG4gICAgICAgICAgY29ubmVjdGlvbklkczogW2Nvbm5lY3Rpb25JZF0sXG4gICAgICAgICAgZGF0YTogdGhpcy5wcmVzZW50RW50aXR5KHAsIHRydWUpLFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gc2VuZCB0aGUgZW50aXR5IHRvIGFsbCB0aGUgY29ubmVjdGlvbnMgYnV0IHRoZW0sIHRoZXkgaGFkIHRoaXMgYWxyZWFkeVxuICAgICAgdGhpcy5zZW5kVG9BcmVhQnV0KFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICBbdGhpcy5wcmVzZW50RW50aXR5KGVudGl0eSwgdHJ1ZSldLFxuICAgICAgICBjb25uZWN0aW9uSWRcbiAgICAgICk7XG5cbiAgICAgIC8vIHRlbGwgdGhlIHVzZXIgd2hpY2ggY2hhcmFjdGVyIHRoZXkgY29udHJvbFxuICAgICAgc2VuZE1lc3NhZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7XG4gICAgICAgIGNvbm5lY3Rpb25JZHM6IFtjb25uZWN0aW9uSWRdLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgU2V0RW50aXR5SWQ6IHsgZW50aXR5SWQ6IGVudGl0eS51dWlkIH0sXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc2VuZCB0aGUgZW50aXR5IHRvIGFsbCB0aGUgY29ubmVjdGlvbnNcbiAgICAgIHRoaXMuc2VuZFRvQXJlYSh4LCB5LCBbdGhpcy5wcmVzZW50RW50aXR5KGVudGl0eSwgdHJ1ZSldKTtcbiAgICB9XG4gIH1cblxuICBvblJlbW92ZUVudGl0eShlbnRpdHk6IEVudGl0eSkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChXb3JsZFBvc2l0aW9uKTtcblxuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgY29uc3QgeyB4LCB5IH0gPSBwb3NpdGlvbjtcbiAgICAgIHRoaXMuc2VuZFRvQXJlYSh4LCB5LCBbeyBSZW1vdmVFbnRpdHk6IHsgZW50aXR5SWQ6IGVudGl0eS51dWlkIH0gfV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbmRUb0FsbChbeyBSZW1vdmVFbnRpdHk6IHsgZW50aXR5SWQ6IGVudGl0eS51dWlkIH0gfV0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2VuZFRvQXJlYUJ1dChcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIGRhdGFDaHVua3M6IEFycmF5PFBhcnRpYWw8T3V0Z29pbmdNZXNzYWdlcz4+LFxuICAgIGNvbm5lY3Rpb25JZDogc3RyaW5nLFxuICAgIHJlbGlhYmxlID0gdHJ1ZVxuICApIHtcbiAgICBjb25zdCBjb25uZWN0aW9uSWRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgZSBvZiB0aGlzLmNvbm5lY3RlZEVudGl0aWVzLmVudGl0aWVzKSB7XG4gICAgICBjb25zdCBjb25uID0gZS5nZXRDb21wb25lbnQoQ29ubmVjdGlvbik7XG5cbiAgICAgIC8vIFRPRE8gYXJlYSB2YWxpZGF0aW9uc1xuXG4gICAgICBpZiAoY29ubi5jb25uZWN0aW9uSWQgIT09IGNvbm5lY3Rpb25JZCkge1xuICAgICAgICBjb25uZWN0aW9uSWRzLnB1c2goY29ubi5jb25uZWN0aW9uSWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGRhdGEgb2YgZGF0YUNodW5rcykge1xuICAgICAgc2VuZE1lc3NhZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7IGNvbm5lY3Rpb25JZHMsIGRhdGEsIHJlbGlhYmxlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2VuZFRvQXJlYShcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIGRhdGFDaHVua3M6IEFycmF5PFBhcnRpYWw8T3V0Z29pbmdNZXNzYWdlcz4+LFxuICAgIHJlbGlhYmxlID0gdHJ1ZVxuICApIHtcbiAgICBjb25zdCBjb25uZWN0aW9uSWRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgZSBvZiB0aGlzLmNvbm5lY3RlZEVudGl0aWVzLmVudGl0aWVzKSB7XG4gICAgICAvLyBUT0RPIGFyZWEgdmFsaWRhdGlvbnNcbiAgICAgIGNvbm5lY3Rpb25JZHMucHVzaChlLmdldENvbXBvbmVudChDb25uZWN0aW9uKS5jb25uZWN0aW9uSWQpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGRhdGEgb2YgZGF0YUNodW5rcykge1xuICAgICAgc2VuZE1lc3NhZ2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7IGNvbm5lY3Rpb25JZHMsIGRhdGEsIHJlbGlhYmxlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2VuZFRvQWxsKFxuICAgIGRhdGFDaHVua3M6IEFycmF5PFBhcnRpYWw8T3V0Z29pbmdNZXNzYWdlcz4+LFxuICAgIHJlbGlhYmxlID0gdHJ1ZVxuICApIHtcbiAgICBjb25zdCBjb25uZWN0aW9uSWRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZm9yIChsZXQgZSBvZiB0aGlzLmNvbm5lY3RlZEVudGl0aWVzLmVudGl0aWVzKSB7XG4gICAgICBjb25uZWN0aW9uSWRzLnB1c2goZS5nZXRDb21wb25lbnQoQ29ubmVjdGlvbikuY29ubmVjdGlvbklkKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBkYXRhIG9mIGRhdGFDaHVua3MpIHtcbiAgICAgIHNlbmRNZXNzYWdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyBjb25uZWN0aW9uSWRzLCBkYXRhLCByZWxpYWJsZSB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Db25uZWN0aW9uXCI7XG5pbXBvcnQgeyBXb3JsZFBvc2l0aW9uLCBlbnRpdGllc0luUG9zaXRpb24gfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Xb3JsZFBvc2l0aW9uXCI7XG5pbXBvcnQgeyBoZWFkVG9Qb3MgfSBmcm9tIFwiLi4vQXRvbWljSGVscGVycy9IZWFkVG9Qb3NcIjtcbmltcG9ydCB7IFdhbGtpbmcgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9XYWxraW5nXCI7XG5pbXBvcnQgeyBNYXBEYXRhIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvTWFwRGF0YVwiO1xuaW1wb3J0IHsgZ2V0UmFuZG9tSW50ZWdlciB9IGZyb20gXCIuLi9BdG9taWNIZWxwZXJzL051bWJlcnNcIjtcbmltcG9ydCB7IFRpbWVycyB9IGZyb20gXCIuLi9Db21wb25lbnRzL1RpbWVyc1wiO1xuaW1wb3J0IHsgaXNQYXJhbHl6ZWQgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9QYXJhbHlzaXNcIjtcbmltcG9ydCB7IEhlYWRpbmcgfSBmcm9tIFwiLi4vRW51bXNcIjtcblxuZXhwb3J0IGNsYXNzIFdhbGtpbmdTeXN0ZW0gaW1wbGVtZW50cyBJU3lzdGVtIHtcbiAgcHJpdmF0ZSB3YWxraW5nRW50aXRpZXNHcm91cCE6IENvbXBvbmVudEdyb3VwO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIHRoaXMud2Fsa2luZ0VudGl0aWVzR3JvdXAgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoXG4gICAgICBXb3JsZFBvc2l0aW9uLFxuICAgICAgV2Fsa2luZ1xuICAgICk7XG4gICAgbG9nKFwiV2Fsa2luZ1N5c3RlbSBzdGFydGVkXCIpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGZvciAobGV0IHsgZW50aXR5LCBwb3NpdGlvbiwgd2Fsa2luZyB9IG9mIHRoaXMud2Fsa2luZ0VudGl0aWVzKCkpIHtcbiAgICAgIGNvbnN0IHRpbWVycyA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoVGltZXJzKTtcblxuICAgICAgbGV0IGZvcmNlVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIGlmIChpc1BhcmFseXplZChlbnRpdHkpKSB7XG4gICAgICAgIGZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh3YWxraW5nLnRhcmdldCkge1xuICAgICAgICAgIGNvbnN0IG5ld0hlYWRpbmcgPSB0aGlzLmdyZWVkeVdhbGtUbyhcbiAgICAgICAgICAgIHBvc2l0aW9uLngsXG4gICAgICAgICAgICBwb3NpdGlvbi55LFxuICAgICAgICAgICAgd2Fsa2luZy50YXJnZXQueCxcbiAgICAgICAgICAgIHdhbGtpbmcudGFyZ2V0LnlcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXdIZWFkaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgICB3YWxraW5nLmhlYWRpbmcgPSBuZXdIZWFkaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNhblVzZXJNb3ZlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHdhbGtpbmcuaGVhZGluZykpIHtcbiAgICAgICAgICBsZXQgbmV3UG9zID0gaGVhZFRvUG9zKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHdhbGtpbmcuaGVhZGluZyk7XG4gICAgICAgICAgcG9zaXRpb24ueCA9IG5ld1Bvcy54O1xuICAgICAgICAgIHBvc2l0aW9uLnkgPSBuZXdQb3MueTtcblxuICAgICAgICAgIHBvc2l0aW9uLmVucXVldWVTZW5kVG9BcmVhQnV0TWUoe1xuICAgICAgICAgICAgQ2hhck1vdmU6IHtcbiAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eS51dWlkLFxuICAgICAgICAgICAgICB4OiBwb3NpdGlvbi54LFxuICAgICAgICAgICAgICB5OiBwb3NpdGlvbi55LFxuICAgICAgICAgICAgICBoZWFkaW5nOiB3YWxraW5nLmhlYWRpbmcsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcG9zaXRpb24uZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRpbWVycykge1xuICAgICAgICB0aW1lcnMuY2FuV2Fsayh0cnVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZvcmNlVXBkYXRlICYmIGVudGl0eS5oYXNDb21wb25lbnQoQ29ubmVjdGlvbikpIHtcbiAgICAgICAgcG9zaXRpb24uZW5xdWV1ZVNlbmRUb0FyZWEoe1xuICAgICAgICAgIFVwZGF0ZVBvc2l0aW9uOiB7XG4gICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LnV1aWQsXG4gICAgICAgICAgICB4OiBwb3NpdGlvbi54LFxuICAgICAgICAgICAgeTogcG9zaXRpb24ueSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZW50aXR5LnJlbW92ZUNvbXBvbmVudChXYWxraW5nKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNhblVzZXJNb3ZlKHg6IG51bWJlciwgeTogbnVtYmVyLCBoZWFkaW5nOiBIZWFkaW5nKSB7XG4gICAgY29uc3QgcG9zID0gaGVhZFRvUG9zKHgsIHksIGhlYWRpbmcpO1xuICAgIGNvbnN0IGJsb2NrID0gdGhpcy5nZXRCbG9jayhwb3MueCwgcG9zLnkpO1xuXG4gICAgaWYgKCFibG9jaykgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGJsb2NrZWQgPSBibG9jay5ibG9ja2VkO1xuICAgIHN3aXRjaCAoaGVhZGluZykge1xuICAgICAgY2FzZSBIZWFkaW5nLk5vcnRoOlxuICAgICAgICByZXR1cm4gMCA9PT0gKGJsb2NrZWQgJiAxKSAmJiB0aGlzLmNhbldhbGtUb1Bvc2l0aW9uKHBvcy54LCBwb3MueSk7XG4gICAgICBjYXNlIEhlYWRpbmcuRWFzdDpcbiAgICAgICAgcmV0dXJuIDAgPT09IChibG9ja2VkICYgMikgJiYgdGhpcy5jYW5XYWxrVG9Qb3NpdGlvbihwb3MueCwgcG9zLnkpO1xuICAgICAgY2FzZSBIZWFkaW5nLlNvdXRoOlxuICAgICAgICByZXR1cm4gMCA9PT0gKGJsb2NrZWQgJiA0KSAmJiB0aGlzLmNhbldhbGtUb1Bvc2l0aW9uKHBvcy54LCBwb3MueSk7XG4gICAgICBjYXNlIEhlYWRpbmcuV2VzdDpcbiAgICAgICAgcmV0dXJuIDAgPT09IChibG9ja2VkICYgOCkgJiYgdGhpcy5jYW5XYWxrVG9Qb3NpdGlvbihwb3MueCwgcG9zLnkpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHByaXZhdGUgY2FuV2Fsa1RvUG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbiAgICBmb3IgKGxldCB7fSBvZiBlbnRpdGllc0luUG9zaXRpb24oeCwgeSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBwcml2YXRlIGdldEJsb2NrKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XG4gICAgY29uc3QgbWFwID0gZW5naW5lLnJvb3RFbnRpdHkuZ2V0Q29tcG9uZW50KE1hcERhdGEpO1xuXG4gICAgaWYgKG1hcCkge1xuICAgICAgcmV0dXJuIG1hcC5nZXRCbG9jayh4LCB5KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgKndhbGtpbmdFbnRpdGllcygpIHtcbiAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy53YWxraW5nRW50aXRpZXNHcm91cC5lbnRpdGllcy5zbGljZSgpKSB7XG4gICAgICB5aWVsZCB7XG4gICAgICAgIGVudGl0eSxcbiAgICAgICAgcG9zaXRpb246IGVudGl0eS5nZXRDb21wb25lbnQoV29ybGRQb3NpdGlvbiksXG4gICAgICAgIHdhbGtpbmc6IGVudGl0eS5nZXRDb21wb25lbnQoV2Fsa2luZyksXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ3JlZWR5V2Fsa1RvKFxuICAgIHNyY1g6IG51bWJlcixcbiAgICBzcmNZOiBudW1iZXIsXG4gICAgZHN0WDogbnVtYmVyLFxuICAgIGRzdFk6IG51bWJlclxuICApOiBIZWFkaW5nIHwgbnVsbCB7XG4gICAgY29uc3QgZHVhbDogbnVtYmVyID0gZ2V0UmFuZG9tSW50ZWdlcigwLCAxMCk7XG5cbiAgICBjb25zdCBkaXJlY3RXYWxrOiBib29sZWFuID1cbiAgICAgIHNyY1ggPT0gZHN0WCAmJiBzcmNZID09IGRzdFkgPyBmYWxzZSA6IGdldFJhbmRvbUludGVnZXIoMCwgNCkgIT0gMDtcblxuICAgIC8vICBMZXZhbnRvIGxhcyBjb29yZGVuYWRhcyBkZWwgZGVzdGlub1xuICAgIGlmIChkaXJlY3RXYWxrKSB7XG4gICAgICAvLyAgbW92ZXJzZVxuICAgICAgaWYgKHNyY1ggPiBkc3RYKSB7XG4gICAgICAgIGlmIChzcmNZIDwgZHN0WSkge1xuICAgICAgICAgIC8vTlBDIGVzdGEgYXJyaWJhIGEgbGEgZGVyZWNoYVxuICAgICAgICAgIGlmICgoZHVhbCAmIDEpID09IDApIHtcbiAgICAgICAgICAgIC8vbW92ZSBkb3duXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLlNvdXRoKSkge1xuICAgICAgICAgICAgICByZXR1cm4gSGVhZGluZy5Tb3V0aDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5FYXN0KSkge1xuICAgICAgICAgICAgICByZXR1cm4gSGVhZGluZy5FYXN0O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuTm9ydGgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLk5vcnRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL3JhbmRvbSBmaXJzdCBtb3ZlXG4gICAgICAgICAgICBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Tb3V0aCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuU291dGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5FYXN0KSkge1xuICAgICAgICAgICAgICByZXR1cm4gSGVhZGluZy5FYXN0O1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuTm9ydGgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLk5vcnRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gLy9jaGVja2VkIHJhbmRvbSBmaXJzdCBtb3ZlXG4gICAgICAgIH0gZWxzZSBpZiAoc3JjWSA+IGRzdFkpIHtcbiAgICAgICAgICAvL05QQyBlc3RhIGFiYWpvIGEgbGEgZGVyZWNoYVxuICAgICAgICAgIGlmICgoZHVhbCAmIDEpID09IDApIHtcbiAgICAgICAgICAgIC8vbW92ZSB1cFxuICAgICAgICAgICAgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Ob3J0aCkpIHtcbiAgICAgICAgICAgICAgLy9VXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLk5vcnRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuV2VzdCkpIHtcbiAgICAgICAgICAgICAgLy9MXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Tb3V0aCkpIHtcbiAgICAgICAgICAgICAgLy9EXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLlNvdXRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuRWFzdCkpIHtcbiAgICAgICAgICAgICAgLy9SXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLkVhc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcmFuZG9tIGZpcnN0IG1vdmVcbiAgICAgICAgICAgIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuV2VzdCkpIHtcbiAgICAgICAgICAgICAgLy9MXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Tb3V0aCkpIHtcbiAgICAgICAgICAgICAgLy9EXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLlNvdXRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuRWFzdCkpIHtcbiAgICAgICAgICAgICAgLy9SXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLkVhc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSAvL2VuZGlmIHJhbmRvbSBmaXJzdCBtb3ZlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy94IGNvbXBsZXRpdHVkLCBlc3RhIGVuIGxhIG1pc21hIFlcbiAgICAgICAgICBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAvL0xcbiAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuU291dGgpKSB7XG4gICAgICAgICAgICAvL0RcbiAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLlNvdXRoO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLk5vcnRoKSkge1xuICAgICAgICAgICAgLy9VXG4gICAgICAgICAgICByZXR1cm4gSGVhZGluZy5Ob3J0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3JjWCA8IGRzdFgpIHtcbiAgICAgICAgaWYgKHNyY1kgPCBkc3RZKSB7XG4gICAgICAgICAgLy9OUEMgZXN0YSBhcnJpYmEgYSBsYSBpenF1aWVyZGFcbiAgICAgICAgICBpZiAoKGR1YWwgJiAxKSA9PSAwKSB7XG4gICAgICAgICAgICAvL21vdmUgZG93blxuICAgICAgICAgICAgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Tb3V0aCkpIHtcbiAgICAgICAgICAgICAgLy9BQkFcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuU291dGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5FYXN0KSkge1xuICAgICAgICAgICAgICAvL1JcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuRWFzdDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Ob3J0aCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuTm9ydGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vcmFuZG9tIGZpcnN0IG1vdmVcbiAgICAgICAgICAgIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuRWFzdCkpIHtcbiAgICAgICAgICAgICAgLy9ERVJcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuRWFzdDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLlNvdXRoKSkge1xuICAgICAgICAgICAgICAvL0FCQVxuICAgICAgICAgICAgICByZXR1cm4gSGVhZGluZy5Tb3V0aDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Ob3J0aCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuTm9ydGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNyY1kgPiBkc3RZKSB7XG4gICAgICAgICAgLy9OUEMgZXN0YSBhYmFqbyBhIGxhIGl6cXVpZXJkYVxuICAgICAgICAgIGlmICgoZHVhbCAmIDEpID09IDApIHtcbiAgICAgICAgICAgIC8vbW92ZSB1cFxuICAgICAgICAgICAgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Ob3J0aCkpIHtcbiAgICAgICAgICAgICAgLy9VXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLk5vcnRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuRWFzdCkpIHtcbiAgICAgICAgICAgICAgLy9SXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLkVhc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5XZXN0KSkge1xuICAgICAgICAgICAgICAvL0xcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuV2VzdDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLlNvdXRoKSkge1xuICAgICAgICAgICAgICAvL0RcbiAgICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuU291dGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuRWFzdCkpIHtcbiAgICAgICAgICAgICAgLy9SXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLkVhc3Q7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Ob3J0aCkpIHtcbiAgICAgICAgICAgICAgLy9VXG4gICAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLk5vcnRoO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuU291dGgpKSB7XG4gICAgICAgICAgICAgIC8vRFxuICAgICAgICAgICAgICByZXR1cm4gSGVhZGluZy5Tb3V0aDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAgIC8vTFxuICAgICAgICAgICAgICByZXR1cm4gSGVhZGluZy5XZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvL3ggY29tcGxldGl0dWQsIGVzdGEgZW4gbGEgbWlzbWEgWVxuICAgICAgICAgIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuRWFzdCkpIHtcbiAgICAgICAgICAgIC8vUlxuICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuRWFzdDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Tb3V0aCkpIHtcbiAgICAgICAgICAgIC8vRFxuICAgICAgICAgICAgcmV0dXJuIEhlYWRpbmcuU291dGg7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIEhlYWRpbmcuTm9ydGgpKSB7XG4gICAgICAgICAgICAvL1VcbiAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLk5vcnRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy9pZ3VhbCBYXG4gICAgICAgIGlmIChzcmNZID4gZHN0WSkge1xuICAgICAgICAgIC8vTlBDIEVTVEEgQUJBSk9cbiAgICAgICAgICBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLk5vcnRoKSkge1xuICAgICAgICAgICAgLy9VXG4gICAgICAgICAgICByZXR1cm4gSGVhZGluZy5Ob3J0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5FYXN0KSkge1xuICAgICAgICAgICAgLy9SXG4gICAgICAgICAgICByZXR1cm4gSGVhZGluZy5FYXN0O1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAvL0xcbiAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vTlBDIEVTVEEgQVJSSUJBXG4gICAgICAgICAgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5Tb3V0aCkpIHtcbiAgICAgICAgICAgIC8vQUJBXG4gICAgICAgICAgICByZXR1cm4gSGVhZGluZy5Tb3V0aDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2FuVXNlck1vdmUoc3JjWCwgc3JjWSwgSGVhZGluZy5FYXN0KSkge1xuICAgICAgICAgICAgLy9SXG4gICAgICAgICAgICByZXR1cm4gSGVhZGluZy5FYXN0O1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jYW5Vc2VyTW92ZShzcmNYLCBzcmNZLCBIZWFkaW5nLldlc3QpKSB7XG4gICAgICAgICAgICAvL0xcbiAgICAgICAgICAgIHJldHVybiBIZWFkaW5nLldlc3Q7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJhbmRvbURpcmVjdGlvbjogSGVhZGluZyA9IGdldFJhbmRvbUludGVnZXIoMCwgMykgYXMgSGVhZGluZztcblxuICAgIGlmICh0aGlzLmNhblVzZXJNb3ZlKHNyY1gsIHNyY1ksIHJhbmRvbURpcmVjdGlvbikpIHtcbiAgICAgIHJldHVybiByYW5kb21EaXJlY3Rpb247XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cbiIsImltcG9ydCB7IE1pbWV0aXNtIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvTWltZXRpc21cIjtcbmltcG9ydCB7IEJvZHkgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Cb2R5XCI7XG5pbXBvcnQgeyBDaGFyYWN0ZXIgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9DaGFyYWN0ZXJcIjtcblxuZXhwb3J0IGNsYXNzIE1pbWV0aXNtU3lzdGVtIGltcGxlbWVudHMgSVN5c3RlbSB7XG4gIHByaXZhdGUgbWltZXRpemVkQ2hhcmFjdGVycyE6IENvbXBvbmVudEdyb3VwO1xuXG4gIGFjdGl2YXRlKGVuZ2luZTogRW5naW5lKSB7XG4gICAgdGhpcy5taW1ldGl6ZWRDaGFyYWN0ZXJzID0gZW5naW5lLmdldENvbXBvbmVudEdyb3VwKFxuICAgICAge1xuICAgICAgICBvblJlbW92ZUVudGl0eTogdGhpcy5vblJlbW92ZU1pbWV0aXplZEVudGl0eSxcbiAgICAgIH0sXG4gICAgICBCb2R5LFxuICAgICAgTWltZXRpc21cbiAgICApO1xuICAgIGxvZyhcIkludmlzaWJsZVN5c3RlbSBzdGFydGVkXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblJlbW92ZU1pbWV0aXplZEVudGl0eSA9IChlbnRpdHk6IElFbnRpdHkpID0+IHtcbiAgICBjb25zdCBib2R5ID0gZW50aXR5LmdldENvbXBvbmVudChCb2R5KTtcbiAgICBib2R5Lm1pbWV0aXNtID0gbnVsbDtcblxuICAgIGlmIChlbnRpdHkgaW5zdGFuY2VvZiBDaGFyYWN0ZXIpIHtcbiAgICAgIGVudGl0eS5zZW5kQ29uc29sZU1lc3NhZ2UoXCJZb3UgcmVjb3ZlcmVkIHlvdXIgb3JpZ2luYWwgc2hhcGUuXCIpO1xuICAgIH1cbiAgfTtcblxuICB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGVudGl0aWVzID0gdGhpcy5taW1ldGl6ZWRDaGFyYWN0ZXJzLmVudGl0aWVzLnNsaWNlKCk7XG5cbiAgICBmb3IgKGxldCBjaGFyIG9mIGVudGl0aWVzKSB7XG4gICAgICBjb25zdCBpbnYgPSBjaGFyLmdldENvbXBvbmVudChNaW1ldGlzbSk7XG4gICAgICBpbnYudGltZXIgLT0gZHQ7XG4gICAgICBpZiAoaW52LnRpbWVyIDw9IDApIHtcbiAgICAgICAgY2hhci5yZW1vdmVDb21wb25lbnQoTWltZXRpc20pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgVGltZXJzIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvVGltZXJzXCI7XG5cbmV4cG9ydCBjbGFzcyBUaW1lcnNTeXN0ZW0gaW1wbGVtZW50cyBJU3lzdGVtIHtcbiAgcHJpdmF0ZSB0aW1lcnMhOiBDb21wb25lbnRHcm91cDtcbiAgcHJpdmF0ZSBub3dJbk1zOiBudW1iZXIgPSAwO1xuXG4gIGFjdGl2YXRlKGVuZ2luZTogRW5naW5lKSB7XG4gICAgdGhpcy50aW1lcnMgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoVGltZXJzKTtcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5ub3dJbk1zICs9IGR0ICogMTAwMDtcblxuICAgIGZvciAobGV0IGNoYXIgb2YgdGhpcy50aW1lcnMuZW50aXRpZXMpIHtcbiAgICAgIGNoYXIuZ2V0Q29tcG9uZW50KFRpbWVycykudXBkYXRlKHRoaXMubm93SW5Ncyk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb25uZWN0aW9uU3lzdGVtIH0gZnJvbSBcIi4vc2RrL1N5c3RlbXMvQ29ubmVjdGlvblwiO1xuaW1wb3J0IHsgSW52aXNpYmxlU3lzdGVtIH0gZnJvbSBcIi4vc2RrL1N5c3RlbXMvSW52aXNpYmxlXCI7XG5pbXBvcnQgeyBNZWRpdGF0aW9uU3lzdGVtIH0gZnJvbSBcIi4vc2RrL1N5c3RlbXMvTWVkaXRhdGlvblwiO1xuaW1wb3J0IHsgUGFyYWx5c2lzU3lzdGVtIH0gZnJvbSBcIi4vc2RrL1N5c3RlbXMvUGFyYWx5c2lzXCI7XG5pbXBvcnQgeyBJbnZlbnRvcnlTeXN0ZW0gfSBmcm9tIFwiLi9zZGsvU3lzdGVtcy9JbnZlbnRvcnlcIjtcbmltcG9ydCB7IENvbWJhdFN5c3RlbSB9IGZyb20gXCIuL3Nkay9TeXN0ZW1zL0NvbWJhdFwiO1xuaW1wb3J0IHsgU2tpbGxTeXN0ZW0gfSBmcm9tIFwiLi9zZGsvU3lzdGVtcy9Ta2lsbFwiO1xuaW1wb3J0IHsgR2FtZU1hcFN5c3RlbSB9IGZyb20gXCIuL3Nkay9TeXN0ZW1zL0dhbWVNYXBcIjtcbmltcG9ydCB7XG4gIENoYXJhY3RlcixcbiAgb25OZXdDaGFyYWN0ZXJPYnNlcnZhYmxlLFxufSBmcm9tIFwiLi9zZGsvQ29tcG9uZW50cy9DaGFyYWN0ZXJcIjtcbmltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tIFwiLi9zZGsvQ29tcG9uZW50cy9Db25uZWN0aW9uXCI7XG5pbXBvcnQgeyBsb2FkQmFsYW5jZSB9IGZyb20gXCIuL3Nkay9CYWxhbmNlXCI7XG5pbXBvcnQgeyBXYWxraW5nU3lzdGVtIH0gZnJvbSBcIi4vc2RrL1N5c3RlbXMvV2Fsa2luZ1N5c3RlbVwiO1xuaW1wb3J0IHsgTWltZXRpc21TeXN0ZW0gfSBmcm9tIFwiLi9zZGsvU3lzdGVtcy9NaW1ldGlzbVwiO1xuaW1wb3J0IHsgVGltZXJzU3lzdGVtIH0gZnJvbSBcIi4vc2RrL1N5c3RlbXMvVGltZXJzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydEJhc2VTeXN0ZW1zKCkge1xuICBlbmdpbmUuYWRkU3lzdGVtKG5ldyBJbnZpc2libGVTeXN0ZW0oKSk7XG4gIGVuZ2luZS5hZGRTeXN0ZW0obmV3IE1pbWV0aXNtU3lzdGVtKCkpO1xuICBlbmdpbmUuYWRkU3lzdGVtKG5ldyBNZWRpdGF0aW9uU3lzdGVtKCkpO1xuICBlbmdpbmUuYWRkU3lzdGVtKG5ldyBQYXJhbHlzaXNTeXN0ZW0oKSk7XG4gIGVuZ2luZS5hZGRTeXN0ZW0obmV3IFRpbWVyc1N5c3RlbSgpKTtcbiAgZW5naW5lLmFkZFN5c3RlbShuZXcgU2tpbGxTeXN0ZW0oKSk7XG4gIGVuZ2luZS5hZGRTeXN0ZW0obmV3IEludmVudG9yeVN5c3RlbSgpKTtcbiAgZW5naW5lLmFkZFN5c3RlbShuZXcgQ29tYmF0U3lzdGVtKCkpO1xuICBlbmdpbmUuYWRkU3lzdGVtKG5ldyBXYWxraW5nU3lzdGVtKCkpO1xufVxuXG5kZWNsYXJlIGZ1bmN0aW9uIGNhbGxScGMoKTogdm9pZDtcbmRlY2xhcmUgZnVuY3Rpb24gb25VcGRhdGUoY2I6IChkdDogbnVtYmVyKSA9PiB2b2lkKTogdm9pZDtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0YXJ0U2VydmVyKGN1c3RvbVNlcnZlcjogKCkgPT4gUHJvbWlzZTx2b2lkPikge1xuICBpZiAodHlwZW9mIGNhbGxScGMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjb25zdCBlbnZpcm9ubWVudCA9IGF3YWl0IGltcG9ydChcIkBhcmR1ei9FbnZpcm9ubWVudFwiKTtcbiAgICBjb25zdCBuZXR3b3JrID0gYXdhaXQgaW1wb3J0KFwiQGFyZHV6L0Nvbm5lY3Rpb25zXCIpO1xuXG4gICAgY29uc3QgY29uZmlnID0gYXdhaXQgZW52aXJvbm1lbnQuZ2V0Q29uZmlndXJhdGlvbigpO1xuXG4gICAgZW5naW5lLmFkZFN5c3RlbShuZXcgQ29ubmVjdGlvblN5c3RlbShuZXR3b3JrKSk7XG5cbiAgICBuZXR3b3JrLm9uSW5pdGlhbGl6ZS5hZGQoKCQpID0+IHtcbiAgICAgIGNvbnN0IGNoYXIgPSBuZXcgQ2hhcmFjdGVyKCk7XG4gICAgICBjaGFyLmFkZENvbXBvbmVudChuZXcgQ29ubmVjdGlvbigkLmNvbm5lY3Rpb25JZCwgJC5uaWNrKSk7XG4gICAgICBjaGFyLnBvc2l0aW9uLnggPSAxO1xuICAgICAgY2hhci5wb3NpdGlvbi55ID0gMTtcbiAgICAgIGNoYXIuYm9keS5uaWNrID0gJC5uaWNrO1xuXG4gICAgICBlbmdpbmUuYWRkRW50aXR5KGNoYXIpO1xuXG4gICAgICBvbk5ld0NoYXJhY3Rlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGNoYXIpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbWFwID0gZW5naW5lLmFkZFN5c3RlbShuZXcgR2FtZU1hcFN5c3RlbSgpLCBJbmZpbml0eSk7XG5cbiAgICBhd2FpdCBtYXAubG9hZChjb25maWcubWFwKTtcblxuICAgIGF3YWl0IGxvYWRCYWxhbmNlKCk7XG5cbiAgICBhd2FpdCBjdXN0b21TZXJ2ZXIoKTtcblxuICAgIGF3YWl0IGVudmlyb25tZW50LnN0YXJ0U2lnbmFsKCk7XG4gIH0gZWxzZSB7XG4gICAgbG9nKFwiU0tJUFBJTkcgQ09OTkVDVElPTiBTWVNURU0gSU5JVElBTElaQVRJT05cIik7XG4gIH1cbn1cblxuaWYgKHR5cGVvZiBvblVwZGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gIG9uVXBkYXRlKChkdCkgPT4gZW5naW5lLnVwZGF0ZShkdCkpO1xufSBlbHNlIHtcbiAgZXJyb3IoXCJObyBvblVwZGF0ZSBmdW5jdGlvblwiKTtcbn0iLCJAQ29tcG9uZW50KCd0ZWxlcG9ydFRvJylcbmV4cG9ydCBjbGFzcyBUZWxlcG9ydFRvIHtcblxufSIsImltcG9ydCB7IFdvcmxkUG9zaXRpb24gfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9Xb3JsZFBvc2l0aW9uXCI7XG5pbXBvcnQgeyBUZWxlcG9ydFRvIH0gZnJvbSBcIi4uL0NvbXBvbmVudHMvVGVsZXBvcnRcIjtcbmltcG9ydCB7IFdhbGtpbmcgfSBmcm9tIFwiLi4vQ29tcG9uZW50cy9XYWxraW5nXCI7XG5cbmV4cG9ydCBjbGFzcyBUZWxlcG9ydFN5c3RlbSBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICBwcml2YXRlIHRlbGVwb3J0aW5nRW50aXRpZXMhOiBDb21wb25lbnRHcm91cDtcblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgYWN0aXZhdGUoZW5naW5lOiBFbmdpbmUpIHtcbiAgICB0aGlzLnRlbGVwb3J0aW5nRW50aXRpZXMgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoV29ybGRQb3NpdGlvbiwgVGVsZXBvcnRUbyk7XG4gICAgbG9nKFwiV2Fsa2luZ1N5c3RlbSBzdGFydGVkXCIpO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLnRlbGVwb3J0aW5nRW50aXRpZXMuZW50aXRpZXMuc2xpY2UoKSkge1xuICAgICAgY29uc3QgdGVsZXBvcnRUbyA9IGVudGl0eS5nZXRDb21wb25lbnRPck51bGwoVGVsZXBvcnRUbyk7XG5cbiAgICAgIGlmICh0ZWxlcG9ydFRvKSB7XG4gICAgICAgIC8vIGlmIHRoZSBlbnRpdHkgd2FzIHdhbGtpbmcgY2FuY2VsIGl0XG4gICAgICAgIGVudGl0eS5yZW1vdmVDb21wb25lbnQoV2Fsa2luZyk7XG5cbiAgICAgICAgZW50aXR5LnJlbW92ZUNvbXBvbmVudChUZWxlcG9ydFRvKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiJdfQ=="
  },
  {
    "path": "index.ts",
    "content": "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\ndefine(\"src/setupChar\", [\"require\", \"exports\", \"sdk/Balance\", \"sdk/Components/Archetype\", \"sdk/Enums\", \"sdk/AtomicHelpers/BodyHelpers\"], function (require, exports, Balance_1, Archetype_1, Enums_1, BodyHelpers_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    function setArchetypes(char, alignments) {\r\n        const arch = char.getComponentOrCreate(Archetype_1.Archetypes);\r\n        const nick = char.body.nick;\r\n        arch.alignments = alignments;\r\n        const hechizos = [\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell1,\r\n                skill: Balance_1.skills.get(1),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell2,\r\n                skill: Balance_1.skills.get(2),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell3,\r\n                skill: Balance_1.skills.get(3),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell4,\r\n                skill: Balance_1.skills.get(41),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell5,\r\n                skill: Balance_1.skills.get(31),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell6,\r\n                skill: Balance_1.skills.get(14),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell7,\r\n                skill: Balance_1.skills.get(15),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell8,\r\n                skill: Balance_1.skills.get(23),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell9,\r\n                skill: Balance_1.skills.get(25),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell10,\r\n                skill: Balance_1.skills.get(24),\r\n            },\r\n            {\r\n                slot: Enums_1.SkillSlots.Spell11,\r\n                skill: Balance_1.skills.get(10),\r\n            },\r\n        ];\r\n        arch.setArchetype({\r\n            id: \"mg\",\r\n            charClass: Enums_1.CharClass.Mage,\r\n            race: Enums_1.Race.Human,\r\n            gender: Enums_1.Gender.Male,\r\n            head: BodyHelpers_1.getHead(Enums_1.Gender.Male, Enums_1.Race.Human),\r\n            body: 1,\r\n            nick,\r\n            minHp: 273,\r\n            maxHp: 273,\r\n            minMana: 2206,\r\n            maxMana: 2206,\r\n            inventory: [\r\n                { amount: 999999, item: Balance_1.items.get(38), slot: Enums_1.InventorySlots.Slot1 },\r\n                { amount: 999999, item: Balance_1.items.get(37), slot: Enums_1.InventorySlots.Slot2 },\r\n                { amount: 100, item: Balance_1.items.get(474), slot: Enums_1.InventorySlots.Slot3 },\r\n                { amount: 100, item: Balance_1.items.get(986), slot: Enums_1.InventorySlots.Slot4 },\r\n                { amount: 100, item: Balance_1.items.get(660), slot: Enums_1.InventorySlots.Slot5 },\r\n                { amount: 100, item: Balance_1.items.get(662), slot: Enums_1.InventorySlots.Slot6 },\r\n                { amount: 999999, item: Balance_1.items.get(38), slot: Enums_1.InventorySlots.Belt1 },\r\n                { amount: 999999, item: Balance_1.items.get(37), slot: Enums_1.InventorySlots.Belt2 },\r\n            ],\r\n            skills: hechizos,\r\n        });\r\n        arch.setArchetype({\r\n            id: \"dru\",\r\n            charClass: Enums_1.CharClass.Druid,\r\n            race: Enums_1.Race.Elf,\r\n            gender: Enums_1.Gender.Male,\r\n            head: BodyHelpers_1.getHead(Enums_1.Gender.Male, Enums_1.Race.Human),\r\n            body: 1,\r\n            nick,\r\n            minHp: 312,\r\n            maxHp: 312,\r\n            minMana: 1610,\r\n            maxMana: 1610,\r\n            inventory: [\r\n                { amount: 100, item: Balance_1.items.get(474), slot: 1 },\r\n                { amount: 100, item: Balance_1.items.get(986), slot: 2 },\r\n                { amount: 100, item: Balance_1.items.get(365), slot: 3 },\r\n                { amount: 100, item: Balance_1.items.get(208), slot: 4 },\r\n                { amount: 999999, item: Balance_1.items.get(38), slot: 6 },\r\n                { amount: 999999, item: Balance_1.items.get(37), slot: 7 },\r\n            ],\r\n            skills: hechizos,\r\n        });\r\n        arch.setArchetype({\r\n            id: \"bard\",\r\n            charClass: Enums_1.CharClass.Bard,\r\n            race: Enums_1.Race.Elf,\r\n            gender: Enums_1.Gender.Female,\r\n            head: BodyHelpers_1.getHead(Enums_1.Gender.Male, Enums_1.Race.Human),\r\n            body: 1,\r\n            nick,\r\n            minHp: 312,\r\n            maxHp: 312,\r\n            minMana: 1610,\r\n            maxMana: 1610,\r\n            inventory: [\r\n                { amount: 100, item: Balance_1.items.get(474), slot: 1 },\r\n                { amount: 100, item: Balance_1.items.get(986), slot: 2 },\r\n                { amount: 100, item: Balance_1.items.get(132), slot: 3 },\r\n                { amount: 100, item: Balance_1.items.get(404), slot: 4 },\r\n                { amount: 100, item: Balance_1.items.get(696), slot: 5 },\r\n                { amount: 999999, item: Balance_1.items.get(38), slot: 6 },\r\n                { amount: 999999, item: Balance_1.items.get(37), slot: 7 },\r\n                { amount: 100, item: Balance_1.items.get(399), slot: 11 },\r\n                { amount: 100, item: Balance_1.items.get(365), slot: 12 },\r\n            ],\r\n            skills: hechizos,\r\n        });\r\n        arch.setArchetype({\r\n            id: \"cleric\",\r\n            charClass: Enums_1.CharClass.Cleric,\r\n            race: Enums_1.Race.Drow,\r\n            gender: Enums_1.Gender.Female,\r\n            head: BodyHelpers_1.getHead(Enums_1.Gender.Male, Enums_1.Race.Human),\r\n            body: 1,\r\n            nick,\r\n            minHp: 312,\r\n            maxHp: 312,\r\n            minMana: 1610,\r\n            maxMana: 1610,\r\n            inventory: [\r\n                { amount: 100, item: Balance_1.items.get(474), slot: 1 },\r\n                { amount: 100, item: Balance_1.items.get(359), slot: 2 },\r\n                { amount: 100, item: Balance_1.items.get(128), slot: 3 },\r\n                { amount: 100, item: Balance_1.items.get(131), slot: 4 },\r\n                { amount: 100, item: Balance_1.items.get(696), slot: 5 },\r\n                { amount: 999999, item: Balance_1.items.get(38), slot: 6 },\r\n                { amount: 999999, item: Balance_1.items.get(37), slot: 7 },\r\n                { amount: 100, item: Balance_1.items.get(129), slot: 11 },\r\n                { amount: 100, item: Balance_1.items.get(365), slot: 12 },\r\n            ],\r\n            skills: hechizos,\r\n        });\r\n        arch.setArchetype({\r\n            id: \"pala\",\r\n            charClass: Enums_1.CharClass.Paladin,\r\n            race: Enums_1.Race.Human,\r\n            gender: Enums_1.Gender.Female,\r\n            head: BodyHelpers_1.getHead(Enums_1.Gender.Male, Enums_1.Race.Human),\r\n            body: 1,\r\n            nick,\r\n            minHp: 390,\r\n            maxHp: 390,\r\n            minMana: 702,\r\n            maxMana: 702,\r\n            inventory: [\r\n                { amount: 100, item: Balance_1.items.get(474), slot: 1 },\r\n                { amount: 100, item: Balance_1.items.get(195), slot: 2 },\r\n                { amount: 100, item: Balance_1.items.get(128), slot: 3 },\r\n                { amount: 100, item: Balance_1.items.get(131), slot: 4 },\r\n                { amount: 100, item: Balance_1.items.get(696), slot: 5 },\r\n                { amount: 999999, item: Balance_1.items.get(38), slot: 6 },\r\n                { amount: 999999, item: Balance_1.items.get(37), slot: 7 },\r\n                { amount: 100, item: Balance_1.items.get(129), slot: 11 },\r\n                { amount: 100, item: Balance_1.items.get(365), slot: 12 },\r\n            ],\r\n            skills: hechizos,\r\n        });\r\n        arch.setArchetype({\r\n            id: \"ase\",\r\n            charClass: Enums_1.CharClass.Assasin,\r\n            race: Enums_1.Race.Drow,\r\n            gender: Enums_1.Gender.Male,\r\n            head: BodyHelpers_1.getHead(Enums_1.Gender.Male, Enums_1.Race.Human),\r\n            body: 1,\r\n            nick,\r\n            minHp: 312,\r\n            maxHp: 312,\r\n            minMana: 830,\r\n            maxMana: 830,\r\n            inventory: [\r\n                { amount: 100, item: Balance_1.items.get(474), slot: 1 },\r\n                { amount: 100, item: Balance_1.items.get(356), slot: 2 },\r\n                { amount: 100, item: Balance_1.items.get(404), slot: 3 },\r\n                { amount: 100, item: Balance_1.items.get(131), slot: 4 },\r\n                { amount: 100, item: Balance_1.items.get(696), slot: 5 },\r\n                { amount: 999999, item: Balance_1.items.get(38), slot: 6 },\r\n                { amount: 999999, item: Balance_1.items.get(37), slot: 7 },\r\n                { amount: 100, item: Balance_1.items.get(399), slot: 11 },\r\n                { amount: 100, item: Balance_1.items.get(367), slot: 12 },\r\n            ],\r\n            skills: hechizos,\r\n        });\r\n        arch.setArchetype({\r\n            id: \"guerre\",\r\n            charClass: Enums_1.CharClass.Warrior,\r\n            race: Enums_1.Race.Dwarf,\r\n            gender: Enums_1.Gender.Male,\r\n            head: BodyHelpers_1.getHead(Enums_1.Gender.Male, Enums_1.Race.Human),\r\n            body: 1,\r\n            nick,\r\n            minHp: 429,\r\n            maxHp: 429,\r\n            minMana: 0,\r\n            maxMana: 0,\r\n            inventory: [\r\n                { amount: 100, item: Balance_1.items.get(474), slot: 1 },\r\n                { amount: 100, item: Balance_1.items.get(243), slot: 2 },\r\n                { amount: 100, item: Balance_1.items.get(128), slot: 3 },\r\n                { amount: 100, item: Balance_1.items.get(131), slot: 4 },\r\n                { amount: 100, item: Balance_1.items.get(696), slot: 5 },\r\n                { amount: 100, item: Balance_1.items.get(38), slot: 6 },\r\n                { amount: 100, item: Balance_1.items.get(479), slot: 7 },\r\n                { amount: 100, item: Balance_1.items.get(480), slot: 8 },\r\n                { amount: 100, item: Balance_1.items.get(129), slot: 11 },\r\n                { amount: 100, item: Balance_1.items.get(164), slot: 12 },\r\n            ],\r\n            skills: [],\r\n        });\r\n        arch.dirty = true;\r\n    }\r\n    exports.setArchetypes = setArchetypes;\r\n});\r\ndefine(\"src/AI/Base\", [\"require\", \"exports\", \"sdk/Components/Archetype\", \"sdk/Functions/Helpers\"], function (require, exports, Archetype_2, Helpers_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class AiStrategy {\r\n        start(entity) {\r\n            const archetype = this.archetype;\r\n            entity.getComponentOrCreate(Archetype_2.Archetypes).setArchetype(archetype);\r\n            Helpers_1.loadCharacterFromArchetype(entity, archetype.id);\r\n        }\r\n    }\r\n    exports.AiStrategy = AiStrategy;\r\n    let BaseAI = class BaseAI {\r\n        constructor(strategy) {\r\n            this.strategy = strategy;\r\n        }\r\n    };\r\n    BaseAI = __decorate([\r\n        Component(\"ai\")\r\n    ], BaseAI);\r\n    exports.BaseAI = BaseAI;\r\n    let TargetEntity = class TargetEntity {\r\n        constructor() {\r\n            this.entity = null;\r\n        }\r\n    };\r\n    TargetEntity = __decorate([\r\n        Component(\"targetEntity\")\r\n    ], TargetEntity);\r\n    exports.TargetEntity = TargetEntity;\r\n});\r\ndefine(\"src/Alignments\", [\"require\", \"exports\"], function (require, exports) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    let Alignment = class Alignment {\r\n        constructor(id, color, name) {\r\n            this.id = id;\r\n            this.color = color;\r\n            this.name = name;\r\n        }\r\n    };\r\n    Alignment = __decorate([\r\n        Component(\"alignment\")\r\n    ], Alignment);\r\n    exports.Alignment = Alignment;\r\n    exports.RED_TEAM = new Alignment(\"red\", \"#ff0000\", \"Chaotic\");\r\n    exports.BLUE_TEAM = new Alignment(\"blue\", \"#0000ff\", \"Lawful\");\r\n});\r\ndefine(\"src/AI/Mage\", [\"require\", \"exports\", \"sdk/Components/Character\", \"sdk/AtomicHelpers/Numbers\", \"sdk/Balance\", \"sdk/Components/Invisible\", \"src/AI/Base\", \"sdk/Components/WorldPosition\", \"sdk/Events/CharEvents\", \"sdk/Components/Paralysis\", \"sdk/Functions/networkHandlers\", \"sdk/Components/Walking\", \"src/Alignments\", \"sdk/Enums\", \"sdk/AtomicHelpers/BodyHelpers\"], function (require, exports, Character_1, Numbers_1, Balance_2, Invisible_1, Base_1, WorldPosition_1, CharEvents_1, Paralysis_1, networkHandlers_1, Walking_1, Alignments_1, Enums_2, BodyHelpers_2) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    const REMOVE_PARALYSIS_SLOT = Enums_2.SkillSlots.Spell3;\r\n    const DESC_SLOT = Enums_2.SkillSlots.Spell7;\r\n    const APOKA_SLOT = Enums_2.SkillSlots.Spell8;\r\n    const INMO_SLOT = Enums_2.SkillSlots.Spell2;\r\n    class MageAi extends Base_1.AiStrategy {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.nextTick = 0;\r\n        }\r\n        rollDice(faces) {\r\n            faces = faces | 0;\r\n            return Numbers_1.getRandomInteger(0, faces) == faces;\r\n        }\r\n        get archetype() {\r\n            const race = Enums_2.Race.Human;\r\n            const gender = Enums_2.Gender.Male;\r\n            return {\r\n                id: \"mg\",\r\n                charClass: Enums_2.CharClass.Mage,\r\n                race: Enums_2.Race.Human,\r\n                gender: Enums_2.Gender.Male,\r\n                minHp: 273,\r\n                maxHp: 273,\r\n                minMana: 2206,\r\n                maxMana: 2206,\r\n                inventory: [\r\n                    { amount: 999999, item: Balance_2.items.get(38), slot: Enums_2.InventorySlots.Slot1 },\r\n                    { amount: 999999, item: Balance_2.items.get(37), slot: Enums_2.InventorySlots.Slot2 },\r\n                    { amount: 100, item: Balance_2.items.get(474), slot: Enums_2.InventorySlots.Slot3 },\r\n                    { amount: 100, item: Balance_2.items.get(986), slot: Enums_2.InventorySlots.Slot4 },\r\n                    { amount: 100, item: Balance_2.items.get(660), slot: Enums_2.InventorySlots.Slot5 },\r\n                    { amount: 100, item: Balance_2.items.get(662), slot: Enums_2.InventorySlots.Slot6 },\r\n                    { amount: 999999, item: Balance_2.items.get(38), slot: Enums_2.InventorySlots.Belt1 },\r\n                    { amount: 999999, item: Balance_2.items.get(37), slot: Enums_2.InventorySlots.Belt2 },\r\n                ],\r\n                skills: [\r\n                    {\r\n                        slot: Enums_2.SkillSlots.Spell1,\r\n                        skill: Balance_2.skills.get(5),\r\n                    },\r\n                    {\r\n                        slot: INMO_SLOT,\r\n                        skill: Balance_2.skills.get(24),\r\n                    },\r\n                    {\r\n                        slot: REMOVE_PARALYSIS_SLOT,\r\n                        skill: Balance_2.skills.get(10),\r\n                    },\r\n                    {\r\n                        slot: Enums_2.SkillSlots.Spell4,\r\n                        skill: Balance_2.skills.get(11),\r\n                    },\r\n                    {\r\n                        slot: Enums_2.SkillSlots.Spell5,\r\n                        skill: Balance_2.skills.get(14),\r\n                    },\r\n                    {\r\n                        slot: Enums_2.SkillSlots.Spell6,\r\n                        skill: Balance_2.skills.get(15),\r\n                    },\r\n                    {\r\n                        slot: DESC_SLOT,\r\n                        skill: Balance_2.skills.get(23),\r\n                    },\r\n                    {\r\n                        slot: APOKA_SLOT,\r\n                        skill: Balance_2.skills.get(25),\r\n                    },\r\n                ],\r\n                nick: \"Mage BOT\",\r\n                body: BodyHelpers_2.getNakedBody(gender, race),\r\n                head: BodyHelpers_2.getHead(gender, race),\r\n            };\r\n        }\r\n        statsTick(char) {\r\n            if (char instanceof Character_1.Character) {\r\n                const chancesOfDrinkingPosion = Paralysis_1.isParalyzed(char) ? 0 : 3;\r\n                if (!char.timers.canUseItem(false)) {\r\n                    return;\r\n                }\r\n                if (this.rollDice(chancesOfDrinkingPosion)) {\r\n                    if (char.stats.minHp < char.stats.maxHp) {\r\n                        // restore HP is the priority\r\n                        CharEvents_1.charUsesItem(char, Enums_2.InventorySlots.Belt1);\r\n                    }\r\n                    else if (char.stats.minMana < char.stats.maxMana) {\r\n                        // restore MANA when possible\r\n                        CharEvents_1.charUsesItem(char, Enums_2.InventorySlots.Belt2);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        acquireTarget(entity) {\r\n            let bestTarget = null;\r\n            let bestTargetDistance = 9999999;\r\n            const entityAlignment = entity.getComponentOrNull(Alignments_1.Alignment);\r\n            const entityPosition = entity.getComponent(WorldPosition_1.WorldPosition);\r\n            if (!entityAlignment)\r\n                return;\r\n            for (let char of WorldPosition_1.entitiesWithBodyAndPosition()) {\r\n                if (char instanceof Character_1.Character) {\r\n                    if (char == entity)\r\n                        continue;\r\n                    if (char.body.dead)\r\n                        continue;\r\n                    const alignment = char.getComponentOrNull(Alignments_1.Alignment);\r\n                    if (!alignment || alignment == entityAlignment) {\r\n                        continue;\r\n                    }\r\n                    if (Invisible_1.isInvisible(char))\r\n                        continue;\r\n                    const position = char.getComponent(WorldPosition_1.WorldPosition);\r\n                    const dist = Numbers_1.distance(entityPosition.x, entityPosition.y, position.x, position.y);\r\n                    // pick closest character\r\n                    if (!bestTarget || bestTargetDistance > dist) {\r\n                        bestTarget = char;\r\n                        bestTargetDistance = dist;\r\n                        if (dist <= 3)\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n            if (bestTarget) {\r\n                entity.getComponentOrCreate(Base_1.TargetEntity).entity = bestTarget;\r\n            }\r\n        }\r\n        tick(me, now) {\r\n            if (!(me instanceof Character_1.Character))\r\n                return;\r\n            if (this.nextTick > now)\r\n                return;\r\n            this.nextTick = now + 0.05 + 0.13 * Math.random();\r\n            if (me.body.dead) {\r\n                if (this.rollDice(12)) {\r\n                    networkHandlers_1.handleWalk(me, Numbers_1.getRandomInteger(0, 3));\r\n                }\r\n                return;\r\n            }\r\n            this.statsTick(me);\r\n            const skills = me.skills;\r\n            const timers = me.timers;\r\n            if (!skills)\r\n                return;\r\n            let target = me.getComponentOrNull(Base_1.TargetEntity);\r\n            if (target && target.entity) {\r\n                if (Invisible_1.isInvisible(target.entity) ||\r\n                    (target.entity instanceof Character_1.Character && target.entity.body.dead)) {\r\n                    target.entity = null;\r\n                }\r\n            }\r\n            if (!target || !target.entity || this.rollDice(1)) {\r\n                this.acquireTarget(me);\r\n            }\r\n            target = me.getComponentOrNull(Base_1.TargetEntity);\r\n            const targetChar = target && target.entity instanceof Character_1.Character && target.entity;\r\n            if (Paralysis_1.isParalyzed(me)) {\r\n                // cast remove paralysis spell\r\n                if (timers.canSpell(false)) {\r\n                    if (this.rollDice(6)) {\r\n                        networkHandlers_1.handleUseSkill(me, REMOVE_PARALYSIS_SLOT);\r\n                        networkHandlers_1.handleMapClick(me, me.position.x, me.position.y);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n            else if (targetChar && !targetChar.body.dead) {\r\n                const attackDistance = 100;\r\n                if (timers.canSpell(false)) {\r\n                    const isTargetParalyzed = Paralysis_1.isParalyzed(targetChar);\r\n                    const baseRandom = 2;\r\n                    const dist = Numbers_1.distance(me.position.x, me.position.y, targetChar.position.x, targetChar.position.y);\r\n                    const distanceDifficulty = 4 * (dist / attackDistance);\r\n                    const multiplier = isTargetParalyzed ? 0 : (2 + distanceDifficulty) | 0;\r\n                    if (dist > attackDistance) {\r\n                        // do nothing, we are far away\r\n                    }\r\n                    else if (!this.rollDice(multiplier)) {\r\n                        // do nothing, we missed\r\n                        timers.canSpell(true);\r\n                    }\r\n                    else {\r\n                        this.attack(me, targetChar, baseRandom * multiplier + 2);\r\n                    }\r\n                }\r\n            }\r\n            if (timers.canWalk()) {\r\n                if (targetChar) {\r\n                    me.getComponentOrCreate(Walking_1.Walking).target = targetChar.position;\r\n                }\r\n                else {\r\n                    if (this.rollDice(3)) {\r\n                        networkHandlers_1.handleWalk(me, Numbers_1.getRandomInteger(0, 3));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        attack(me, targetChar, baseChances) {\r\n            const skills = me.skills;\r\n            if (!Paralysis_1.isParalyzed(targetChar) &&\r\n                this.rollDice(baseChances) &&\r\n                (targetChar.body.charClass === Enums_2.CharClass.Warrior ||\r\n                    targetChar.body.charClass === Enums_2.CharClass.Hunter ||\r\n                    this.rollDice(baseChances)) &&\r\n                skills.enoughManaFor(INMO_SLOT, me.stats)) {\r\n                networkHandlers_1.handleUseSkill(me, INMO_SLOT);\r\n                networkHandlers_1.handleMapClick(me, targetChar.position.x, targetChar.position.y);\r\n            }\r\n            else if (skills.enoughManaFor(APOKA_SLOT, me.stats)) {\r\n                networkHandlers_1.handleUseSkill(me, APOKA_SLOT);\r\n                networkHandlers_1.handleMapClick(me, targetChar.position.x, targetChar.position.y);\r\n            }\r\n            else if (skills.enoughManaFor(DESC_SLOT, me.stats)) {\r\n                networkHandlers_1.handleUseSkill(me, DESC_SLOT);\r\n                networkHandlers_1.handleMapClick(me, targetChar.position.x, targetChar.position.y);\r\n            }\r\n        }\r\n    }\r\n    exports.MageAi = MageAi;\r\n});\r\ndefine(\"src/Rounds\", [\"require\", \"exports\", \"sdk/Components/Character\", \"sdk/Components/MapData\", \"sdk/Components/WorldPosition\", \"src/AI/Base\", \"src/AI/Mage\", \"src/Alignments\", \"sdk/Components/AutomaticEquip\", \"sdk/Enums\"], function (require, exports, Character_2, MapData_1, WorldPosition_2, Base_2, Mage_1, Alignments_2, AutomaticEquip_1, Enums_3) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class TeamRoundsSystem {\r\n        constructor() {\r\n            this.timeCounter = 0;\r\n        }\r\n        activate(engine) {\r\n            this.alignedEntities = engine.getComponentGroup(Alignments_2.Alignment);\r\n        }\r\n        update(dt) {\r\n            this.timeCounter += dt;\r\n            if (this.timeCounter < 4)\r\n                return;\r\n            this.timeCounter = 0;\r\n            if (this.alignedEntities.entities.length) {\r\n                this.checkRound();\r\n            }\r\n        }\r\n        *users() {\r\n            for (let char of this.alignedEntities.entities) {\r\n                if (char instanceof Character_2.Character && char.connection) {\r\n                    yield { char, alignment: char.getComponent(Alignments_2.Alignment) };\r\n                }\r\n            }\r\n        }\r\n        *bots() {\r\n            for (let char of this.alignedEntities.entities) {\r\n                if (char instanceof Character_2.Character && !char.connection) {\r\n                    yield { char, alignment: char.getComponent(Alignments_2.Alignment) };\r\n                }\r\n            }\r\n        }\r\n        usersAlive(alignment) {\r\n            let i = 0;\r\n            for (let user of this.users()) {\r\n                if (user.alignment === alignment && !user.char.body.dead)\r\n                    i++;\r\n            }\r\n            return i;\r\n        }\r\n        usersTotal(alignment) {\r\n            let i = 0;\r\n            for (let user of this.users()) {\r\n                if (user.alignment === alignment)\r\n                    i++;\r\n            }\r\n            return i;\r\n        }\r\n        aliveNpcs(alignment) {\r\n            let i = 0;\r\n            for (let bot of this.bots()) {\r\n                if (bot.alignment === alignment && !bot.char.body.dead)\r\n                    i++;\r\n            }\r\n            return i;\r\n        }\r\n        botsTotal(alignment) {\r\n            let i = 0;\r\n            for (let user of this.bots()) {\r\n                if (user.alignment === alignment)\r\n                    i++;\r\n            }\r\n            return i;\r\n        }\r\n        checkRound() {\r\n            let someTeamIsDead = null;\r\n            const aliveRed = this.usersAlive(Alignments_2.RED_TEAM);\r\n            const aliveBlue = this.usersAlive(Alignments_2.BLUE_TEAM);\r\n            const totalRed = this.usersTotal(Alignments_2.RED_TEAM);\r\n            const totalBlue = this.usersTotal(Alignments_2.BLUE_TEAM);\r\n            if ((totalRed && !aliveRed) || (!aliveRed && !this.aliveNpcs(Alignments_2.RED_TEAM))) {\r\n                someTeamIsDead = Alignments_2.RED_TEAM.id;\r\n            }\r\n            if ((totalBlue && !aliveBlue) || (!aliveBlue && !this.aliveNpcs(Alignments_2.BLUE_TEAM))) {\r\n                someTeamIsDead = Alignments_2.BLUE_TEAM.id;\r\n            }\r\n            if (!someTeamIsDead)\r\n                return;\r\n            for (let { char } of this.users()) {\r\n                char.sendConsoleMessage(\"The \" + someTeamIsDead + \" team looses this round!\");\r\n                char.sendConsoleMessage(Enums_3.ConsoleMessages[\"Restarting round\"]);\r\n                this.goToBase(char);\r\n                char.resucitate(true);\r\n                char.getComponentOrCreate(AutomaticEquip_1.AutomaticEquip);\r\n            }\r\n            this.balanceBots();\r\n            for (let { char } of this.bots()) {\r\n                this.goToBase(char);\r\n                char.resucitate(true);\r\n                char.getComponentOrCreate(AutomaticEquip_1.AutomaticEquip);\r\n            }\r\n        }\r\n        balanceBots() {\r\n            const TEAM_SIZE = 2;\r\n            const blueUsers = this.usersTotal(Alignments_2.BLUE_TEAM);\r\n            const redUsers = this.usersTotal(Alignments_2.RED_TEAM);\r\n            let expectedRedBots = 0;\r\n            let expectedBlueBots = 0;\r\n            expectedRedBots = Math.max(0, TEAM_SIZE - redUsers);\r\n            expectedBlueBots = Math.max(0, TEAM_SIZE - blueUsers);\r\n            let didChange = false;\r\n            let blueBots = this.botsTotal(Alignments_2.BLUE_TEAM);\r\n            let redBots = this.botsTotal(Alignments_2.RED_TEAM);\r\n            while (blueBots > expectedBlueBots) {\r\n                this.removeAlignedBot(Alignments_2.BLUE_TEAM);\r\n                didChange = true;\r\n                blueBots--;\r\n            }\r\n            while (redBots > expectedRedBots) {\r\n                this.removeAlignedBot(Alignments_2.RED_TEAM);\r\n                didChange = true;\r\n                redBots--;\r\n            }\r\n            while (blueBots < expectedBlueBots) {\r\n                this.addBot(Alignments_2.BLUE_TEAM);\r\n                didChange = true;\r\n                blueBots++;\r\n            }\r\n            while (redBots < expectedRedBots) {\r\n                this.addBot(Alignments_2.RED_TEAM);\r\n                didChange = true;\r\n                redBots++;\r\n            }\r\n            return didChange;\r\n        }\r\n        addBot(alignment) {\r\n            const mage = new Character_2.Character();\r\n            mage.position.x = 2;\r\n            mage.position.y = 3;\r\n            mage.addComponentOrReplace(alignment);\r\n            mage.addComponent(new Base_2.BaseAI(new Mage_1.MageAi())).strategy.start(mage);\r\n            mage.body.nick = \"bot\";\r\n            mage.body.color = alignment.color;\r\n            engine.addEntity(mage);\r\n        }\r\n        removeAlignedBot(alignment) {\r\n            for (let bot of this.bots()) {\r\n                if (bot.alignment === alignment) {\r\n                    engine.removeEntity(bot.char);\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        goToBase(entity) {\r\n            const alignment = entity.getComponentOrNull(Alignments_2.Alignment);\r\n            const worldPosition = entity.getComponentOrCreate(WorldPosition_2.WorldPosition);\r\n            const map = engine.rootEntity.getComponent(MapData_1.MapData);\r\n            const position = alignment == Alignments_2.RED_TEAM ? map.findReverseWalkableTile().next() : map.findWalkableTile().next();\r\n            if (position.value) {\r\n                worldPosition.x = position.value.x;\r\n                worldPosition.y = position.value.y;\r\n            }\r\n        }\r\n    }\r\n    exports.TeamRoundsSystem = TeamRoundsSystem;\r\n});\r\ndefine(\"src/AI\", [\"require\", \"exports\", \"src/AI/Base\"], function (require, exports, Base_3) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    class AISystem {\r\n        constructor() {\r\n            this.currentTime = 0;\r\n        }\r\n        activate(engine) {\r\n            this.bots = engine.getComponentGroup(Base_3.BaseAI);\r\n        }\r\n        update(dt) {\r\n            this.currentTime += dt;\r\n            for (let entity of this.bots.entities) {\r\n                const ai = entity.getComponentOrNull(Base_3.BaseAI);\r\n                if (ai) {\r\n                    ai.strategy.tick(entity, this.currentTime);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    exports.AISystem = AISystem;\r\n});\r\ndefine(\"src/Arduz\", [\"require\", \"exports\", \"sdk/Components/Character\", \"src/setupChar\", \"sdk/Components/Connection\", \"sdk/Functions/Helpers\", \"src/Rounds\", \"src/AI\", \"src/Alignments\"], function (require, exports, Character_3, setupChar_1, Connection_1, Helpers_2, Rounds_1, AI_1, Alignments_3) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    async function startTeamsMode() {\r\n        Character_3.onNewCharacterObservable.add((char) => {\r\n            setupChar(char);\r\n            Connection_1.sendMessageObservable.notifyObservers({\r\n                connectionIds: [char.connection.connectionId],\r\n                data: {\r\n                    ConsoleMessage: {\r\n                        message: \"Welcome to the TEAM mode game server, please chose a team\",\r\n                        color: 0x00ff00,\r\n                    },\r\n                    SelectCharacter: {},\r\n                },\r\n            });\r\n        });\r\n        Connection_1.onDisconnection.add(({ entity }) => {\r\n            engine.removeEntity(entity);\r\n        });\r\n        Connection_1.onMessageObservable.add(({ entity, data }) => {\r\n            if (data.RequestCharacterList) {\r\n                Connection_1.sendMessageObservable.notifyObservers({\r\n                    connectionIds: [data.RequestCharacterList.connectionId],\r\n                    data: { SelectCharacter: {} },\r\n                });\r\n            }\r\n            if (data.SelectCharacter) {\r\n                if (entity instanceof Character_3.Character) {\r\n                    Helpers_2.loadCharacterFromArchetype(entity, data.SelectCharacter.id);\r\n                    if (data.SelectCharacter.alignment == Alignments_3.RED_TEAM.id) {\r\n                        entity.addComponentOrReplace(Alignments_3.RED_TEAM);\r\n                        entity.body.color = Alignments_3.RED_TEAM.color;\r\n                    }\r\n                    else if (data.SelectCharacter.alignment == Alignments_3.BLUE_TEAM.id) {\r\n                        entity.addComponentOrReplace(Alignments_3.BLUE_TEAM);\r\n                        entity.body.color = Alignments_3.BLUE_TEAM.color;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        engine.addSystem(new Rounds_1.TeamRoundsSystem());\r\n        engine.addSystem(new AI_1.AISystem());\r\n    }\r\n    exports.startTeamsMode = startTeamsMode;\r\n    function setupChar(char) {\r\n        // load base archetypes\r\n        setupChar_1.setArchetypes(char, [Alignments_3.RED_TEAM, Alignments_3.BLUE_TEAM]);\r\n    }\r\n});\r\ndefine(\"index\", [\"require\", \"exports\", \"src/Arduz\", \"arduz-sdk\"], function (require, exports, Arduz_1, arduz_sdk_1) {\r\n    \"use strict\";\r\n    Object.defineProperty(exports, \"__esModule\", { value: true });\r\n    arduz_sdk_1.startServer(async () => {\r\n        await arduz_sdk_1.startBaseSystems();\r\n        await Arduz_1.startTeamsMode();\r\n        log('hia');\r\n    });\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmVyLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9tZW5kdXovY29kZS9wdnAtc2VydmVyLyIsInNvdXJjZXMiOlsic3JjL3NldHVwQ2hhci50cyIsInNyYy9BSS9CYXNlLnRzIiwic3JjL0FsaWdubWVudHMudHMiLCJzcmMvQUkvTWFnZS50cyIsInNyYy9Sb3VuZHMudHMiLCJzcmMvQUkudHMiLCJzcmMvQXJkdXoudHMiLCJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7SUFRQSxTQUFnQixhQUFhLENBQUMsSUFBZSxFQUFFLFVBQTRCO1FBQ3pFLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxzQkFBVSxDQUFDLENBQUM7UUFDbkQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFNUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFFN0IsTUFBTSxRQUFRLEdBQUc7WUFDZjtnQkFDRSxJQUFJLEVBQUUsa0JBQVUsQ0FBQyxNQUFNO2dCQUN2QixLQUFLLEVBQUUsZ0JBQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO2FBQ3RCO1lBQ0Q7Z0JBQ0UsSUFBSSxFQUFFLGtCQUFVLENBQUMsTUFBTTtnQkFDdkIsS0FBSyxFQUFFLGdCQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBRTthQUN0QjtZQUNEO2dCQUNFLElBQUksRUFBRSxrQkFBVSxDQUFDLE1BQU07Z0JBQ3ZCLEtBQUssRUFBRSxnQkFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7YUFDdEI7WUFDRDtnQkFDRSxJQUFJLEVBQUUsa0JBQVUsQ0FBQyxNQUFNO2dCQUN2QixLQUFLLEVBQUUsZ0JBQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFO2FBQ3ZCO1lBQ0Q7Z0JBQ0UsSUFBSSxFQUFFLGtCQUFVLENBQUMsTUFBTTtnQkFDdkIsS0FBSyxFQUFFLGdCQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBRTthQUN2QjtZQUNEO2dCQUNFLElBQUksRUFBRSxrQkFBVSxDQUFDLE1BQU07Z0JBQ3ZCLEtBQUssRUFBRSxnQkFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUU7YUFDdkI7WUFDRDtnQkFDRSxJQUFJLEVBQUUsa0JBQVUsQ0FBQyxNQUFNO2dCQUN2QixLQUFLLEVBQUUsZ0JBQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFO2FBQ3ZCO1lBQ0Q7Z0JBQ0UsSUFBSSxFQUFFLGtCQUFVLENBQUMsTUFBTTtnQkFDdkIsS0FBSyxFQUFFLGdCQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBRTthQUN2QjtZQUNEO2dCQUNFLElBQUksRUFBRSxrQkFBVSxDQUFDLE1BQU07Z0JBQ3ZCLEtBQUssRUFBRSxnQkFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUU7YUFDdkI7WUFDRDtnQkFDRSxJQUFJLEVBQUUsa0JBQVUsQ0FBQyxPQUFPO2dCQUN4QixLQUFLLEVBQUUsZ0JBQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFO2FBQ3ZCO1lBQ0Q7Z0JBQ0UsSUFBSSxFQUFFLGtCQUFVLENBQUMsT0FBTztnQkFDeEIsS0FBSyxFQUFFLGdCQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBRTthQUN2QjtTQUNGLENBQUM7UUFFRixJQUFJLENBQUMsWUFBWSxDQUFDO1lBQ2hCLEVBQUUsRUFBRSxJQUFJO1lBQ1IsU0FBUyxFQUFFLGlCQUFTLENBQUMsSUFBSTtZQUN6QixJQUFJLEVBQUUsWUFBSSxDQUFDLEtBQUs7WUFDaEIsTUFBTSxFQUFFLGNBQU0sQ0FBQyxJQUFJO1lBQ25CLElBQUksRUFBRSxxQkFBTyxDQUFDLGNBQU0sQ0FBQyxJQUFJLEVBQUUsWUFBSSxDQUFDLEtBQUssQ0FBQztZQUN0QyxJQUFJLEVBQUUsQ0FBQztZQUNQLElBQUk7WUFDSixLQUFLLEVBQUUsR0FBRztZQUNWLEtBQUssRUFBRSxHQUFHO1lBRVYsT0FBTyxFQUFFLElBQUk7WUFDYixPQUFPLEVBQUUsSUFBSTtZQUViLFNBQVMsRUFBRTtnQkFDVCxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2dCQUNwRSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2dCQUVwRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2dCQUNsRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2dCQUNsRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2dCQUNsRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2dCQUVsRSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2dCQUNwRSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFFLEVBQUUsSUFBSSxFQUFFLHNCQUFjLENBQUMsS0FBSyxFQUFFO2FBQ3JFO1lBQ0QsTUFBTSxFQUFFLFFBQVE7U0FDakIsQ0FBQyxDQUFD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QUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFO2dCQUMvQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRTtnQkFDL0MsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxlQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUU7Z0JBQy9DLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFO2dCQUMvQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRTtnQkFDL0MsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxlQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBRSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUU7Z0JBQzlDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFO2dCQUMvQyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRTtnQkFDL0MsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxlQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUU7Z0JBQ2hELEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FB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LEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7b0JBQ3BFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7b0JBRXBFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7b0JBQ2xFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7b0JBQ2xFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7b0JBQ2xFLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7b0JBRWxFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7b0JBQ3BFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsZUFBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUUsRUFBRSxJQUFJLEVBQUUsc0JBQWMsQ0FBQyxLQUFLLEVBQUU7aUJBQ3JFO2dCQUNELE1BQU0sRUFBRTtvQkFDTjt3QkFDRSxJQUFJLEVBQUUsa0JBQVUsQ0FBQyxNQUFNO3dCQUN2QixLQUFLLEVBQUUsZ0JBQU0sQ0FB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S0FBSyxDQUFDO3FCQUNyQztpQkFDRjthQUNGO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUkseUJBQWdCLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxhQUFRLEVBQUUsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUE1Q0Qsd0NBNENDO0lBRUQsU0FBUyxTQUFTLENBQUMsSUFBZTtRQUNoQyx1QkFBdUI7UUFDdkIseUJBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxxQkFBUSxFQUFFLHNCQUFTLENBQUMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7Ozs7O0lDekRELHVCQUFXLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDckIsTUFBTSw0QkFBZ0IsRUFBRSxDQUFBO1FBQ3hCLE1BQU0sc0JBQWMsRUFBRSxDQUFBO1FBQ3RCLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNaLENBQUMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBCYXNpY0FsaWdubWVudCB9IGZyb20gXCJAYXJkdXovQ29ubmVjdGlvbnNcIjtcblxuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcInNkay9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuaW1wb3J0IHsgc2tpbGxzLCBpdGVtcyB9IGZyb20gXCJzZGsvQmFsYW5jZVwiO1xuaW1wb3J0IHsgQXJjaGV0eXBlcyB9IGZyb20gXCJzZGsvQ29tcG9uZW50cy9BcmNoZXR5cGVcIjtcbmltcG9ydCB7IFNraWxsU2xvdHMsIENoYXJDbGFzcywgUmFjZSwgR2VuZGVyLCBJbnZlbnRvcnlTbG90cyB9IGZyb20gXCJzZGsvRW51bXNcIjtcbmltcG9ydCB7IGdldEhlYWQgfSBmcm9tIFwic2RrL0F0b21pY0hlbHBlcnMvQm9keUhlbHBlcnNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEFyY2hldHlwZXMoY2hhcjogQ2hhcmFjdGVyLCBhbGlnbm1lbnRzOiBCYXNpY0FsaWdubWVudFtdKSB7XG4gIGNvbnN0IGFyY2ggPSBjaGFyLmdldENvbXBvbmVudE9yQ3JlYXRlKEFyY2hldHlwZXMpO1xuICBjb25zdCBuaWNrID0gY2hhci5ib2R5Lm5pY2s7XG5cbiAgYXJjaC5hbGlnbm1lbnRzID0gYWxpZ25tZW50cztcblxuICBjb25zdCBoZWNoaXpvcyA9IFtcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsMSxcbiAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDEpISxcbiAgICB9LFxuICAgIHtcbiAgICAgIHNsb3Q6IFNraWxsU2xvdHMuU3BlbGwyLFxuICAgICAgc2tpbGw6IHNraWxscy5nZXQoMikhLFxuICAgIH0sXG4gICAge1xuICAgICAgc2xvdDogU2tpbGxTbG90cy5TcGVsbDMsXG4gICAgICBza2lsbDogc2tpbGxzLmdldCgzKSEsXG4gICAgfSxcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsNCxcbiAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDQxKSEsXG4gICAgfSxcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsNSxcbiAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDMxKSEsXG4gICAgfSxcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsNixcbiAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDE0KSEsXG4gICAgfSxcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsNyxcbiAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDE1KSEsXG4gICAgfSxcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsOCxcbiAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDIzKSEsXG4gICAgfSxcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsOSxcbiAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDI1KSEsXG4gICAgfSxcbiAgICB7XG4gICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsMTAsXG4gICAgICBza2lsbDogc2tpbGxzLmdldCgyNCkhLFxuICAgIH0sXG4gICAge1xuICAgICAgc2xvdDogU2tpbGxTbG90cy5TcGVsbDExLFxuICAgICAgc2tpbGw6IHNraWxscy5nZXQoMTApISxcbiAgICB9LFxuICBdO1xuXG4gIGFyY2guc2V0QXJjaGV0eXBlKHtcbiAgICBpZDogXCJtZ1wiLFxuICAgIGNoYXJDbGFzczogQ2hhckNsYXNzLk1hZ2UsXG4gICAgcmFjZTogUmFjZS5IdW1hbixcbiAgICBnZW5kZXI6IEdlbmRlci5NYWxlLFxuICAgIGhlYWQ6IGdldEhlYWQoR2VuZGVyLk1hbGUsIFJhY2UuSHVtYW4pLFxuICAgIGJvZHk6IDEsXG4gICAgbmljayxcbiAgICBtaW5IcDogMjczLFxuICAgIG1heEhwOiAyNzMsXG5cbiAgICBtaW5NYW5hOiAyMjA2LFxuICAgIG1heE1hbmE6IDIyMDYsXG5cbiAgICBpbnZlbnRvcnk6IFtcbiAgICAgIHsgYW1vdW50OiA5OTk5OTksIGl0ZW06IGl0ZW1zLmdldCgzOCkhLCBzbG90OiBJbnZlbnRvcnlTbG90cy5TbG90MSB9LFxuICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM3KSEsIHNsb3Q6IEludmVudG9yeVNsb3RzLlNsb3QyIH0sXG5cbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg0NzQpISwgc2xvdDogSW52ZW50b3J5U2xvdHMuU2xvdDMgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg5ODYpISwgc2xvdDogSW52ZW50b3J5U2xvdHMuU2xvdDQgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg2NjApISwgc2xvdDogSW52ZW50b3J5U2xvdHMuU2xvdDUgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg2NjIpISwgc2xvdDogSW52ZW50b3J5U2xvdHMuU2xvdDYgfSxcblxuICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM4KSEsIHNsb3Q6IEludmVudG9yeVNsb3RzLkJlbHQxIH0sXG4gICAgICB7IGFtb3VudDogOTk5OTk5LCBpdGVtOiBpdGVtcy5nZXQoMzcpISwgc2xvdDogSW52ZW50b3J5U2xvdHMuQmVsdDIgfSxcbiAgICBdLFxuICAgIHNraWxsczogaGVjaGl6b3MsXG4gIH0pO1xuXG4gIGFyY2guc2V0QXJjaGV0eXBlKHtcbiAgICBpZDogXCJkcnVcIixcbiAgICBjaGFyQ2xhc3M6IENoYXJDbGFzcy5EcnVpZCxcbiAgICByYWNlOiBSYWNlLkVsZixcbiAgICBnZW5kZXI6IEdlbmRlci5NYWxlLFxuICAgIGhlYWQ6IGdldEhlYWQoR2VuZGVyLk1hbGUsIFJhY2UuSHVtYW4pLFxuICAgIGJvZHk6IDEsXG4gICAgbmljayxcbiAgICBtaW5IcDogMzEyLFxuICAgIG1heEhwOiAzMTIsXG5cbiAgICBtaW5NYW5hOiAxNjEwLFxuICAgIG1heE1hbmE6IDE2MTAsXG5cbiAgICBpbnZlbnRvcnk6IFtcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg0NzQpISwgc2xvdDogMSB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDk4NikhLCBzbG90OiAyIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMzY1KSEsIHNsb3Q6IDMgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgyMDgpISwgc2xvdDogNCB9LFxuICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM4KSEsIHNsb3Q6IDYgfSxcbiAgICAgIHsgYW1vdW50OiA5OTk5OTksIGl0ZW06IGl0ZW1zLmdldCgzNykhLCBzbG90OiA3IH0sXG4gICAgXSxcbiAgICBza2lsbHM6IGhlY2hpem9zLFxuICB9KTtcblxuICBhcmNoLnNldEFyY2hldHlwZSh7XG4gICAgaWQ6IFwiYmFyZFwiLFxuICAgIGNoYXJDbGFzczogQ2hhckNsYXNzLkJhcmQsXG4gICAgcmFjZTogUmFjZS5FbGYsXG4gICAgZ2VuZGVyOiBHZW5kZXIuRmVtYWxlLFxuICAgIGhlYWQ6IGdldEhlYWQoR2VuZGVyLk1hbGUsIFJhY2UuSHVtYW4pLFxuICAgIGJvZHk6IDEsXG4gICAgbmljayxcbiAgICBtaW5IcDogMzEyLFxuICAgIG1heEhwOiAzMTIsXG5cbiAgICBtaW5NYW5hOiAxNjEwLFxuICAgIG1heE1hbmE6IDE2MTAsXG5cbiAgICBpbnZlbnRvcnk6IFtcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg0NzQpISwgc2xvdDogMSB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDk4NikhLCBzbG90OiAyIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMTMyKSEsIHNsb3Q6IDMgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg0MDQpISwgc2xvdDogNCB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDY5NikhLCBzbG90OiA1IH0sXG4gICAgICB7IGFtb3VudDogOTk5OTk5LCBpdGVtOiBpdGVtcy5nZXQoMzgpISwgc2xvdDogNiB9LFxuICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM3KSEsIHNsb3Q6IDcgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgzOTkpISwgc2xvdDogMTEgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgzNjUpISwgc2xvdDogMTIgfSxcbiAgICBdLFxuICAgIHNraWxsczogaGVjaGl6b3MsXG4gIH0pO1xuXG4gIGFyY2guc2V0QXJjaGV0eXBlKHtcbiAgICBpZDogXCJjbGVyaWNcIixcbiAgICBjaGFyQ2xhc3M6IENoYXJDbGFzcy5DbGVyaWMsXG4gICAgcmFjZTogUmFjZS5Ecm93LFxuICAgIGdlbmRlcjogR2VuZGVyLkZlbWFsZSxcbiAgICBoZWFkOiBnZXRIZWFkKEdlbmRlci5NYWxlLCBSYWNlLkh1bWFuKSxcbiAgICBib2R5OiAxLFxuICAgIG5pY2ssXG4gICAgbWluSHA6IDMxMixcbiAgICBtYXhIcDogMzEyLFxuXG4gICAgbWluTWFuYTogMTYxMCxcbiAgICBtYXhNYW5hOiAxNjEwLFxuXG4gICAgaW52ZW50b3J5OiBbXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoNDc0KSEsIHNsb3Q6IDEgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgzNTkpISwgc2xvdDogMiB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDEyOCkhLCBzbG90OiAzIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMTMxKSEsIHNsb3Q6IDQgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg2OTYpISwgc2xvdDogNSB9LFxuICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM4KSEsIHNsb3Q6IDYgfSxcbiAgICAgIHsgYW1vdW50OiA5OTk5OTksIGl0ZW06IGl0ZW1zLmdldCgzNykhLCBzbG90OiA3IH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMTI5KSEsIHNsb3Q6IDExIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMzY1KSEsIHNsb3Q6IDEyIH0sXG4gICAgXSxcbiAgICBza2lsbHM6IGhlY2hpem9zLFxuICB9KTtcblxuICBhcmNoLnNldEFyY2hldHlwZSh7XG4gICAgaWQ6IFwicGFsYVwiLFxuICAgIGNoYXJDbGFzczogQ2hhckNsYXNzLlBhbGFkaW4sXG4gICAgcmFjZTogUmFjZS5IdW1hbixcbiAgICBnZW5kZXI6IEdlbmRlci5GZW1hbGUsXG4gICAgaGVhZDogZ2V0SGVhZChHZW5kZXIuTWFsZSwgUmFjZS5IdW1hbiksXG4gICAgYm9keTogMSxcbiAgICBuaWNrLFxuICAgIG1pbkhwOiAzOTAsXG4gICAgbWF4SHA6IDM5MCxcblxuICAgIG1pbk1hbmE6IDcwMixcbiAgICBtYXhNYW5hOiA3MDIsXG5cbiAgICBpbnZlbnRvcnk6IFtcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg0NzQpISwgc2xvdDogMSB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDE5NSkhLCBzbG90OiAyIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMTI4KSEsIHNsb3Q6IDMgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgxMzEpISwgc2xvdDogNCB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDY5NikhLCBzbG90OiA1IH0sXG4gICAgICB7IGFtb3VudDogOTk5OTk5LCBpdGVtOiBpdGVtcy5nZXQoMzgpISwgc2xvdDogNiB9LFxuICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM3KSEsIHNsb3Q6IDcgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgxMjkpISwgc2xvdDogMTEgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgzNjUpISwgc2xvdDogMTIgfSxcbiAgICBdLFxuICAgIHNraWxsczogaGVjaGl6b3MsXG4gIH0pO1xuXG4gIGFyY2guc2V0QXJjaGV0eXBlKHtcbiAgICBpZDogXCJhc2VcIixcbiAgICBjaGFyQ2xhc3M6IENoYXJDbGFzcy5Bc3Nhc2luLFxuICAgIHJhY2U6IFJhY2UuRHJvdyxcbiAgICBnZW5kZXI6IEdlbmRlci5NYWxlLFxuICAgIGhlYWQ6IGdldEhlYWQoR2VuZGVyLk1hbGUsIFJhY2UuSHVtYW4pLFxuICAgIGJvZHk6IDEsXG4gICAgbmljayxcbiAgICBtaW5IcDogMzEyLFxuICAgIG1heEhwOiAzMTIsXG5cbiAgICBtaW5NYW5hOiA4MzAsXG4gICAgbWF4TWFuYTogODMwLFxuXG4gICAgaW52ZW50b3J5OiBbXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoNDc0KSEsIHNsb3Q6IDEgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgzNTYpISwgc2xvdDogMiB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDQwNCkhLCBzbG90OiAzIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMTMxKSEsIHNsb3Q6IDQgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg2OTYpISwgc2xvdDogNSB9LFxuICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM4KSEsIHNsb3Q6IDYgfSxcbiAgICAgIHsgYW1vdW50OiA5OTk5OTksIGl0ZW06IGl0ZW1zLmdldCgzNykhLCBzbG90OiA3IH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMzk5KSEsIHNsb3Q6IDExIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMzY3KSEsIHNsb3Q6IDEyIH0sXG4gICAgXSxcbiAgICBza2lsbHM6IGhlY2hpem9zLFxuICB9KTtcblxuICBhcmNoLnNldEFyY2hldHlwZSh7XG4gICAgaWQ6IFwiZ3VlcnJlXCIsXG4gICAgY2hhckNsYXNzOiBDaGFyQ2xhc3MuV2FycmlvcixcbiAgICByYWNlOiBSYWNlLkR3YXJmLFxuICAgIGdlbmRlcjogR2VuZGVyLk1hbGUsXG4gICAgaGVhZDogZ2V0SGVhZChHZW5kZXIuTWFsZSwgUmFjZS5IdW1hbiksXG4gICAgYm9keTogMSxcbiAgICBuaWNrLFxuICAgIG1pbkhwOiA0MjksXG4gICAgbWF4SHA6IDQyOSxcblxuICAgIG1pbk1hbmE6IDAsXG4gICAgbWF4TWFuYTogMCxcblxuICAgIGludmVudG9yeTogW1xuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDQ3NCkhLCBzbG90OiAxIH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoMjQzKSEsIHNsb3Q6IDIgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgxMjgpISwgc2xvdDogMyB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDEzMSkhLCBzbG90OiA0IH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoNjk2KSEsIHNsb3Q6IDUgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCgzOCkhLCBzbG90OiA2IH0sXG4gICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoNDc5KSEsIHNsb3Q6IDcgfSxcbiAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg0ODApISwgc2xvdDogOCB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDEyOSkhLCBzbG90OiAxMSB9LFxuICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDE2NCkhLCBzbG90OiAxMiB9LFxuICAgIF0sXG4gICAgc2tpbGxzOiBbXSxcbiAgfSk7XG5cbiAgYXJjaC5kaXJ0eSA9IHRydWU7XG59XG4iLCJpbXBvcnQgeyBDaGFyYWN0ZXJEZXNjcmlwdGlvbiB9IGZyb20gXCJzZGsvRGVjbGFyZXNcIjtcbmltcG9ydCB7IEFyY2hldHlwZXMgfSBmcm9tIFwic2RrL0NvbXBvbmVudHMvQXJjaGV0eXBlXCI7XG5pbXBvcnQgeyBsb2FkQ2hhcmFjdGVyRnJvbUFyY2hldHlwZSB9IGZyb20gXCJzZGsvRnVuY3Rpb25zL0hlbHBlcnNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFpU3RyYXRlZ3kge1xuICBhYnN0cmFjdCB0aWNrKGVudGl0eTogSUVudGl0eSwgbm93OiBudW1iZXIpOiB2b2lkO1xuICBhYnN0cmFjdCBnZXQgYXJjaGV0eXBlKCk6IENoYXJhY3RlckRlc2NyaXB0aW9uO1xuXG4gIHN0YXJ0KGVudGl0eTogSUVudGl0eSkge1xuICAgIGNvbnN0IGFyY2hldHlwZSA9IHRoaXMuYXJjaGV0eXBlO1xuICAgIGVudGl0eS5nZXRDb21wb25lbnRPckNyZWF0ZShBcmNoZXR5cGVzKS5zZXRBcmNoZXR5cGUoYXJjaGV0eXBlKTtcbiAgICBsb2FkQ2hhcmFjdGVyRnJvbUFyY2hldHlwZShlbnRpdHksIGFyY2hldHlwZS5pZCk7XG4gIH1cbn1cblxuQENvbXBvbmVudChcImFpXCIpXG5leHBvcnQgY2xhc3MgQmFzZUFJIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHN0cmF0ZWd5OiBBaVN0cmF0ZWd5KSB7fVxufVxuXG5AQ29tcG9uZW50KFwidGFyZ2V0RW50aXR5XCIpXG5leHBvcnQgY2xhc3MgVGFyZ2V0RW50aXR5IHtcbiAgZW50aXR5OiBFbnRpdHkgfCBudWxsID0gbnVsbDtcbn1cbiIsImltcG9ydCB0eXBlIHsgQmFzaWNBbGlnbm1lbnQgfSBmcm9tIFwiQGFyZHV6L0Nvbm5lY3Rpb25zXCI7XG5cbkBDb21wb25lbnQoXCJhbGlnbm1lbnRcIilcbmV4cG9ydCBjbGFzcyBBbGlnbm1lbnQgaW1wbGVtZW50cyBCYXNpY0FsaWdubWVudCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBpZDogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgY29sb3I6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZykge31cbn1cblxuZXhwb3J0IGNvbnN0IFJFRF9URUFNID0gbmV3IEFsaWdubWVudChcInJlZFwiLCBcIiNmZjAwMDBcIiwgXCJDaGFvdGljXCIpO1xuZXhwb3J0IGNvbnN0IEJMVUVfVEVBTSA9IG5ldyBBbGlnbm1lbnQoXCJibHVlXCIsIFwiIzAwMDBmZlwiLCBcIkxhd2Z1bFwiKTtcbiIsImltcG9ydCB7IENoYXJhY3RlckRlc2NyaXB0aW9uIH0gZnJvbSBcInNkay9EZWNsYXJlc1wiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcInNkay9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuaW1wb3J0IHsgZ2V0UmFuZG9tSW50ZWdlciwgZGlzdGFuY2UgfSBmcm9tIFwic2RrL0F0b21pY0hlbHBlcnMvTnVtYmVyc1wiO1xuaW1wb3J0IHsgaXRlbXMsIHNraWxscyB9IGZyb20gXCJzZGsvQmFsYW5jZVwiO1xuaW1wb3J0IHsgaXNJbnZpc2libGUgfSBmcm9tIFwic2RrL0NvbXBvbmVudHMvSW52aXNpYmxlXCI7XG5pbXBvcnQgeyBBaVN0cmF0ZWd5LCBUYXJnZXRFbnRpdHkgfSBmcm9tIFwiLi9CYXNlXCI7XG5pbXBvcnQge1xuICBlbnRpdGllc1dpdGhCb2R5QW5kUG9zaXRpb24sXG4gIFdvcmxkUG9zaXRpb24sXG59IGZyb20gXCJzZGsvQ29tcG9uZW50cy9Xb3JsZFBvc2l0aW9uXCI7XG5pbXBvcnQgeyBjaGFyVXNlc0l0ZW0gfSBmcm9tIFwic2RrL0V2ZW50cy9DaGFyRXZlbnRzXCI7XG5pbXBvcnQgeyBpc1BhcmFseXplZCB9IGZyb20gXCJzZGsvQ29tcG9uZW50cy9QYXJhbHlzaXNcIjtcbmltcG9ydCB7XG4gIGhhbmRsZVVzZVNraWxsLFxuICBoYW5kbGVNYXBDbGljayxcbiAgaGFuZGxlV2Fsayxcbn0gZnJvbSBcInNkay9GdW5jdGlvbnMvbmV0d29ya0hhbmRsZXJzXCI7XG5pbXBvcnQgeyBXYWxraW5nIH0gZnJvbSBcInNkay9Db21wb25lbnRzL1dhbGtpbmdcIjtcbmltcG9ydCB7IEFsaWdubWVudCB9IGZyb20gXCIuLi9BbGlnbm1lbnRzXCI7XG5pbXBvcnQgeyBTa2lsbFNsb3RzLCBSYWNlLCBHZW5kZXIsIENoYXJDbGFzcywgSW52ZW50b3J5U2xvdHMgfSBmcm9tIFwic2RrL0VudW1zXCI7XG5pbXBvcnQgeyBnZXROYWtlZEJvZHksIGdldEhlYWQgfSBmcm9tIFwic2RrL0F0b21pY0hlbHBlcnMvQm9keUhlbHBlcnNcIjtcblxuY29uc3QgUkVNT1ZFX1BBUkFMWVNJU19TTE9UID0gU2tpbGxTbG90cy5TcGVsbDM7XG5jb25zdCBERVNDX1NMT1QgPSBTa2lsbFNsb3RzLlNwZWxsNztcbmNvbnN0IEFQT0tBX1NMT1QgPSBTa2lsbFNsb3RzLlNwZWxsODtcbmNvbnN0IElOTU9fU0xPVCA9IFNraWxsU2xvdHMuU3BlbGwyO1xuXG5leHBvcnQgY2xhc3MgTWFnZUFpIGV4dGVuZHMgQWlTdHJhdGVneSB7XG4gIG5leHRUaWNrID0gMDtcblxuICByb2xsRGljZShmYWNlczogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgZmFjZXMgPSBmYWNlcyB8IDA7XG4gICAgcmV0dXJuIGdldFJhbmRvbUludGVnZXIoMCwgZmFjZXMpID09IGZhY2VzO1xuICB9XG5cbiAgZ2V0IGFyY2hldHlwZSgpOiBDaGFyYWN0ZXJEZXNjcmlwdGlvbiB7XG4gICAgY29uc3QgcmFjZSA9IFJhY2UuSHVtYW47XG4gICAgY29uc3QgZ2VuZGVyID0gR2VuZGVyLk1hbGU7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IFwibWdcIixcbiAgICAgIGNoYXJDbGFzczogQ2hhckNsYXNzLk1hZ2UsXG4gICAgICByYWNlOiBSYWNlLkh1bWFuLFxuICAgICAgZ2VuZGVyOiBHZW5kZXIuTWFsZSxcbiAgICAgIG1pbkhwOiAyNzMsXG4gICAgICBtYXhIcDogMjczLFxuXG4gICAgICBtaW5NYW5hOiAyMjA2LFxuICAgICAgbWF4TWFuYTogMjIwNixcblxuICAgICAgaW52ZW50b3J5OiBbXG4gICAgICAgIHsgYW1vdW50OiA5OTk5OTksIGl0ZW06IGl0ZW1zLmdldCgzOCkhLCBzbG90OiBJbnZlbnRvcnlTbG90cy5TbG90MSB9LFxuICAgICAgICB7IGFtb3VudDogOTk5OTk5LCBpdGVtOiBpdGVtcy5nZXQoMzcpISwgc2xvdDogSW52ZW50b3J5U2xvdHMuU2xvdDIgfSxcblxuICAgICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoNDc0KSEsIHNsb3Q6IEludmVudG9yeVNsb3RzLlNsb3QzIH0sXG4gICAgICAgIHsgYW1vdW50OiAxMDAsIGl0ZW06IGl0ZW1zLmdldCg5ODYpISwgc2xvdDogSW52ZW50b3J5U2xvdHMuU2xvdDQgfSxcbiAgICAgICAgeyBhbW91bnQ6IDEwMCwgaXRlbTogaXRlbXMuZ2V0KDY2MCkhLCBzbG90OiBJbnZlbnRvcnlTbG90cy5TbG90NSB9LFxuICAgICAgICB7IGFtb3VudDogMTAwLCBpdGVtOiBpdGVtcy5nZXQoNjYyKSEsIHNsb3Q6IEludmVudG9yeVNsb3RzLlNsb3Q2IH0sXG5cbiAgICAgICAgeyBhbW91bnQ6IDk5OTk5OSwgaXRlbTogaXRlbXMuZ2V0KDM4KSEsIHNsb3Q6IEludmVudG9yeVNsb3RzLkJlbHQxIH0sXG4gICAgICAgIHsgYW1vdW50OiA5OTk5OTksIGl0ZW06IGl0ZW1zLmdldCgzNykhLCBzbG90OiBJbnZlbnRvcnlTbG90cy5CZWx0MiB9LFxuICAgICAgXSxcbiAgICAgIHNraWxsczogW1xuICAgICAgICB7XG4gICAgICAgICAgc2xvdDogU2tpbGxTbG90cy5TcGVsbDEsXG4gICAgICAgICAgc2tpbGw6IHNraWxscy5nZXQoNSkhLCAvLyBHUkFWRVNcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHNsb3Q6IElOTU9fU0xPVCxcbiAgICAgICAgICBza2lsbDogc2tpbGxzLmdldCgyNCkhLCAvLyBQQVJBTElaQVJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHNsb3Q6IFJFTU9WRV9QQVJBTFlTSVNfU0xPVCxcbiAgICAgICAgICBza2lsbDogc2tpbGxzLmdldCgxMCkhLCAvLyBSRU1PXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsNCxcbiAgICAgICAgICBza2lsbDogc2tpbGxzLmdldCgxMSkhLCAvLyBSRVNVXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsNSxcbiAgICAgICAgICBza2lsbDogc2tpbGxzLmdldCgxNCkhLCAvLyBJTlZJXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBzbG90OiBTa2lsbFNsb3RzLlNwZWxsNixcbiAgICAgICAgICBza2lsbDogc2tpbGxzLmdldCgxNSkhLCAvLyBUT1JNRU5UQVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc2xvdDogREVTQ19TTE9ULFxuICAgICAgICAgIHNraWxsOiBza2lsbHMuZ2V0KDIzKSEsIC8vIERFU0NcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIHNsb3Q6IEFQT0tBX1NMT1QsXG4gICAgICAgICAgc2tpbGw6IHNraWxscy5nZXQoMjUpISwgLy8gQVBPS1xuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIG5pY2s6IFwiTWFnZSBCT1RcIixcbiAgICAgIGJvZHk6IGdldE5ha2VkQm9keShnZW5kZXIsIHJhY2UpLFxuICAgICAgaGVhZDogZ2V0SGVhZChnZW5kZXIsIHJhY2UpLFxuICAgIH07XG4gIH1cblxuICBzdGF0c1RpY2soY2hhcjogSUVudGl0eSkge1xuICAgIGlmIChjaGFyIGluc3RhbmNlb2YgQ2hhcmFjdGVyKSB7XG4gICAgICBjb25zdCBjaGFuY2VzT2ZEcmlua2luZ1Bvc2lvbiA9IGlzUGFyYWx5emVkKGNoYXIpID8gMCA6IDM7XG5cbiAgICAgIGlmICghY2hhci50aW1lcnMuY2FuVXNlSXRlbShmYWxzZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5yb2xsRGljZShjaGFuY2VzT2ZEcmlua2luZ1Bvc2lvbikpIHtcbiAgICAgICAgaWYgKGNoYXIuc3RhdHMubWluSHAgPCBjaGFyLnN0YXRzLm1heEhwKSB7XG4gICAgICAgICAgLy8gcmVzdG9yZSBIUCBpcyB0aGUgcHJpb3JpdHlcbiAgICAgICAgICBjaGFyVXNlc0l0ZW0oY2hhciwgSW52ZW50b3J5U2xvdHMuQmVsdDEpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoYXIuc3RhdHMubWluTWFuYSA8IGNoYXIuc3RhdHMubWF4TWFuYSkge1xuICAgICAgICAgIC8vIHJlc3RvcmUgTUFOQSB3aGVuIHBvc3NpYmxlXG4gICAgICAgICAgY2hhclVzZXNJdGVtKGNoYXIsIEludmVudG9yeVNsb3RzLkJlbHQyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFjcXVpcmVUYXJnZXQoZW50aXR5OiBJRW50aXR5KSB7XG4gICAgbGV0IGJlc3RUYXJnZXQ6IEVudGl0eSB8IG51bGwgPSBudWxsO1xuICAgIGxldCBiZXN0VGFyZ2V0RGlzdGFuY2U6IG51bWJlciA9IDk5OTk5OTk7XG5cbiAgICBjb25zdCBlbnRpdHlBbGlnbm1lbnQgPSBlbnRpdHkuZ2V0Q29tcG9uZW50T3JOdWxsKEFsaWdubWVudCk7XG4gICAgY29uc3QgZW50aXR5UG9zaXRpb24gPSBlbnRpdHkuZ2V0Q29tcG9uZW50KFdvcmxkUG9zaXRpb24pO1xuXG4gICAgaWYgKCFlbnRpdHlBbGlnbm1lbnQpIHJldHVybjtcblxuICAgIGZvciAobGV0IGNoYXIgb2YgZW50aXRpZXNXaXRoQm9keUFuZFBvc2l0aW9uKCkpIHtcbiAgICAgIGlmIChjaGFyIGluc3RhbmNlb2YgQ2hhcmFjdGVyKSB7XG4gICAgICAgIGlmIChjaGFyID09IGVudGl0eSkgY29udGludWU7XG4gICAgICAgIGlmIChjaGFyLmJvZHkuZGVhZCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGFsaWdubWVudCA9IGNoYXIuZ2V0Q29tcG9uZW50T3JOdWxsKEFsaWdubWVudCk7XG5cbiAgICAgICAgaWYgKCFhbGlnbm1lbnQgfHwgYWxpZ25tZW50ID09IGVudGl0eUFsaWdubWVudCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzSW52aXNpYmxlKGNoYXIpKSBjb250aW51ZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGNoYXIuZ2V0Q29tcG9uZW50KFdvcmxkUG9zaXRpb24pO1xuXG4gICAgICAgIGNvbnN0IGRpc3QgPSBkaXN0YW5jZShcbiAgICAgICAgICBlbnRpdHlQb3NpdGlvbi54LFxuICAgICAgICAgIGVudGl0eVBvc2l0aW9uLnksXG4gICAgICAgICAgcG9zaXRpb24ueCxcbiAgICAgICAgICBwb3NpdGlvbi55XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gcGljayBjbG9zZXN0IGNoYXJhY3RlclxuICAgICAgICBpZiAoIWJlc3RUYXJnZXQgfHwgYmVzdFRhcmdldERpc3RhbmNlID4gZGlzdCkge1xuICAgICAgICAgIGJlc3RUYXJnZXQgPSBjaGFyO1xuICAgICAgICAgIGJlc3RUYXJnZXREaXN0YW5jZSA9IGRpc3Q7XG4gICAgICAgICAgaWYgKGRpc3QgPD0gMykgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYmVzdFRhcmdldCkge1xuICAgICAgZW50aXR5LmdldENvbXBvbmVudE9yQ3JlYXRlKFRhcmdldEVudGl0eSkuZW50aXR5ID0gYmVzdFRhcmdldDtcbiAgICB9XG4gIH1cblxuICB0aWNrKG1lOiBJRW50aXR5LCBub3c6IG51bWJlcikge1xuICAgIGlmICghKG1lIGluc3RhbmNlb2YgQ2hhcmFjdGVyKSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLm5leHRUaWNrID4gbm93KSByZXR1cm47XG4gICAgdGhpcy5uZXh0VGljayA9IG5vdyArIDAuMDUgKyAwLjEzICogTWF0aC5yYW5kb20oKTtcblxuICAgIGlmIChtZS5ib2R5LmRlYWQpIHtcbiAgICAgIGlmICh0aGlzLnJvbGxEaWNlKDEyKSkge1xuICAgICAgICBoYW5kbGVXYWxrKG1lLCBnZXRSYW5kb21JbnRlZ2VyKDAsIDMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRzVGljayhtZSk7XG5cbiAgICBjb25zdCBza2lsbHMgPSBtZS5za2lsbHM7XG4gICAgY29uc3QgdGltZXJzID0gbWUudGltZXJzO1xuXG4gICAgaWYgKCFza2lsbHMpIHJldHVybjtcblxuICAgIGxldCB0YXJnZXQgPSBtZS5nZXRDb21wb25lbnRPck51bGwoVGFyZ2V0RW50aXR5KTtcblxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmVudGl0eSkge1xuICAgICAgaWYgKFxuICAgICAgICBpc0ludmlzaWJsZSh0YXJnZXQuZW50aXR5KSB8fFxuICAgICAgICAodGFyZ2V0LmVudGl0eSBpbnN0YW5jZW9mIENoYXJhY3RlciAmJiB0YXJnZXQuZW50aXR5LmJvZHkuZGVhZClcbiAgICAgICkge1xuICAgICAgICB0YXJnZXQuZW50aXR5ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LmVudGl0eSB8fCB0aGlzLnJvbGxEaWNlKDEpKSB7XG4gICAgICB0aGlzLmFjcXVpcmVUYXJnZXQobWUpO1xuICAgIH1cblxuICAgIHRhcmdldCA9IG1lLmdldENvbXBvbmVudE9yTnVsbChUYXJnZXRFbnRpdHkpO1xuXG4gICAgY29uc3QgdGFyZ2V0Q2hhciA9XG4gICAgICB0YXJnZXQgJiYgdGFyZ2V0LmVudGl0eSBpbnN0YW5jZW9mIENoYXJhY3RlciAmJiB0YXJnZXQuZW50aXR5O1xuXG4gICAgaWYgKGlzUGFyYWx5emVkKG1lKSkge1xuICAgICAgLy8gY2FzdCByZW1vdmUgcGFyYWx5c2lzIHNwZWxsXG4gICAgICBpZiAodGltZXJzLmNhblNwZWxsKGZhbHNlKSkge1xuICAgICAgICBpZiAodGhpcy5yb2xsRGljZSg2KSkge1xuICAgICAgICAgIGhhbmRsZVVzZVNraWxsKG1lLCBSRU1PVkVfUEFSQUxZU0lTX1NMT1QpO1xuICAgICAgICAgIGhhbmRsZU1hcENsaWNrKG1lLCBtZS5wb3NpdGlvbi54LCBtZS5wb3NpdGlvbi55KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmICh0YXJnZXRDaGFyICYmICF0YXJnZXRDaGFyLmJvZHkuZGVhZCkge1xuICAgICAgY29uc3QgYXR0YWNrRGlzdGFuY2UgPSAxMDA7XG5cbiAgICAgIGlmICh0aW1lcnMuY2FuU3BlbGwoZmFsc2UpKSB7XG4gICAgICAgIGNvbnN0IGlzVGFyZ2V0UGFyYWx5emVkID0gaXNQYXJhbHl6ZWQodGFyZ2V0Q2hhcik7XG4gICAgICAgIGNvbnN0IGJhc2VSYW5kb20gPSAyO1xuICAgICAgICBjb25zdCBkaXN0ID0gZGlzdGFuY2UoXG4gICAgICAgICAgbWUucG9zaXRpb24ueCxcbiAgICAgICAgICBtZS5wb3NpdGlvbi55LFxuICAgICAgICAgIHRhcmdldENoYXIucG9zaXRpb24ueCxcbiAgICAgICAgICB0YXJnZXRDaGFyLnBvc2l0aW9uLnlcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2VEaWZmaWN1bHR5ID0gNCAqIChkaXN0IC8gYXR0YWNrRGlzdGFuY2UpO1xuICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gaXNUYXJnZXRQYXJhbHl6ZWQgPyAwIDogKDIgKyBkaXN0YW5jZURpZmZpY3VsdHkpIHwgMDtcblxuICAgICAgICBpZiAoZGlzdCA+IGF0dGFja0Rpc3RhbmNlKSB7XG4gICAgICAgICAgLy8gZG8gbm90aGluZywgd2UgYXJlIGZhciBhd2F5XG4gICAgICAgIH0gZWxzZSBpZiAoIXRoaXMucm9sbERpY2UobXVsdGlwbGllcikpIHtcbiAgICAgICAgICAvLyBkbyBub3RoaW5nLCB3ZSBtaXNzZWRcbiAgICAgICAgICB0aW1lcnMuY2FuU3BlbGwodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hdHRhY2sobWUsIHRhcmdldENoYXIsIGJhc2VSYW5kb20gKiBtdWx0aXBsaWVyICsgMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGltZXJzLmNhbldhbGsoKSkge1xuICAgICAgaWYgKHRhcmdldENoYXIpIHtcbiAgICAgICAgbWUuZ2V0Q29tcG9uZW50T3JDcmVhdGUoV2Fsa2luZykudGFyZ2V0ID0gdGFyZ2V0Q2hhci5wb3NpdGlvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnJvbGxEaWNlKDMpKSB7XG4gICAgICAgICAgaGFuZGxlV2FsayhtZSwgZ2V0UmFuZG9tSW50ZWdlcigwLCAzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGF0dGFjayhtZTogQ2hhcmFjdGVyLCB0YXJnZXRDaGFyOiBDaGFyYWN0ZXIsIGJhc2VDaGFuY2VzOiBudW1iZXIpIHtcbiAgICBjb25zdCBza2lsbHMgPSBtZS5za2lsbHMhO1xuXG4gICAgaWYgKFxuICAgICAgIWlzUGFyYWx5emVkKHRhcmdldENoYXIpICYmXG4gICAgICB0aGlzLnJvbGxEaWNlKGJhc2VDaGFuY2VzKSAmJlxuICAgICAgKHRhcmdldENoYXIuYm9keS5jaGFyQ2xhc3MgPT09IENoYXJDbGFzcy5XYXJyaW9yIHx8XG4gICAgICAgIHRhcmdldENoYXIuYm9keS5jaGFyQ2xhc3MgPT09IENoYXJDbGFzcy5IdW50ZXIgfHxcbiAgICAgICAgdGhpcy5yb2xsRGljZShiYXNlQ2hhbmNlcykpICYmXG4gICAgICBza2lsbHMuZW5vdWdoTWFuYUZvcihJTk1PX1NMT1QsIG1lLnN0YXRzKVxuICAgICkge1xuICAgICAgaGFuZGxlVXNlU2tpbGwobWUsIElOTU9fU0xPVCk7XG4gICAgICBoYW5kbGVNYXBDbGljayhtZSwgdGFyZ2V0Q2hhci5wb3NpdGlvbi54LCB0YXJnZXRDaGFyLnBvc2l0aW9uLnkpO1xuICAgIH0gZWxzZSBpZiAoc2tpbGxzLmVub3VnaE1hbmFGb3IoQVBPS0FfU0xPVCwgbWUuc3RhdHMpKSB7XG4gICAgICBoYW5kbGVVc2VTa2lsbChtZSwgQVBPS0FfU0xPVCk7XG4gICAgICBoYW5kbGVNYXBDbGljayhtZSwgdGFyZ2V0Q2hhci5wb3NpdGlvbi54LCB0YXJnZXRDaGFyLnBvc2l0aW9uLnkpO1xuICAgIH0gZWxzZSBpZiAoc2tpbGxzLmVub3VnaE1hbmFGb3IoREVTQ19TTE9ULCBtZS5zdGF0cykpIHtcbiAgICAgIGhhbmRsZVVzZVNraWxsKG1lLCBERVNDX1NMT1QpO1xuICAgICAgaGFuZGxlTWFwQ2xpY2sobWUsIHRhcmdldENoYXIucG9zaXRpb24ueCwgdGFyZ2V0Q2hhci5wb3NpdGlvbi55KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgQmFzaWNBbGlnbm1lbnQgfSBmcm9tIFwiQGFyZHV6L0Nvbm5lY3Rpb25zXCI7XG5cbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCJzZGsvQ29tcG9uZW50cy9DaGFyYWN0ZXJcIjtcbmltcG9ydCB7IE1hcERhdGEgfSBmcm9tIFwic2RrL0NvbXBvbmVudHMvTWFwRGF0YVwiO1xuaW1wb3J0IHsgV29ybGRQb3NpdGlvbiB9IGZyb20gXCJzZGsvQ29tcG9uZW50cy9Xb3JsZFBvc2l0aW9uXCI7XG5pbXBvcnQgeyBCYXNlQUkgfSBmcm9tIFwiLi9BSS9CYXNlXCI7XG5pbXBvcnQgeyBNYWdlQWkgfSBmcm9tIFwiLi9BSS9NYWdlXCI7XG5pbXBvcnQgeyBBbGlnbm1lbnQsIFJFRF9URUFNLCBCTFVFX1RFQU0gfSBmcm9tIFwiLi9BbGlnbm1lbnRzXCI7XG5pbXBvcnQgeyBBdXRvbWF0aWNFcXVpcCB9IGZyb20gXCJzZGsvQ29tcG9uZW50cy9BdXRvbWF0aWNFcXVpcFwiO1xuaW1wb3J0IHsgQ29uc29sZU1lc3NhZ2VzIH0gZnJvbSBcInNkay9FbnVtc1wiO1xuXG5leHBvcnQgY2xhc3MgVGVhbVJvdW5kc1N5c3RlbSBpbXBsZW1lbnRzIElTeXN0ZW0ge1xuICBwcml2YXRlIHRpbWVDb3VudGVyID0gMDtcblxuICBwcml2YXRlIGFsaWduZWRFbnRpdGllcyE6IENvbXBvbmVudEdyb3VwO1xuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBhY3RpdmF0ZShlbmdpbmU6IEVuZ2luZSkge1xuICAgIHRoaXMuYWxpZ25lZEVudGl0aWVzID0gZW5naW5lLmdldENvbXBvbmVudEdyb3VwKEFsaWdubWVudCk7XG4gIH1cblxuICB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGltZUNvdW50ZXIgKz0gZHQ7XG4gICAgaWYgKHRoaXMudGltZUNvdW50ZXIgPCA0KSByZXR1cm47XG4gICAgdGhpcy50aW1lQ291bnRlciA9IDA7XG5cbiAgICBpZiAodGhpcy5hbGlnbmVkRW50aXRpZXMuZW50aXRpZXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLmNoZWNrUm91bmQoKTtcbiAgICB9XG4gIH1cblxuICAqdXNlcnMoKSB7XG4gICAgZm9yIChsZXQgY2hhciBvZiB0aGlzLmFsaWduZWRFbnRpdGllcy5lbnRpdGllcykge1xuICAgICAgaWYgKGNoYXIgaW5zdGFuY2VvZiBDaGFyYWN0ZXIgJiYgY2hhci5jb25uZWN0aW9uKSB7XG4gICAgICAgIHlpZWxkIHsgY2hhciwgYWxpZ25tZW50OiBjaGFyLmdldENvbXBvbmVudChBbGlnbm1lbnQpIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgKmJvdHMoKSB7XG4gICAgZm9yIChsZXQgY2hhciBvZiB0aGlzLmFsaWduZWRFbnRpdGllcy5lbnRpdGllcykge1xuICAgICAgaWYgKGNoYXIgaW5zdGFuY2VvZiBDaGFyYWN0ZXIgJiYgIWNoYXIuY29ubmVjdGlvbikge1xuICAgICAgICB5aWVsZCB7IGNoYXIsIGFsaWdubWVudDogY2hhci5nZXRDb21wb25lbnQoQWxpZ25tZW50KSB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVzZXJzQWxpdmUoYWxpZ25tZW50OiBCYXNpY0FsaWdubWVudCk6IG51bWJlciB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAobGV0IHVzZXIgb2YgdGhpcy51c2VycygpKSB7XG4gICAgICBpZiAodXNlci5hbGlnbm1lbnQgPT09IGFsaWdubWVudCAmJiAhdXNlci5jaGFyLmJvZHkuZGVhZCkgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIHVzZXJzVG90YWwoYWxpZ25tZW50OiBCYXNpY0FsaWdubWVudCk6IG51bWJlciB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAobGV0IHVzZXIgb2YgdGhpcy51c2VycygpKSB7XG4gICAgICBpZiAodXNlci5hbGlnbm1lbnQgPT09IGFsaWdubWVudCkgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIGFsaXZlTnBjcyhhbGlnbm1lbnQ6IEJhc2ljQWxpZ25tZW50KTogbnVtYmVyIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChsZXQgYm90IG9mIHRoaXMuYm90cygpKSB7XG4gICAgICBpZiAoYm90LmFsaWdubWVudCA9PT0gYWxpZ25tZW50ICYmICFib3QuY2hhci5ib2R5LmRlYWQpIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICBib3RzVG90YWwoYWxpZ25tZW50OiBCYXNpY0FsaWdubWVudCk6IG51bWJlciB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAobGV0IHVzZXIgb2YgdGhpcy5ib3RzKCkpIHtcbiAgICAgIGlmICh1c2VyLmFsaWdubWVudCA9PT0gYWxpZ25tZW50KSBpKys7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG5cbiAgY2hlY2tSb3VuZCgpIHtcbiAgICBsZXQgc29tZVRlYW1Jc0RlYWQ6IG51bGwgfCBzdHJpbmcgPSBudWxsO1xuXG4gICAgY29uc3QgYWxpdmVSZWQgPSB0aGlzLnVzZXJzQWxpdmUoUkVEX1RFQU0pO1xuICAgIGNvbnN0IGFsaXZlQmx1ZSA9IHRoaXMudXNlcnNBbGl2ZShCTFVFX1RFQU0pO1xuXG4gICAgY29uc3QgdG90YWxSZWQgPSB0aGlzLnVzZXJzVG90YWwoUkVEX1RFQU0pO1xuICAgIGNvbnN0IHRvdGFsQmx1ZSA9IHRoaXMudXNlcnNUb3RhbChCTFVFX1RFQU0pO1xuXG4gICAgaWYgKCh0b3RhbFJlZCAmJiAhYWxpdmVSZWQpIHx8ICghYWxpdmVSZWQgJiYgIXRoaXMuYWxpdmVOcGNzKFJFRF9URUFNKSkpIHtcbiAgICAgIHNvbWVUZWFtSXNEZWFkID0gUkVEX1RFQU0uaWQ7XG4gICAgfVxuXG4gICAgaWYgKCh0b3RhbEJsdWUgJiYgIWFsaXZlQmx1ZSkgfHwgKCFhbGl2ZUJsdWUgJiYgIXRoaXMuYWxpdmVOcGNzKEJMVUVfVEVBTSkpKSB7XG4gICAgICBzb21lVGVhbUlzRGVhZCA9IEJMVUVfVEVBTS5pZDtcbiAgICB9XG5cbiAgICBpZiAoIXNvbWVUZWFtSXNEZWFkKSByZXR1cm47XG5cbiAgICBmb3IgKGxldCB7IGNoYXIgfSBvZiB0aGlzLnVzZXJzKCkpIHtcbiAgICAgIGNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKFwiVGhlIFwiICsgc29tZVRlYW1Jc0RlYWQgKyBcIiB0ZWFtIGxvb3NlcyB0aGlzIHJvdW5kIVwiKTtcbiAgICAgIGNoYXIuc2VuZENvbnNvbGVNZXNzYWdlKENvbnNvbGVNZXNzYWdlc1tcIlJlc3RhcnRpbmcgcm91bmRcIl0pO1xuICAgICAgdGhpcy5nb1RvQmFzZShjaGFyKTtcbiAgICAgIGNoYXIucmVzdWNpdGF0ZSh0cnVlKTtcbiAgICAgIGNoYXIuZ2V0Q29tcG9uZW50T3JDcmVhdGUoQXV0b21hdGljRXF1aXApO1xuICAgIH1cblxuICAgIHRoaXMuYmFsYW5jZUJvdHMoKTtcblxuICAgIGZvciAobGV0IHsgY2hhciB9IG9mIHRoaXMuYm90cygpKSB7XG4gICAgICB0aGlzLmdvVG9CYXNlKGNoYXIpO1xuICAgICAgY2hhci5yZXN1Y2l0YXRlKHRydWUpO1xuICAgICAgY2hhci5nZXRDb21wb25lbnRPckNyZWF0ZShBdXRvbWF0aWNFcXVpcCk7XG4gICAgfVxuICB9XG5cbiAgYmFsYW5jZUJvdHMoKSB7XG4gICAgY29uc3QgVEVBTV9TSVpFID0gMjtcblxuICAgIGNvbnN0IGJsdWVVc2VycyA9IHRoaXMudXNlcnNUb3RhbChCTFVFX1RFQU0pO1xuICAgIGNvbnN0IHJlZFVzZXJzID0gdGhpcy51c2Vyc1RvdGFsKFJFRF9URUFNKTtcblxuICAgIGxldCBleHBlY3RlZFJlZEJvdHMgPSAwO1xuICAgIGxldCBleHBlY3RlZEJsdWVCb3RzID0gMDtcblxuICAgIGV4cGVjdGVkUmVkQm90cyA9IE1hdGgubWF4KDAsIFRFQU1fU0laRSAtIHJlZFVzZXJzKTtcbiAgICBleHBlY3RlZEJsdWVCb3RzID0gTWF0aC5tYXgoMCwgVEVBTV9TSVpFIC0gYmx1ZVVzZXJzKTtcblxuICAgIGxldCBkaWRDaGFuZ2UgPSBmYWxzZTtcblxuICAgIGxldCBibHVlQm90cyA9IHRoaXMuYm90c1RvdGFsKEJMVUVfVEVBTSk7XG4gICAgbGV0IHJlZEJvdHMgPSB0aGlzLmJvdHNUb3RhbChSRURfVEVBTSk7XG5cbiAgICB3aGlsZSAoYmx1ZUJvdHMgPiBleHBlY3RlZEJsdWVCb3RzKSB7XG4gICAgICB0aGlzLnJlbW92ZUFsaWduZWRCb3QoQkxVRV9URUFNKTtcbiAgICAgIGRpZENoYW5nZSA9IHRydWU7XG4gICAgICBibHVlQm90cy0tO1xuICAgIH1cblxuICAgIHdoaWxlIChyZWRCb3RzID4gZXhwZWN0ZWRSZWRCb3RzKSB7XG4gICAgICB0aGlzLnJlbW92ZUFsaWduZWRCb3QoUkVEX1RFQU0pO1xuICAgICAgZGlkQ2hhbmdlID0gdHJ1ZTtcbiAgICAgIHJlZEJvdHMtLTtcbiAgICB9XG5cbiAgICB3aGlsZSAoYmx1ZUJvdHMgPCBleHBlY3RlZEJsdWVCb3RzKSB7XG4gICAgICB0aGlzLmFkZEJvdChCTFVFX1RFQU0pO1xuICAgICAgZGlkQ2hhbmdlID0gdHJ1ZTtcbiAgICAgIGJsdWVCb3RzKys7XG4gICAgfVxuXG4gICAgd2hpbGUgKHJlZEJvdHMgPCBleHBlY3RlZFJlZEJvdHMpIHtcbiAgICAgIHRoaXMuYWRkQm90KFJFRF9URUFNKTtcbiAgICAgIGRpZENoYW5nZSA9IHRydWU7XG4gICAgICByZWRCb3RzKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZENoYW5nZTtcbiAgfVxuXG4gIGFkZEJvdChhbGlnbm1lbnQ6IEJhc2ljQWxpZ25tZW50KSB7XG4gICAgY29uc3QgbWFnZSA9IG5ldyBDaGFyYWN0ZXIoKTtcbiAgICBtYWdlLnBvc2l0aW9uLnggPSAyO1xuICAgIG1hZ2UucG9zaXRpb24ueSA9IDM7XG4gICAgbWFnZS5hZGRDb21wb25lbnRPclJlcGxhY2UoYWxpZ25tZW50KTtcbiAgICBtYWdlLmFkZENvbXBvbmVudChuZXcgQmFzZUFJKG5ldyBNYWdlQWkoKSkpLnN0cmF0ZWd5LnN0YXJ0KG1hZ2UpO1xuICAgIG1hZ2UuYm9keS5uaWNrID0gXCJib3RcIjtcbiAgICBtYWdlLmJvZHkuY29sb3IgPSBhbGlnbm1lbnQuY29sb3I7XG4gICAgZW5naW5lLmFkZEVudGl0eShtYWdlKTtcbiAgfVxuXG4gIHJlbW92ZUFsaWduZWRCb3QoYWxpZ25tZW50OiBCYXNpY0FsaWdubWVudCkge1xuICAgIGZvciAobGV0IGJvdCBvZiB0aGlzLmJvdHMoKSkge1xuICAgICAgaWYgKGJvdC5hbGlnbm1lbnQgPT09IGFsaWdubWVudCkge1xuICAgICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KGJvdC5jaGFyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdvVG9CYXNlKGVudGl0eTogRW50aXR5KSB7XG4gICAgY29uc3QgYWxpZ25tZW50ID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChBbGlnbm1lbnQpO1xuICAgIGNvbnN0IHdvcmxkUG9zaXRpb24gPSBlbnRpdHkuZ2V0Q29tcG9uZW50T3JDcmVhdGUoV29ybGRQb3NpdGlvbik7XG5cbiAgICBjb25zdCBtYXAgPSBlbmdpbmUucm9vdEVudGl0eS5nZXRDb21wb25lbnQoTWFwRGF0YSk7XG5cbiAgICBjb25zdCBwb3NpdGlvbiA9IGFsaWdubWVudCA9PSBSRURfVEVBTSA/IG1hcC5maW5kUmV2ZXJzZVdhbGthYmxlVGlsZSgpLm5leHQoKSA6IG1hcC5maW5kV2Fsa2FibGVUaWxlKCkubmV4dCgpO1xuXG4gICAgaWYgKHBvc2l0aW9uLnZhbHVlKSB7XG4gICAgICB3b3JsZFBvc2l0aW9uLnggPSBwb3NpdGlvbi52YWx1ZS54O1xuICAgICAgd29ybGRQb3NpdGlvbi55ID0gcG9zaXRpb24udmFsdWUueTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEJhc2VBSSB9IGZyb20gXCIuL0FJL0Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIEFJU3lzdGVtIHtcbiAgY3VycmVudFRpbWUgPSAwO1xuICBib3RzITogQ29tcG9uZW50R3JvdXA7XG5cbiAgYWN0aXZhdGUoZW5naW5lOiBFbmdpbmUpIHtcbiAgICB0aGlzLmJvdHMgPSBlbmdpbmUuZ2V0Q29tcG9uZW50R3JvdXAoQmFzZUFJKTtcbiAgfVxuXG4gIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgdGhpcy5jdXJyZW50VGltZSArPSBkdDtcblxuICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLmJvdHMuZW50aXRpZXMpIHtcbiAgICAgIGNvbnN0IGFpID0gZW50aXR5LmdldENvbXBvbmVudE9yTnVsbChCYXNlQUkpO1xuICAgICAgaWYgKGFpKSB7XG4gICAgICAgIGFpLnN0cmF0ZWd5LnRpY2soZW50aXR5LCB0aGlzLmN1cnJlbnRUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IG9uTmV3Q2hhcmFjdGVyT2JzZXJ2YWJsZSwgQ2hhcmFjdGVyIH0gZnJvbSBcInNkay9Db21wb25lbnRzL0NoYXJhY3RlclwiO1xuaW1wb3J0IHsgc2V0QXJjaGV0eXBlcyB9IGZyb20gXCIuL3NldHVwQ2hhclwiO1xuaW1wb3J0IHtcbiAgc2VuZE1lc3NhZ2VPYnNlcnZhYmxlLFxuICBvbk1lc3NhZ2VPYnNlcnZhYmxlLFxuICBvbkRpc2Nvbm5lY3Rpb24sXG59IGZyb20gXCJzZGsvQ29tcG9uZW50cy9Db25uZWN0aW9uXCI7XG5pbXBvcnQgeyBsb2FkQ2hhcmFjdGVyRnJvbUFyY2hldHlwZSB9IGZyb20gXCJzZGsvRnVuY3Rpb25zL0hlbHBlcnNcIjtcbmltcG9ydCB7IFRlYW1Sb3VuZHNTeXN0ZW0gfSBmcm9tIFwiLi9Sb3VuZHNcIjtcbmltcG9ydCB7IEFJU3lzdGVtIH0gZnJvbSBcIi4vQUlcIjtcbmltcG9ydCB7IFJFRF9URUFNLCBCTFVFX1RFQU0gfSBmcm9tIFwiLi9BbGlnbm1lbnRzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydFRlYW1zTW9kZSgpIHtcbiAgb25OZXdDaGFyYWN0ZXJPYnNlcnZhYmxlLmFkZCgoY2hhcikgPT4ge1xuICAgIHNldHVwQ2hhcihjaGFyKTtcblxuICAgIHNlbmRNZXNzYWdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe1xuICAgICAgY29ubmVjdGlvbklkczogW2NoYXIuY29ubmVjdGlvbiEuY29ubmVjdGlvbklkXSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgQ29uc29sZU1lc3NhZ2U6IHtcbiAgICAgICAgICBtZXNzYWdlOiBcIldlbGNvbWUgdG8gdGhlIFRFQU0gbW9kZSBnYW1lIHNlcnZlciwgcGxlYXNlIGNob3NlIGEgdGVhbVwiLFxuICAgICAgICAgIGNvbG9yOiAweDAwZmYwMCxcbiAgICAgICAgfSxcbiAgICAgICAgU2VsZWN0Q2hhcmFjdGVyOiB7fSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0pO1xuXG4gIG9uRGlzY29ubmVjdGlvbi5hZGQoKHsgZW50aXR5IH0pID0+IHtcbiAgICBlbmdpbmUucmVtb3ZlRW50aXR5KGVudGl0eSk7XG4gIH0pO1xuXG4gIG9uTWVzc2FnZU9ic2VydmFibGUuYWRkKCh7IGVudGl0eSwgZGF0YSB9KSA9PiB7XG4gICAgaWYgKGRhdGEuUmVxdWVzdENoYXJhY3Rlckxpc3QpIHtcbiAgICAgIHNlbmRNZXNzYWdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe1xuICAgICAgICBjb25uZWN0aW9uSWRzOiBbZGF0YS5SZXF1ZXN0Q2hhcmFjdGVyTGlzdC5jb25uZWN0aW9uSWRdLFxuICAgICAgICBkYXRhOiB7IFNlbGVjdENoYXJhY3Rlcjoge30gfSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChkYXRhLlNlbGVjdENoYXJhY3Rlcikge1xuICAgICAgaWYgKGVudGl0eSBpbnN0YW5jZW9mIENoYXJhY3Rlcikge1xuICAgICAgICBsb2FkQ2hhcmFjdGVyRnJvbUFyY2hldHlwZShlbnRpdHksIGRhdGEuU2VsZWN0Q2hhcmFjdGVyLmlkKTtcbiAgICAgICAgaWYgKGRhdGEuU2VsZWN0Q2hhcmFjdGVyLmFsaWdubWVudCA9PSBSRURfVEVBTS5pZCkge1xuICAgICAgICAgIGVudGl0eS5hZGRDb21wb25lbnRPclJlcGxhY2UoUkVEX1RFQU0pO1xuICAgICAgICAgIGVudGl0eS5ib2R5LmNvbG9yID0gUkVEX1RFQU0uY29sb3I7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS5TZWxlY3RDaGFyYWN0ZXIuYWxpZ25tZW50ID09IEJMVUVfVEVBTS5pZCkge1xuICAgICAgICAgIGVudGl0eS5hZGRDb21wb25lbnRPclJlcGxhY2UoQkxVRV9URUFNKTtcbiAgICAgICAgICBlbnRpdHkuYm9keS5jb2xvciA9IEJMVUVfVEVBTS5jb2xvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgZW5naW5lLmFkZFN5c3RlbShuZXcgVGVhbVJvdW5kc1N5c3RlbSgpKTtcbiAgZW5naW5lLmFkZFN5c3RlbShuZXcgQUlTeXN0ZW0oKSk7XG59XG5cbmZ1bmN0aW9uIHNldHVwQ2hhcihjaGFyOiBDaGFyYWN0ZXIpIHtcbiAgLy8gbG9hZCBiYXNlIGFyY2hldHlwZXNcbiAgc2V0QXJjaGV0eXBlcyhjaGFyLCBbUkVEX1RFQU0sIEJMVUVfVEVBTV0pO1xufVxuIiwiXG5pbXBvcnQgeyBzdGFydFRlYW1zTW9kZSB9IGZyb20gXCJzcmMvQXJkdXpcIjtcbmltcG9ydCB7IHN0YXJ0QmFzZVN5c3RlbXMsIHN0YXJ0U2VydmVyIH0gZnJvbSBcImFyZHV6LXNka1wiO1xuXG5zdGFydFNlcnZlcihhc3luYyAoKSA9PiB7XG4gIGF3YWl0IHN0YXJ0QmFzZVN5c3RlbXMoKVxuICBhd2FpdCBzdGFydFRlYW1zTW9kZSgpXG4gIGxvZygnaGlhJylcbn0pO1xuXG4iXX0="
  }
]